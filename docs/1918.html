<html>
<head>
<title>How to Make Ransomware with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python制作勒索软件</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-to-make-a-ransomware-with-python-c4764f2014cf?source=collection_archive---------0-----------------------#2022-02-27">https://infosecwriteups.com/how-to-make-a-ransomware-with-python-c4764f2014cf?source=collection_archive---------0-----------------------#2022-02-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="addb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">免责声明:</strong> <br/>本教程只是出于教育目的，不要试图破坏除你之外的任何计算机。如果你试图制作真正的勒索软件，你就违反了法律，你会坐牢的。</p><p id="b26d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天我将向你解释如何制作勒索软件，以及如何使用python语言。</p><h2 id="dcbe" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated"><strong class="ak">什么是勒索软件？</strong></h2><p id="8653" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">它就像其他恶意软件或计算机病毒，但只有一个目的，加密你的数据，为你制造赎金。你的数据是用非对称加密加密的，病毒只是用公钥加密。有一个私钥可以解密你的数据，但是你知道攻击者不会把私钥附加到病毒上。</p><h2 id="a2e1" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">准备制作勒索软件</h2><p id="a56d" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">在你建立一个程序之前，你必须知道它将会是什么，它将会做什么。这是我的清单，你可以用你自己的清单。</p><ol class=""><li id="b8a8" class="lj lk iq jp b jq jr ju jv jy ll kc lm kg ln kk lo lp lq lr bi translated">该计划应该是一个可执行文件和图标像一个文档文件。</li><li id="7d4f" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">程序必须用公钥加密数据</li><li id="0ef6" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">加密后程序必须删除原文件，用“<strong class="jp ir"> .L0v3sh3 </strong>”更改加密文件扩展名，哈哈。我喜欢这个扩展</li><li id="e472" class="lj lk iq jp b jq ls ju lt jy lu kc lv kg lw kk lo lp lq lr bi translated">该程序必须显示一个带有倒计时定时器的弹出消息。</li></ol><p id="8fac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我写过关于我们需要什么来构建勒索软件的文章。如果你想要更多的解释，就看看我的上一篇文章。</p><div class="lx ly gp gr lz ma"><a href="https://python.plainenglish.io/encrypt-message-with-python-using-asymmetric-encryption-82e3810d349d" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">使用非对称加密使用Python加密消息</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">关于如何用Python使用非对称加密来加密消息的指南。</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">python .平原英语. io</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo mp ma"/></div></div></a></div><div class="lx ly gp gr lz ma"><a href="https://python.plainenglish.io/upgrade-my-python-file-organizer-script-with-advanced-features-229d8a14802e" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">使用懒人的Python文件管理器脚本在智能手机上组织文件</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">我的Python文件管理器脚本的升级，具有在智能手机上组织文件的高级功能。</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">python .平原英语. io</p></div></div><div class="mj l"><div class="mq l ml mm mn mj mo mp ma"/></div></div></a></div><div class="lx ly gp gr lz ma"><a href="https://python.plainenglish.io/organize-files-with-lazy-man-and-python-1521ec482a70" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">使用Python以懒人的方式组织文件</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">用Python轻松组织文件。</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">python .平原英语. io</p></div></div><div class="mj l"><div class="mr l ml mm mn mj mo mp ma"/></div></div></a></div></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h2 id="bc22" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">开发程序</h2><p id="7ca4" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated"><strong class="jp ir">步骤1 —生成私有&amp;公钥</strong></p><p id="c844" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上一篇文章中，我解释了如何制作一个python程序来生成私钥和公钥。</p><figure class="mz na nb nc gt nd"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="mz na nb nc gt nd gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/7708fed86efbba23bc63daabd168ab99.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*_DDa6RiGiMeuTQMoy3yekQ.png"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">文件列表</figcaption></figure><p id="a432" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行完genKey.py后，有两个文件，<strong class="jp ir"> private.pem </strong>和<strong class="jp ir"> public.pem </strong>。<br/>安全保存您的private.pem。</p><p id="5a75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤2——对公钥进行编码</strong></p><p id="3ca2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编码的主要目的是使公钥难以被静态恶意软件分析识别。<br/>因此，我用<strong class="jp ir"> base64 </strong>对公钥进行编码，并将其附加到我的代码中。</p><p id="7f30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在python脚本中，您可以使用以下脚本:</p><pre class="mz na nb nc gt nm nn no np aw nq bi"><span id="63a2" class="kl km iq nn b gy nr ns l nt nu">import base64</span><span id="c179" class="kl km iq nn b gy nv ns l nt nu">code = "aGkgZnJpZW5kcywgdGhpcyBpcyBiYXNlNjQgZW5jb2Rpbmc=" <br/>print(base64.b64decode(code))</span></pre><p id="86a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，您可以对您的私钥进行编码，然后在python脚本中对其进行解码。</p><pre class="mz na nb nc gt nm nn no np aw nq bi"><span id="bed3" class="kl km iq nn b gy nr ns l nt nu">import base64</span><span id="e088" class="kl km iq nn b gy nv ns l nt nu">with open('public.pem', 'rb') as f:<br/>    public = f.read()</span><span id="f1c9" class="kl km iq nn b gy nv ns l nt nu">print(base64.b64encode(public))</span></pre><p id="a4c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第3步—加密目录中某些文件的python脚本</strong></p><p id="b0ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我从上一篇关于用python组织文件的文章中得到的想法。</p><pre class="mz na nb nc gt nm nn no np aw nq bi"><span id="4693" class="kl km iq nn b gy nr ns l nt nu">def scanRecurse(baseDir):<br/>    for entry in os.scandir(baseDir):<br/>        if entry.is_file():<br/>            yield entry<br/>        else:<br/>            yield from scanRecurse(entry.path)</span></pre><p id="7674" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的函数是一个递归函数，用于扫描目录并获得一堆列出路径的文件。然后，我们使用加密功能，并运行它与我们的文件列表之前。下面是测试函数，以确保该函数正常工作。</p><figure class="mz na nb nc gt nd"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b831" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于解密函数，您可以使用我之前的脚本。</p><p id="2221" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nw" href="https://gist.githubusercontent.com/febimudiyanto/fb00a34415b73e74cd088dfcaed6e340/raw/55bbea86cff300e294e8952dd30e19662f5f4908/decryptFile.py" rel="noopener ugc nofollow" target="_blank">https://gist . githubusercontent . com/febimudiyanto/fb00a 34415 b 73 e 74 CD 088 dfcaed 6 e 340/raw/55 bbea 86 CFF 300 e 294 e 8952 DD 30 e 19662 f 5f 4908/decrypt file . py</a></p><p id="a741" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">让我们扫描文件，加密，然后改变扩展名。</strong></p><figure class="mz na nb nc gt nd"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="7a2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了测试，我想用这个程序的父目录来扫描和加密这个脚本。</p><p id="08c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是我运行恶意软件前的目录:</p><figure class="mz na nb nc gt nd gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/6c6e0c2b76c392edcf63e863042ffad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*oqdo3QC6fnOEBa5yitEmBw.png"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">运行恶意软件前我的目录</figcaption></figure><figure class="mz na nb nc gt nd gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/91bd14e2aebfc42fb01372db97995dc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*csKtPzH8Ey-2pSrLzkbrGg.png"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">parent.txt的内容</figcaption></figure><figure class="mz na nb nc gt nd gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/16459893da777bf4b083f33d8124a93e.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*rlhvi7pJH0zfz6DvLvJ5ug.png"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">testFile.txt的内容</figcaption></figure><p id="e3e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是我运行恶意软件后的目录:</p><figure class="mz na nb nc gt nd gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/bbed367b69c2bd914293ecd76aea829e.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*4AwB4_SihXXMERFguPaKsg.png"/></div></figure><figure class="mz na nb nc gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ob"><img src="../Images/e6baa505d50a2c949345d787a07001ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4wxKW6efBo2BE2C91iHa1Q.png"/></div></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">运行程序后parent.txt的内容</figcaption></figure><figure class="mz na nb nc gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi og"><img src="../Images/57093ddc26aa6e2d69e2f3dfc3d0b334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HYI6t69AKr2MtF2DzV_ASw.png"/></div></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">运行程序后testFile.txt的内容</figcaption></figure><p id="e5ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们能够制作一个加密文件和改变文件扩展名的python程序。</p><p id="f92a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤4——加密完成后的倒计时和消息</strong></p><p id="956f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只要复制我的脚本，并将其粘贴到恶意软件脚本的结尾。</p><figure class="mz na nb nc gt nd"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="14c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">最后一步——用auto-py-to-exe构建一个可执行文件</strong></p><p id="1104" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不能向你解释更多，但你可以阅读这篇文章，<a class="ae nw" href="https://dev.to/eshleron/how-to-convert-py-to-exe-step-by-step-guide-3cfi" rel="noopener ugc nofollow" target="_blank">https://dev . to/eshloron/how-to-convert-py-to-exe-step-by-step-guide-3c fi</a></p><p id="465c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那是非常详细的解释。</p><h2 id="c407" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">奖金</h2><p id="6b9c" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">这是我的完整脚本，只是复制它，但不要忘记理解你写的东西。</p><div class="lx ly gp gr lz ma"><a href="https://github.com/febimudiyanto/python-project/tree/main/simple-ransomware" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">python-project/simple-ransomware at main febimudiyanto/python-project</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">semua项目python。通过在GitHub上创建一个帐户，为febimudiyanto/python项目开发做出贡献。</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">github.com</p></div></div><div class="mj l"><div class="oh l ml mm mn mj mo mp ma"/></div></div></a></div><h2 id="5341" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">启动勒索软件</h2><figure class="mz na nb nc gt nd gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi oi"><img src="../Images/cefba862c8a2e10ca0a6ff5aee623ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aSHBiU2-8q4d-5i8E4_8fg.gif"/></div></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">测试运行勒索软件</figcaption></figure><p id="844c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">抱歉，我在倒计时计时器:D的错别字</p><h2 id="b602" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">结论</h2><p id="fce6" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">这是一个可怕的项目，对不对？<br/>执行程序时要小心，确保更改了目录，并在虚拟机/实验室中尝试。</p><p id="5ea6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用我的程序你可以逆向修改，解密<strong class="jp ir"> .L0v3sh3 </strong>文件。只需改变加密功能与解密与一些逻辑。</p><p id="5efc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了缓解这种情况，该勒索软件从未信任过该文件。如果您使用Windows作为操作系统，请始终打开扩展视图，以便您可以区分哪个可执行文件或文档文件。</p><p id="3377" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读。</p><h2 id="4fe7" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">更新—2022年11月27日</h2><p id="7062" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">如果搜索解密加密文件，请看我上面的github(在奖金环节)。<br/>我还放了私钥和公钥，还有<strong class="jp ir"> decryptor.py </strong>让你更方便。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="5c95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Infosec Writeups团队刚刚完成了我们的第一次虚拟网络安全会议和网络活动。我们有16位出色的演讲者，他们主持了非常有价值和鼓舞人心的会议。要查看演讲者和主题列表，请点击此处。</p><div class="lx ly gp gr lz ma"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">IWCon2022 — Infosec书面报告虚拟会议</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">iwcon.live</p></div></div><div class="mj l"><div class="oj l ml mm mn mj mo mp ma"/></div></div></a></div></div></div>    
</body>
</html>