<html>
<head>
<title>Write-Up 10- TryHackMe- Linux Challenges Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10篇文章- TryHackMe- Linux挑战第2部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/write-up-10-tryhackme-linux-challenges-part-2-d0e487ce932d?source=collection_archive---------0-----------------------#2020-08-02">https://infosecwriteups.com/write-up-10-tryhackme-linux-challenges-part-2-d0e487ce932d?source=collection_archive---------0-----------------------#2020-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="225d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章是Linux挑战赛的<strong class="js iu"> P </strong> <a class="ae ko" href="https://medium.com/bugbountywriteup/write-up-10-tryhackme-linux-challenges-74408715ece4" rel="noopener"> <strong class="js iu"> art1 </strong> </a>的延续</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/b5f4e692dc95a58b7736141439633e62.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/0*DrA5SDh7MEd1i7z2.jpeg"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">TryHackMe: Linux挑战</figcaption></figure></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><p id="393a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以从我们上一部分离开的地方继续。如果你觉得理解有困难，你可以在这里查看<a class="ae ko" href="https://medium.com/bugbountywriteup/write-up-10-tryhackme-linux-challenges-74408715ece4" rel="noopener"><strong class="js iu">part 1</strong></a></p><h2 id="71e5" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">[任务4]数据表示、字符串和权限</h2><p id="2f37" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">这一节将主要关注数据在Linux系统上是如何表示的。除此之外，不要忘记使用搜索技巧，因为有些任务可能需要使用谷歌或任何其他参考资料进行独立研究。</p><p id="8e8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们在爱丽丝目录中找到了我们的<strong class="js iu"> Flag20 </strong>。当我们捕捉输出时，我们发现内容是使用base64编码的，我们需要解码它。如下所示，我们可以通过查看字符集[A-Z，A-Z，0–9，+ /]来识别某个字符串是否是用base64编码的。因此，让我们解码字符串以获得我们的标志。使用以下命令解码<strong class="js iu"> cat flag20 | base64 —解码</strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/74ae3b6c0c957cff9dbed5658085c1ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*m_VL98zCNU8CBwehWZE1DA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">解码字符串以找出标志20</figcaption></figure><p id="88df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">继续我们的下一个<strong class="js iu">标志21。</strong>这个标志是一个PHP文件，通过使用<strong class="js iu"> less </strong>命令，我们找到了我们的标志，如下所示。<strong class="js iu">少</strong>基本上一次输出一页文件的内容，类似于<strong class="js iu">多</strong>但功能更多</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/951f41eafb187c170dab78d292542f96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*g4nO4Fxqx2TyVcMGKUZLtw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">旗帜21</figcaption></figure><p id="681f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们输出我们的<strong class="js iu"> Flag22，</strong>的内容时，输出是十六进制格式。我们需要将它转换成如下所示的ASCII码。<strong class="js iu"> xxd </strong>创建文件的十六进制转储，并将十六进制转储转换回其原始二进制</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/d76ee0ccccf2c475b9f51bd42f1c1355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VivUh6usdVWDou1z9mlCCA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">旗帜22</figcaption></figure><p id="f1b8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过颠倒在Flag23内容中找到的字符串的顺序，很容易找到Flag23 ,如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/4835c0a92d334eb4d886a52b33e33246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*Z93qbeh-9OBrHn-ErGmlfw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">反向字符串</figcaption></figure><p id="8e1c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> Flag24 </strong>是一个c程序文件。我们将使用命令<strong class="js iu">字符串</strong>，以便显示人类可读的字符串</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/1fee0d82f71f03c809b310bbb43c988f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*qrKlgM6qaQg1jCmNmV9n9w.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">用于人类可读输出的字符串命令</figcaption></figure><p id="9dd7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们使用字符串命令之后，我们得到了我们的<strong class="js iu"> Flag24 </strong>，如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mp"><img src="../Images/0bd9673c0bc1d4b5f304d34b18a0c07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*Y1I7pSqDtvrwIXNUCqGV7A.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">标志24</figcaption></figure><p id="b3e2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">根据任务挑战<strong class="js iu">标志25 </strong>不存在，因此我们将转到下一个，即<strong class="js iu">标志26。</strong></p><p id="e3cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">定位flag26有点困难，因为我们需要找到一个32个字符长、以4bceb开头的字符串。因此，这里我们将结合使用find命令和grep，如下所示。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mq"><img src="../Images/c63de110ff1f06edfb988e01ffde4e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vziJbrrthLsOlSfbicd9sA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">标志26</figcaption></figure><p id="104e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">继续我们的下一个<strong class="js iu">标志27。Flag27 </strong>由root用户拥有，因此我们需要知道是否允许Alice执行某些命令来提取Flag27的输出。所以这里我们使用Sudo -l，它会告诉我用户Alice可以执行哪些命令，如下所示。因此，运行root用户Alice允许的命令，我们得到我们的F <strong class="js iu"> lag27 </strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mr"><img src="../Images/a16c8cd223444353a46303f04f1c8d2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NhNF-A_IYewVvVyftLR61A.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">旗帜27</figcaption></figure><p id="d9cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们需要找到可以使用uname命令获得的内核版本，如下所示。uname用于显示系统版本、操作系统等信息。<strong class="js iu"> -r </strong>标志显示内核版本，如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/ea3cd3c73b58eb74044f460af7c65a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*R3U-zStDTpnOPi9QNoEkWA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">内核发布信息</figcaption></figure><p id="c4d8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要删除文件和行中的所有空格，用逗号将它们分开，以获得我们的最终标志，即该部分的Flag29。如下图所示，<strong class="js iu"> tr </strong>用于翻译或删除字符，在我们的例子中是空格</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/e21270cf4c97af879032f0016720d57b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*FIMpfobJXkL04B7G7JPBSQ.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">使用tr删除空格</figcaption></figure><p id="ce7d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦空格被删除，我们可以得到我们的<strong class="js iu">标志29 </strong>，如下图所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/0a15575fcaa0b03320eb1be793a52f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*d7hDQv3VNCkX4M0Z4pD4SA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">旗帜29</figcaption></figure><h2 id="552c" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">[任务5] SQL、FTP、组和RDP</h2><p id="f09e" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">这项任务的挑战包括通过寻找标志，下载和传输文件到您的本地系统玩数据库。所以让我们开始吧</p><p id="391f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要为当前任务找到第一个标志，即标志30。我们需要查找本地主机上运行的任何服务。命令curl在这里会派上用场。curl是一个工具，用于使用不同的支持协议向服务器传输数据或从服务器传输数据。在当前场景中使用curl，我们可以找到我们的旗帜</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/cfb7753b3fbac497ff20490988cb6a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*h2YNdEIpQ0beM_6Q6kEKVQ.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">旗帜31</figcaption></figure><p id="ea45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了找到我们的Flag31，我们需要登录数据库。数据库的凭据已经给定。登录数据库，使用命令<strong class="js iu">显示数据库；</strong>它将列出整个数据库，在这里我们找到了<strong class="js iu"> Flag31 </strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mw"><img src="../Images/5c1e561531918bf299f294b02b83c886.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJAqcaIBlHn0iBu621j3Tw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">数据库中的标志31</figcaption></figure><p id="6bce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数据库中隐藏着一个奖金标志。为此，我们导航到前面找到的数据库。在该数据库下有一个名为<strong class="js iu"> flag </strong>的表格，让我们访问它来找到我们的奖金标志，如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/4009ed02e077d1b51a5928d34b81dbf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*-0LlLA_OGFolJPJuZvvC7w.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">数据库中的奖金标志</figcaption></figure><p id="c735" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一个标志是一个mp3文件，需要下载到我们的本地系统，看看里面有什么。我们可以使用SCP(安全拷贝)或Filezilla下载。我更喜欢用SCP。你可以通过谷歌搜索找到SCP的语法</p><p id="f9e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们通过导航到获得我们的<strong class="js iu">标志33 </strong>。存储个人路径的配置文件，如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi my"><img src="../Images/eb15fbc239c00f8a5dc72f8dba1431d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XEoqQEHCdUDr1lRCadVMIg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">旗帜33</figcaption></figure><p id="d669" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们切换到鲍勃的帐户，使用<strong class="js iu"> env </strong>或<strong class="js iu"> printenv </strong>输出环境变量，这将打印所有的环境变量，如下所示。我们在这里找到了我们的旗帜</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mz"><img src="../Images/a9aaae4d7e05ba9f2f0784d1445e86b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uA7gRvM-ddy1f8hynGjzSw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">在环境变量中找到Flag34</figcaption></figure><p id="038d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们需要查看在系统上创建所有组的位置。使用<strong class="js iu"> getent group </strong>命令来实现这一点，请注意，我将grep与该命令结合使用，以便获得特定的结果。我们发现我们的标志35如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi na"><img src="../Images/2c9b2c138ad700b29feb0df1ac1c074f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*YmoV9L2YkIVmAMq8P6e9jg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">标志35</figcaption></figure><p id="680b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这一部分的最后一个标志与前面的命令相关。在这个具有挑战性的任务中，我们需要找到<strong class="js iu">黑客组织</strong>中的用户。通过这个，我们将得到我们最后的旗帜。我们使用与显示系统上所有组相同的命令，并导航到特定用户以找到我们的Flag36，如下所示</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/244db22620a7151e061ea2dbc6a86a90.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*ZFf0Wh-xaydkOrTeOX1neg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">标志36</figcaption></figure><h2 id="ee7f" class="li lj it bd lk ll lm dn ln lo lp dp lq kb lr ls lt kf lu lv lw kj lx ly lz ma bi translated">结束语</h2><p id="08ee" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">我们的Linux挑战到此结束。这个挑战包含了系统管理员、道德黑客、Pentesters等经常使用的Linux命令。如果你想学习更多关于Linux命令、工具、服务和文件系统的知识，请加入<a class="ae ko" href="https://tryhackme.com/room/zthlinux" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">学习Linux</strong></a>Room on<strong class="js iu">TryHackMe</strong>。</p><p id="5b29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我希望你喜欢这篇文章。如果你在寻找更多的练习，并对你刚刚学到的Linux技能感到舒适，那么就跳进<a class="ae ko" href="https://tryhackme.com/room/kenobi" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> Kenobi </strong> </a>吧，这也是一个基于Linux的易受攻击的盒子，可以在TryHackMe平台上找到，在那里你可以测试你的技能。你可以在这里跟随<a class="ae ko" href="https://medium.com/infosec-beacon/write-up-09-tryhackme-kenobi-afc2dccd40a2" rel="noopener"> <strong class="js iu">克诺比写/走</strong> </a>，直到那时继续练习快乐黑客；)</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="9675" class="nc lj it bd lk nd ne nf ln ng nh ni lq nj nk nl lt nm nn no lw np nq nr lz ns bi translated">关于我</h1><p id="0858" class="pw-post-body-paragraph jq jr it js b jt mb jv jw jx mc jz ka kb md kd ke kf me kh ki kj mf kl km kn im bi translated">我是一名网络安全爱好者，正在攻读信息安全硕士学位，并试图进入全职网络安全职业生涯。您可以点击这里阅读更多文章和演练<a class="ae ko" href="https://medium.com/@anon_7" rel="noopener"/></p></div></div>    
</body>
</html>