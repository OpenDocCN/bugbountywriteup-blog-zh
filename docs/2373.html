<html>
<head>
<title>Try Hack Me: Basic Pentesting Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">尝试破解我:基本测试演练</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/try-hack-me-basic-pentesting-walkthrough-a70b85308b0a?source=collection_archive---------3-----------------------#2022-09-17">https://infosecwriteups.com/try-hack-me-basic-pentesting-walkthrough-a70b85308b0a?source=collection_archive---------3-----------------------#2022-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="05c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我决定写的第二个演练，与第一个不同，这与我的主要兴趣pentest有更多的关系。</p><p id="dfbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我在完成这个房间和写这篇文章的过程中得到了很多乐趣。</p><p id="19f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个房间给那些像我一样开始的人一个机会，在pentest的真实场景中应用所学。</p><p id="436d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望这篇小文能对别人有用。=D</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/c397792837f6bdf698ff893f384db42a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ie6lEAlAQ_n2DB1L.png"/></div></div></figure><h1 id="39bb" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">任务1</h1><blockquote class="lv lw lx"><p id="98cf" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.1 —部署机器并连接到我们的网络</strong></p></blockquote><p id="d80e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个问题不需要回答。</p><blockquote class="lv lw lx"><p id="5237" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.2 —找到机器公开的服务</strong></p></blockquote><p id="a400" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这也不需要回答，但为了完成所提问题，我们需要遵循以下步骤:</p><p id="4e98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤1:使用命令在目标的IP地址上运行nmap:</strong></p><blockquote class="mc"><p id="1eb3" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">nmap“目标IP”</p></blockquote><p id="7ec3" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated"><strong class="jp ir">第2步:查看结果，查看开放端口上运行的服务。</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/8d728f16f2fa6767c1da69f1655540ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7uVX9TUUYAjVVjAj"/></div></div></figure><p id="1440" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">留着以后用吧！</p><blockquote class="lv lw lx"><p id="05fe" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir">1.3—web服务器上隐藏目录的名称是什么(输入不带/)的名称？</strong></p></blockquote><p id="73e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这项任务，我们只需要使用一些目录暴力工具，如dirb，dirbuster，gobuster或任何其他你编程。</p><p id="eac3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我喜欢gobuster，因为我觉得它更容易使用线程。</p><p id="6e0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">步骤1:在目标上运行gobuster，使用一些常用目录的单词表。</p><p id="c28c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我用过的单词表:</p><p id="db5a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ms" href="https://github.com/danielmiessler/SecLists/blob/master/Discovery/Web-Content/directory-list-2.3-small.txt" rel="noopener ugc nofollow" target="_blank">https://github . com/danielmiessler/sec lists/blob/master/Discovery/we B- Content/directory-list-2.3-small . txt</a></p><p id="f8f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用下面的命令:</p><blockquote class="mc"><p id="4c3b" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">gobuster-u<a class="ae ms" href="http://10.10.26.50" rel="noopener ugc nofollow" target="_blank">http://10 . 10 . 26 . 50</a>-w directory-list-2.3-small . txt dir</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/4a7f282ef10038fb63be15d331288c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4arm4nzdT1_DTnj7"/></div></div></figure><p id="e501" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我停在第一个目录上，因为它是答案。</p><blockquote class="lv lw lx"><p id="ce1c" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> Anwser:开发</strong></p></blockquote></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="8bd4" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.4 —用户强行找到用户名&amp;密码</strong></p></blockquote><p id="bdd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个问题也不需要回答，但是这个过程会在接下来的问题中帮助我们。</p><p id="2b40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一步:让我们看看隐藏目录。</p><p id="a051" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两个文件。txt，每一条都告诉我们有用的信息。</p><ul class=""><li id="f54f" class="ng nh iq jp b jq jr ju jv jy ni kc nj kg nk kk nl nm nn no bi translated">系统使用Apache 2 . 4 . 18；</li><li id="7455" class="ng nh iq jp b jq np ju nq jy nr kc ns kg nt kk nl nm nn no bi translated">两个文件都向我们展示了两个用户的缩写，J和K；</li><li id="08b0" class="ng nh iq jp b jq np ju nq jy nr kc ns kg nt kk nl nm nn no bi translated">第一个dev.txt显示系统使用的是SMB</li><li id="62cb" class="ng nh iq jp b jq np ju nq jy nr kc ns kg nt kk nl nm nn no bi translated">第二个显示用户J的密码最弱。</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nu"><img src="../Images/b17be82907368fa7e629ae315d9848bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vtYlOC6hFxUjMVl_"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/87a053efa203805d58d82786f100925a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LBCLTxGw4ovLzX_f"/></div></div></figure><p id="47f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二步:使用enum4linux工具对系统进行枚举。</p><p id="cebe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">知道了系统使用的是Samba (SMB)，我们就可以使用enum4linux这个很有用的枚举Windows和Samba系统。</p><p id="8e99" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">命令是:enum 4 Linux“IP target”，为了找到用户，只需添加-U，</p><blockquote class="mc"><p id="dae0" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">enum4linux“目标IP”-U</p></blockquote><p id="a544" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">现在我们知道用户了。</p><p id="f348" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">凯和简。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/f4f2e78c087b6d75c90107e592f0d130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AjyRYDaxRtCNf-Tr"/></div></div></figure><p id="99b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第三步:使用九头蛇蛮力。</strong></p><p id="1e8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了用户，我们可以用他们来暴力破解密码。</p><p id="9a76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们从j.txt中得到的一个提示是，以字母J开头的用户有一个较弱的密码，所以我们只需要使用Hydra暴力破解jan用户的密码。</p><p id="6c56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是在哪里？</p><p id="ea6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们通过nmap获得的服务中，我们可以看到ssh正在服务器上运行，因此让我们使用下面的命令强行运行它:</p><blockquote class="mc"><p id="d9f6" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">九头蛇ssh://10 . 10 . 52 . 201-l Jan-P/usr/share/word lists/rock you . txt</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/b47015a9e577e3adb6cfea375a2258c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X6HwlcPfxY4efUfN"/></div></div></figure><p id="e894" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">搞定了。密码是阿曼多。</p><p id="ccdd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样！让我们进行下一个任务吧！</p><blockquote class="lv lw lx"><p id="29f8" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.5 —用户名是什么？</strong></p><p id="4b5e" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir">答案:jan </strong></p></blockquote></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="61ed" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.6 —密码是什么？</strong></p><p id="b5d9" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir">答案:阿曼多</strong></p></blockquote></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="fd11" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.7 —您使用什么服务来访问服务器(请用大写字母缩写回答)？</strong></p><p id="e61c" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir">答案:宋承宪</strong></p></blockquote></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="c267" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.8 —枚举机器以查找特权提升的任何向量</strong></p></blockquote><p id="f06b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个问题不需要回答，但让我们借此机会登录并了解一下system。</p><p id="3c89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤1:现在我们有了jan的用户名和密码，我们可以使用ssh服务登录，命令如下:</strong></p><blockquote class="mc"><p id="1679" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">宋承宪jan@ "目标IP "</p></blockquote><p id="58ac" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">密码:阿曼多</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/d5ef3f9eb968907b6f8a27215356d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iclJbO8Qh8NazaAX"/></div></div></figure><p id="8154" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们进去了。</p><p id="293d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第二步:环顾四周。</strong></p><p id="14db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">走过系统，我们可以找到另一个用户Kay的目录。</p><p id="0c2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在里面，有一个有趣的文件pass.bak应该包含他的密码，但不幸的是，我们没有权限用当前用户读取它。</p><p id="f4e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以…我们需要提升特权。无红利</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/3346e037813c892f28a0b100d95e0633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*INqWQffM_0XdCXES"/></div></div></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="b346" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.8 —你找到的另一个用户的名字是什么(全小写)？</strong></p></blockquote><p id="05c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">关于这一点，我们已经知道了！</p><blockquote class="lv lw lx"><p id="ff79" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir">答案:凯</strong></p></blockquote></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="754e" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir"> 1.9 —如果您找到了另一个用户，您可以如何处理这些信息？</strong></p></blockquote><p id="581c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个问题不需要回答。</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><blockquote class="lv lw lx"><p id="1334" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated">1.10 —您获得的最终密码是什么？</p></blockquote><p id="9d73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，我们需要看看凯的档案。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/5e53fa301b9beb459889eeb0371d96b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/0*x5LSi6Yjv0gGzJo9"/></div></figure><p id="9b9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Kay的目录里，还有其他有趣的目录，比如。宋承宪”。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/13f1740a7fe1ddfded09f92466d0283a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*eY0OmU_h5fXssxs4"/></div></figure><p id="e4d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个目录中，我们可以看到我们有权限读取id_rsa文件，该文件包含用于访问ssh服务器的私有密钥。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/ca9e25b83ffc450c00e4daedc3aca5a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/0*2Lm0076i8RXN1ar_"/></div></figure><p id="1888" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们利用这个缺陷来访问用户kay。</p><p id="656e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第一步:读取id_rsa文件获取私钥。</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/0e86df85b0dcce2946678d27bbdbda9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*27ehu85r1Y6XaCKd"/></div></div></figure><p id="fe6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二步:将密钥复制并粘贴到你机器内的一个新文件中。</p><p id="e300" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我认为简单地将文件内容复制并粘贴到一个新文件中比通过服务器发送一份拷贝更容易。</p><p id="7b40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我在我的机器上用nano创建了一个名为pass_kay.txt的新文件，并粘贴了密钥。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/6d8c52c80d3871246acdff54e8f22b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*00GdqXc3k4g4h-jP"/></div></div></figure><p id="65a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们尝试使用这个新文件作为ssh登录的密码，它将被拒绝，因为说这太不安全了。</p><p id="0709" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">发生这种情况是因为文件的排列松散。</p><p id="2446" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们需要限制这个文件的权限。</p><p id="da75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤3:使用命令</strong>更改文件权限</p><blockquote class="mc"><p id="a4a5" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">chmod 600“文件名”</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/74337d2968abc904eeae6d522dd7d6af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*CaFrcqLS3musfA1a"/></div></figure><p id="9d8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第4步:现在我们可以尝试登录，发送这个文件作为密码，使用带参数-i的ssh命令来指定文件。</p><blockquote class="mc"><p id="0c86" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">ssh -i "文件名" kay@ "目标IP "</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/33ae32d072cceb69f9275cd068ee147f.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/0*-8-IHaY-LMQEy5Vg"/></div></figure><p id="073d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是正如你所看到的，它要求我们提供一个密码来保护kay的密钥。</p><p id="5aa1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了得到它，我们需要从文件中提取一个散列，并使用暴力破解它。</p><p id="615b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤5:使用ssh2john.py工具从文件中提取一个hash，命令如下:</strong></p><blockquote class="mc"><p id="c9be" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">python 2/usr/share/John/ssh 2 John . py "带关键字的文件" &gt; "散列文件的名称"。文本文件（textfile）</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oa"><img src="../Images/10d17ddccc265bc32dd3086576068690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BhhYBQdC_MZLRxyx"/></div></div></figure><p id="e49b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第六步:使用约翰工具破解这个杂凑。</strong></p><blockquote class="mc"><p id="853c" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">约翰-单词表:"单词表路径" "哈希文件"</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ob"><img src="../Images/1735780bda906350d5e93eff2c985b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RHkxKOJbFffoWZk6"/></div></div></figure><p id="4d26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们得到了密码，让我们再次登录ssh服务器。</p><p id="5006" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第7步:使用下一个命令登录:</strong></p><blockquote class="mc"><p id="ae6e" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">ssh -i "密钥文件" kay@ "目标IP "</p></blockquote><p id="0424" class="pw-post-body-paragraph jn jo iq jp b jq mm js jt ju mn jw jx jy mo ka kb kc mp ke kf kg mq ki kj kk ij bi translated">通行短语:蜂蜡</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oc"><img src="../Images/96fc15705157d05348636e1400039ec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z-zPqU1Z-u_kfm9K"/></div></div></figure><p id="2ca0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们进去了。！</p><p id="7d9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们来读一下kay的文件pass.bak。</p><p id="620e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第八步:读取文件pass.bak </strong></p><blockquote class="mc"><p id="b7f8" class="md me iq bd mf mg mh mi mj mk ml kk dk translated">cat pass.bak</p></blockquote><figure class="mu mv mw mx my kq gh gi paragraph-image"><div class="gh gi od"><img src="../Images/0a23e3d154f1f044e58144d11751c9c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/0*eXspjHk_vtPydU1H"/></div></figure><p id="80ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样！</p><blockquote class="lv lw lx"><p id="dd37" class="jn jo ly jp b jq jr js jt ju jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj kk ij bi translated"><strong class="jp ir">答:下面是reallystrong password that followsthepassword policy $ $</strong></p></blockquote></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><p id="be51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样！</p><p id="f034" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我为这个令人敬畏的网络安全世界做贡献的小小尝试。</p><p id="4175" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你有任何建议或看到一些错误，请告诉我。</p><p id="865d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我是来学习的，我想在这项任务中有所提高。</p><p id="a7f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读到这里！</p><p id="af4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我能帮你什么，请告诉我！无红利</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h2 id="8c6b" class="oe ky iq bd kz of og dn ld oh oi dp lh jy oj ok ll kc ol om lp kg on oo lt op bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae ms" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>