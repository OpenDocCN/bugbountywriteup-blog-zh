<html>
<head>
<title>XSS to Database Credential Leakage &amp; Database Access — Story of total luck!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从XSS到数据库凭据泄露和数据库访问——全凭运气的故事！</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/xss-to-database-credential-leakage-database-access-story-of-total-luck-77c990be8ab2?source=collection_archive---------1-----------------------#2020-06-06">https://infosecwriteups.com/xss-to-database-credential-leakage-database-access-story-of-total-luck-77c990be8ab2?source=collection_archive---------1-----------------------#2020-06-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0ee647327df8cf08443ffc7471eb342e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6dNidw8MrbEimtN5mpGFdw.png"/></div></div></figure><p id="eeda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您向某些输入解析功能提供恶意javascript代码时，会发生反射式跨站点脚本，由于缺乏净化和过滤，应用程序会将您的恶意代码视为有效输入进行处理，因此通常会给出一个<strong class="ka ir">快乐弹出窗口。</strong></p><p id="b45c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，当它是你的幸运日，只是为了娱乐和学习，你试图增加影响，突然服务器崩溃，揭示了<strong class="ka ir">数据库凭证，你的大脑只说一件事“这是一个神圣的冒险时间”。</strong></p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="0667" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗨，各位黑客和爱好者，今天，我将分享我最近在玩反射XSS时偶然发生的奇怪而幸运的经历。让我们把这个目标叫做<strong class="ka ir">“rededited . com”。</strong></p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="b782" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">应用程序"<strong class="ka ir">redated . com "</strong>在域名<em class="lj">blog.redacted.com的<strong class="ka ir"> Wordpress </strong>上有一个博客网站。</em>当谈到Wordpress时，你可以执行的攻击媒介相对较少，因为它是有限的，并且作为第三方服务，你不能测试每一个功能。足够幸运的是，我用这个简单的有效载荷<strong class="ka ir">&lt;img src = " x " on error = alert(1)&gt;在几分钟内就在搜索栏</strong>中找到了一个<strong class="ka ir">反映的XSS。</strong></p><p id="8386" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就这样？我只是报告它，虽然探索其他领域的应用，但没有运气。我越来越无聊，所以我计划检查一些新的“XSS有效载荷”发现从网上资源和Portswigger学院，看看他们是如何工作的。我刚刚用所有可能的最大线程数<strong class="ka ir">运行了入侵者，即999，然后</strong>走开了。</p><p id="22f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我回来并导航到<strong class="ka ir">“blog . redated . com”</strong>来检查XML-RPC和其他东西时，我发现<strong class="ka ir">应用程序崩溃了，错误消息显示了“包含登录凭证的数据库连接字符串”。</strong></p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk lb l"/></div></figure><p id="ff0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在四处摆弄之后，试图通过“wp-admin”端点登录，没有成功，但我还是报告了。突然间，我再次开始执行递归目录搜索，幸运的是，我发现<strong class="ka ir"> "/server/phpmyadmin" </strong>目录可以公开访问。我访问了端点并找到了<strong class="ka ir"> PhpMyAdmin </strong>登录页面，我使用了从<strong class="ka ir">错误消息和成功登录&amp;中显示的凭证来访问所有数据库。</strong></p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="ll lb l"/></div></figure><p id="353c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迅速添加了评论并更新了我最初的概念验证报告。同一天审判为P1，三天固定。:)</p><p id="bd20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">发生这种情况的可能原因是，在从数据库中搜索和检索数据时，恶意javascript负载可能破坏了MySQL查询字符串逻辑，导致临时错误消息，直到缓存过期。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="99fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">外卖</strong></p><ul class=""><li id="0775" class="lm ln iq ka b kb kc kf kg kj lo kn lp kr lq kv lr ls lt lu bi translated">如果某些功能与数据库交互，并且您发现了该功能的任何缺陷，只要允许，就进行一点点<strong class="ka ir">压力测试。</strong>有时由于处理不当，后端逻辑可能会暂时中断，错误消息可能会透露您感兴趣的信息。</li><li id="60a7" class="lm ln iq ka b kb lv kf lw kj lx kn ly kr lz kv lr ls lt lu bi translated">你永远不知道什么时候是你的幸运日，永远不要停止寻找东西。你一定会成功的。</li></ul><p id="b33c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">如果你喜欢这篇文章，请鼓掌并在推特上关注:D的新帖子、技巧和推文</strong></p><p id="a89b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">推特:https://twitter.com/harshbothra_</p></div></div>    
</body>
</html>