<html>
<head>
<title>Write-Up 03- TryHackMe-Simple CTF</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">特写03-TryHackMe-简单的CTF</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/write-up-03-tryhackme-simple-ctf-e02495e74def?source=collection_archive---------3-----------------------#2020-06-08">https://infosecwriteups.com/write-up-03-tryhackme-simple-ctf-e02495e74def?source=collection_archive---------3-----------------------#2020-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/fb873eb8b8ad8f951253f6982dd1cdc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZcLxpFb2nATe72LYiTGFJg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">初级CTF</figcaption></figure><h1 id="120c" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">介绍</h1><p id="65aa" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">这篇文章是关于TryHackMe平台上的一个简单的CTF挑战。这是一个初级水平的CTF。对于所有初学者和想了解CTF的人来说，这个房间对你们来说是完美的。我们将解决并完成所有给定的任务/挑战。所以让我们开始吧！！！</p><p id="0aac" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">页（page的缩写）s:我强烈建议你们，伙计们，首先试着自己解决这些挑战，如果你们遇到了困难，可以过来看看这个演练</p><h1 id="f863" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务1</h1><p id="333d" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">任务1.1- 1.2:首先部署机器。我们需要对机器运行Nmap扫描，以便知道哪些端口是打开的，哪些服务在这些端口上运行。我将使用积极的Nmap扫描</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mh"><img src="../Images/1015c8064179113677297893e5d303ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*USbA5S__k3wPA_iC7ki9iQ.png"/></div></div></figure><p id="fc9c" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">通过分析上面的Nmap扫描，我们现在知道了主机上运行的端口数量及其相关服务。因此，我们有2个服务在端口1000下运行，ssh服务在更高的端口上运行。</p><h1 id="8393" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务3</h1><p id="cb73" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">我们看到我们有一个匿名的ftp登录，让我们尝试登录，看看我们是否能找到什么。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/6da741165466323f02be54e5295a8994.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*0a7BUJgbsyxx6nkwe51_Og.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">匿名FTP登录</figcaption></figure><p id="2389" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">似乎我们没有从FTP登录中得到任何信息。让我们继续，通过web浏览器访问机器IP，因为我们的Nmap扫描显示在端口80上运行着web服务</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/4ff15292c45f50fb21bc5cb240e8d970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xMkoKA2CjQmJ1bILwSwlfA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">在网络浏览器上访问网络服务</figcaption></figure><p id="95b0" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">似乎我们只看到一个apache web服务器在主机上运行，所以我们需要深入挖掘，找出任何其他隐藏的目录。为此，让我们使用go buster，它通过执行字典攻击并检查得到的响应来查找隐藏的目录。点火<strong class="lf iu">去巴斯特</strong>并检查结果</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mo"><img src="../Images/ef434bd8659e2a7ceba29eae0c1c4b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S6tS87O1Jkmt3yImaE1zGA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Gobuster查找隐藏目录</figcaption></figure><p id="bec0" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">现在让我们探索一下我们发现的隐藏目录。让我们看看robots.txt，因为它可能会给我们一些信息</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/51c603daed5cfac7b17a7ec46efa1131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*rjyM0ry0YXWLAVv1cussdA.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">robots.txt</figcaption></figure><p id="cb4f" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">看来<strong class="lf iu"> robot.txt </strong>没有给我们任何东西。还有一个更有趣的目录名为simple，它也有一个有效的web响应代码。让我们查一下这个目录</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/d031a872033adf75b4c2b99597be1661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vfMVjKrr5QrnCK41zsajsA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">CMS变得简单</figcaption></figure><p id="5167" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">通过访问这个简单的目录，我们知道有一个内容管理系统(CMS)。让我们找到更多关于这个cms的信息。我将使用<a class="ae mb" href="https://www.exploit-db.com/searchsploit" rel="noopener ugc nofollow" target="_blank"> <strong class="lf iu"> searchsploit </strong> </a>来检查我是否发现了针对此服务的任何漏洞</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/240b667bb1ccdfebca6a44b4794d5487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*99VkRtnNlV3Nv6g6FXNA7g.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Searchsploit</figcaption></figure><p id="c011" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">查看<strong class="lf iu"> searchsploit </strong>结果，我们发现了大量的漏洞。挑战中问的问题是<strong class="lf iu"> CVE号</strong>。因此，我对cms服务进行了更多的搜索，偶然发现了<strong class="lf iu">漏洞利用数据库</strong>，它向我显示了与该漏洞相关的<strong class="lf iu"> CVE号</strong>，同样，当我将结果与<strong class="lf iu"> searchsploit </strong>数据进行比较时，我决定选择SQL注入漏洞</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/eb1449dc21bc50306923ef19e6c104e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EGUZuNIl4JHgu0j3_7Y4tA.png"/></div></div></figure><h1 id="8da9" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务4</h1><p id="81aa" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">该应用程序易受SQL漏洞的攻击</p><h1 id="3ffe" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务5和6</h1><p id="c010" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">现在让我们利用漏洞，看看我们是否能找到用户名和密码。所以我将使用我通过<strong class="lf iu"> searchsploit </strong>发现的漏洞。导航到漏洞文件系统并使用如下所示的参数。等待一会儿，你会得到用户名和密码</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/9f37e18119a12cd4d13cbda6a7fa1a74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tFpJ4RGd3YRLVqBF5VSpfg.png"/></div></div></figure><p id="3ec7" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">上面的漏洞会给我们用户名和密码。我没有包括截图，因为我鼓励你自己去找，这样你就可以努力尝试，这是最终目标，直到你找到所需的结果。现在我们有了用户名和密码，记住我们的Nmap扫描结果也指向了运行在端口<strong class="lf iu"> 2222 </strong>上的<strong class="lf iu"> ssh </strong>服务，所以让我们尝试使用端口2222上的ssh登录机器</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/f41677bfbc0e77eacd649da5c162c789.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6sJSNsJw3BXBW8lLfOcGQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ssh成功</figcaption></figure><h1 id="519a" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务7</h1><p id="6977" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">在这个任务中，我们必须找到用户标志。因此，让我们列出内容，我们发现我们的用户标志如下所示</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/52b54e6ec8bed687366aca1b2db179dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*EomSKV9_0gys6Qa1CUs_6A.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">用户标志1</figcaption></figure><h1 id="0c2c" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务8</h1><p id="d510" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">除了mitch，我们还有另一个用户。我试图切换到另一个用户，但没有得到认证</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/46815d9bdf15c2e647f67ee9a9b14171.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*KzUO_sEFkapV-1rK5RPMsw.png"/></div></figure><h1 id="e35c" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务9</h1><p id="b434" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">让我们找到一种方法来提升我们的特权。让我们看看米奇的能力。所以我们知道用户Mitch可以运行vim。我们可以使用vim来提升我们的特权。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/aea8e5fad4ae158d7aa05665ad80e0de.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*BxRnBy58ftRe_eyYEsSyWw.png"/></div></figure><h1 id="fd96" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">任务10</h1><p id="5c60" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">让我们通过bash shell运行vim来提升我们的特权。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi my"><img src="../Images/72128f762288fee0ae88933fcf2aba45.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*LzlN0O6fD7spDzBOYVKUmg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">特权升级</figcaption></figure><p id="347a" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">现在我们可以导航到根目录并找到我们的最终标志</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/00e0fdd8ae42739d51429f9a6b674230.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*R29KLueXqFcK_NG7Q0ty8w.png"/></div></figure><p id="a8e9" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">在这个挑战中，我们了解了CTF是什么样的，以及如何找到隐藏的旗帜。有多种方法可以利用系统中的漏洞获得对系统的访问权限并提升权限。我希望你喜欢这个演示。坚持练习和分享。黑客快乐:)</p><h1 id="0471" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">关于我</h1><p id="1b06" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">我是一名网络安全爱好者，正在攻读信息安全硕士学位，并试图进入全职网络安全职业生涯。</p></div></div>    
</body>
</html>