<html>
<head>
<title>Tokyo Ghoul Tryhackme Writeup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">东京食尸鬼Tryhackme报道</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tokyo-ghoul-tryhackme-writeup-932359680c7e?source=collection_archive---------5-----------------------#2021-04-16">https://infosecwriteups.com/tokyo-ghoul-tryhackme-writeup-932359680c7e?source=collection_archive---------5-----------------------#2021-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="050a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">作者Shamsher khan这是Tryhackme room“东京食尸鬼”的特写</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://www.tryhackme.com/room/tokyoghoul666"><div class="gh gi kl"><img src="../Images/eeabc20f60c7fa30b6ba519f63be94a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*ZEtrS8nh7YiKxarxheCUPg.png"/></div></a><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated">https://www.tryhackme.com/room/tokyoghoul666<a class="ae kx" href="https://www.tryhackme.com/room/tokyoghoul666" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="4297" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">房间链接:</strong><a class="ae kx" href="https://www.tryhackme.com/room/tokyoghoul666" rel="noopener ugc nofollow" target="_blank">https://www.tryhackme.com/room/tokyoghoul666</a><br/><strong class="jp ir">注:此房免费</strong></p><h1 id="8e50" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">列举</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/1dffb74418da9c44d3b523bf94572f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*6yzTNBRTQ_JZkGyCAsxgIw.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/0467c73a40897709cec7a37985348a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*Pbtko7mOVxTpnN7gXEsufg.png"/></div></figure><p id="d92d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们有3个端口</p><p id="a937" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">允许FTP-21匿名登录</p><p id="921e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">SSH-22</p><p id="657f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTTP-80</p><p id="bd04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">问1: </strong>开放了多少个端口？</p><blockquote class="ly lz ma"><p id="838b" class="jn jo mb jp b jq jr js jt ju jv jw jx mc jz ka kb md kd ke kf me kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">答案:3 </em> </strong></p></blockquote><p id="f1b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">问2: </strong>用的是什么OS？</p><blockquote class="ly lz ma"><p id="dbba" class="jn jo mb jp b jq jr js jt ju jv jw jx mc jz ka kb md kd ke kf me kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">答案:ubuntu </em> </strong></p></blockquote><p id="b57a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你找到其他食尸鬼给你的纸条了吗？你在哪里找到的？</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/32594b9bc8107c5a356b86c773fce769.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b0O86LmCkzRxAccEqYowRw.png"/></div></div></figure><blockquote class="ly lz ma"><p id="1133" class="jn jo mb jp b jq jr js jt ju jv jw jx mc jz ka kb md kd ke kf me kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">答案:jasonroom.html</em></strong></p></blockquote><p id="d60f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">登录到FTP服务器</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/89109fa440eb5aeb1f0630b348ddfab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*q5JMS0TLd36aejEhWvJpwA.png"/></div></figure><p id="169c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下载这些文件</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ml"><img src="../Images/e7153658be8efd9ba4a9aaa979d0a854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x-ZoCXpdRItt4zVXpy4__g.png"/></div></div></figure><p id="fb83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们检查一下这些文件</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mm"><img src="../Images/09bee3508a388a022addf250c098bdb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoHKiKxtXCBOqr1478xsWA.png"/></div></div></figure><p id="1d8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该文件等待一个解释，让我们尝试任何字符串作为密码，以检查它将返回什么输出。所以其说用“<strong class="jp ir">rabina 2-z”</strong>来拉它</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mn"><img src="../Images/cbdf931d1c62331d65cb0b3df11af4c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JfKTu9ZBW-flIBIOKX0zqg.png"/></div></div></figure><p id="d88e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嘣它显示我的文件密码。让我们使用密码</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mo"><img src="../Images/0f3e7984ce042e68e2c44bd3cbc7f6eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PcS5AojM3VCQhueWB8G2ZQ.png"/></div></div></figure><p id="db00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">程序给了我们另一个字符串，我想这是图片的密码，所以我用了steghide</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/eb9d467d9c71962706ca0fa6ec456926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*JWWzP1d7FZv3UEkWMq-lwA.png"/></div></figure><p id="8c5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是摩斯密码，我们来破译</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/acfa56e50013d9de7fbfe795ee0ae754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*bypmG1y6HZZecrUVd3Amww.png"/></div></figure><p id="7630" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">莫尔斯码给了我们十六进制字符串，让我们来破译它</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/b6018c9d651bb15350eb69e4558b9cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*rrkM6Vu3impPfAxOrCp_LQ.png"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk translated"><a class="ae kx" href="http://string-functions.com/hex-string.aspx" rel="noopener ugc nofollow" target="_blank">http://string-functions.com/hex-string.aspx</a></figcaption></figure><p id="5931" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">十六进制字符串给我们base64字符串让我们解码它</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/116b408aa3159b735356362ac8313304.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*LASnCjwcn66wOMB7X4HUPA.png"/></div></figure><p id="0016" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们发现隐藏目录让我们访问隐藏目录</p><pre class="km kn ko kp gt mt mu mv mw aw mx bi"><span id="6534" class="my kz iq mu b gy mz na l nb nc"><a class="ae kx" href="http://10.10.59.18/d1r3c70ry_center/" rel="noopener ugc nofollow" target="_blank">http://10.10.59.18/**********/</a></span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi nd"><img src="../Images/a00dcbda0eb97eb8440c51fed590d9b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FMjsicCCDrQYkkU1_JqAZw.png"/></div></div></figure><h2 id="78a7" class="my kz iq bd la ne nf dn le ng nh dp li jy ni nj lm kc nk nl lq kg nm nn lu no bi translated">dirb</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a37dd7a8fdfab3836c07d1746d7c9bda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*8_GJaXei5sFC9CpEbxzzzg.png"/></div></figure><p id="18ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们找到了另一个子目录</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi nq"><img src="../Images/85a3fece49eb161a1d7e78d455311805.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBYTrdVE0T_ZW3bPKvFQAg.png"/></div></div></figure><p id="5d79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击<strong class="jp ir">是后</strong>我看到这个参数是谁在服务器上调用的文件</p><p id="5ba3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">index.php？view=flower.gif</p><p id="7d0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也许我们可以将它改为返回并获取/etc/passwd</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi nr"><img src="../Images/6a2b0929189b46b1688f55b1f772a429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uc7v9vpZLCfVpFGsxMZh5g.png"/></div></div></figure><p id="eeb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我们现在知道这里有一个漏洞，所以我们需要使用html url编码来绕过它</p><pre class="km kn ko kp gt mt mu mv mw aw mx bi"><span id="95ac" class="my kz iq mu b gy mz na l nb nc">?view=%2F%2E%2E%2F%2E%2E%2F%2E%2E%2Fetc%2Fpasswd</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ns"><img src="../Images/60664a0355b89b35116fb83d4e98cd2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wwirXIvmc6PWjzL8lbbRVg.png"/></div></div></figure><p id="912a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Boom我们得到了/etc/passwd，带有一个用户名:<strong class="jp ir"> kamishiro </strong>和一个散列，我将使用john来破解这个散列</p><p id="d507" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们把散列放在一个文件中</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/70a2d45e86c2a9a897d4fe1f06ce4aa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*KfmaqA3yExxVpTQ_ETa_9g.png"/></div></figure><p id="bd69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了ssh凭证</p><p id="721e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> SSH和User.txt </strong></p><pre class="km kn ko kp gt mt mu mv mw aw mx bi"><span id="074f" class="my kz iq mu b gy mz na l nb nc">ssh kamishiro@10.10.59.18</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/605a79900985451f1a5abcb06f57eb56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*BC79fdbQ4MGA6iwRjyLkcA.png"/></div></figure><h1 id="c498" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">私人村庄</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/077cd184e723a506ae66481213a1d8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*tnnJdT8BApMDAYfuQXfDcA.png"/></div></figure><p id="e019" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们以root用户身份执行jail.py，让我们看看这是什么</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi nw"><img src="../Images/2537293ebecba2e27d08167e72c9306f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jTSgEwsqTXyRz9Vn9WyruA.png"/></div></div></figure><p id="3143" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">脚本不允许我们执行读取内部文件的命令，我们不能编辑这个文件，我们应该使用内置函数使用<a class="ae kx" href="https://docs.python.org/3/library/functions.html" rel="noopener ugc nofollow" target="_blank">来读取根标志:</a></p><pre class="km kn ko kp gt mt mu mv mw aw mx bi"><span id="08ac" class="my kz iq mu b gy mz na l nb nc">__builtins__.__dict__['__IMPORT__'.lower()]('OS'.lower()).__dict__['SYSTEM'.lower()]('cat /root/root.txt')</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi nx"><img src="../Images/a102442cb0b0a031efc39bdd9e0cccc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVj85VMPY1CWQ32b7a6KBw.png"/></div></div></figure><p id="50f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嘣！我们有根旗</p><p id="efd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在:<br/><strong class="jp ir">LinkedIn:-</strong><a class="ae kx" href="https://www.linkedin.com/in/shamsher-khan-651a35162/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/shamsher-khan-651a35162/</a><br/><strong class="jp ir">Twitter:-</strong><a class="ae kx" href="https://twitter.com/shamsherkhannn" rel="noopener ugc nofollow" target="_blank">https://twitter.com/shamsherkhannn</a><br/><strong class="jp ir">Tryhackme:-</strong><a class="ae kx" href="https://tryhackme.com/p/Shamsher" rel="noopener ugc nofollow" target="_blank">https://tryhackme.com/p/Shamsher</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://tryhackme.com/p/Shamsher"><div class="gh gi ny"><img src="../Images/09e5bbba06c7688a702aeec8570d243c.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*Vve7XR6kstH7qA5iQQ-kYA.png"/></div></a></figure><p id="ecf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如需更多演练，请在出发前继续关注…<br/>…</p><p id="498a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">点击此处加入电报</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://t.me/tryhackme_writeups"><div class="gh gi nz"><img src="../Images/149e778f03405fe40fb89bb9dbc5034d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xbwPw7g3CVk4VUtK4VpR4g.png"/></div></a></figure><p id="737d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kx" href="https://t.me/tryhackme_writeups" rel="noopener ugc nofollow" target="_blank">https://t.me/tryhackme_writeups</a></p><p id="baec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问我的其他演练:-</p><p id="a4fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您花时间阅读我的演练。如果你觉得它有帮助，请点击👏按钮👏(高达40倍)并分享<br/>它来帮助其他有类似兴趣的人！+随时欢迎反馈！</p></div></div>    
</body>
</html>