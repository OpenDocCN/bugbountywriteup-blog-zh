<html>
<head>
<title>Day 17, Web Reconnaissance Or Information Gathering — Part 2#100DaysofHacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第17天，网络侦察或信息收集—第2部分# 100天黑客攻击</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/day-17-web-reconnaissance-or-information-gathering-part-2-100daysofhacking-323ecea7f0a3?source=collection_archive---------2-----------------------#2022-01-21">https://infosecwriteups.com/day-17-web-reconnaissance-or-information-gathering-part-2-100daysofhacking-323ecea7f0a3?source=collection_archive---------2-----------------------#2022-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2837" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">获取第1天到第16天的所有资料，<strong class="jp ir"> </strong> <a class="ae kl" href="https://github.com/ayush098-hub/100DaysofHacking" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">点击此处</strong> </a> <strong class="jp ir"> </strong>或<a class="ae kl" href="https://3xabyt3.medium.com/list/100daysofhacking-challenge-3db6061da4b1" rel="noopener"> <strong class="jp ir">点击此处</strong> </a> <strong class="jp ir">。</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/6fe70bf25720a85da3f9aa5db2a3d979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Tw6igJzOoensC0lo"/></div></div></figure><p id="fb50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们之前的博客中，我们学习了google dorking以及用户应该如何手动使用target，在这篇博客中，我们将学习一些更深入的技术。</p><p id="4fde" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">范围发现</strong></p><p id="5b14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">范围发现意味着您可以对公司的哪些资产执行pen-test。假设有一个target.com和admin.target.com，secure.target.com，不在范围之内，这意味着你不能在这两个子域上执行pen-testing。</p><p id="2dfa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你没有范围n的限制，那么你可以尝试找到更多的范围，或者你可以说更多的目标资产，而不是像example.com一样只测试一个域，你可以搜索许多不同的端点，与目标相关的子域。我们开始吧。</p><h2 id="7cae" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">Whois和反向Whois</h2><p id="4291" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">每当有人购买域名时，他/她的信息就会存储在数据库中，whois是一种查询这些数据库并向我们显示特定目标信息的协议。</p><p id="42c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">目标google.com截图</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lw"><img src="../Images/556bbc9bf82ceeef8fceaeeaaec3e5f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*L2vauxxmHbc8yMuG.png"/></div></div></figure><p id="e674" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里您可以看到，我们如何借助whois工具收集有关google.com的公开信息。</p><p id="affd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在某些情况下，这些信息是不可用的，因为一些组织使用一种叫做<strong class="jp ir">域隐私的服务。</strong></p><blockquote class="lx ly lz"><p id="d72c" class="jn jo ma jp b jq jr js jt ju jv jw jx mb jz ka kb mc kd ke kf md kh ki kj kk ij bi translated">域名隐私是许多域名注册公司提供的附加服务，可以保护你的个人信息。</p></blockquote><p id="ade0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么，在这种情况下，我们可以使用反向whois，这意味着通过使用组织名称、电话号码或电子邮件地址来搜索数据库，以找到在该数据库中注册的域名。这样，我们就可以找到与同一个所有者相关的所有域。</p><p id="73ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">反向WHOIS对于寻找不公开的模糊或内部域名非常有用。</p><p id="604a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们使用<a class="ae kl" href="https://viewdns.info/reversewhois/" rel="noopener ugc nofollow" target="_blank">https://viewdns.info/reversewhois/</a><strong class="jp ir"/>进行反向whois <strong class="jp ir">。</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi me"><img src="../Images/17d247d6ed1c7d2b5834e87062d0fdcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*60cEEMdheTlJYBnlVgE_BQ.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">以下是谷歌有限责任公司的结果</figcaption></figure><h2 id="5d42" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated"><strong class="ak"> IP地址</strong></h2><p id="044e" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我们可以通过查找目标的IP地址来找到更多顶级域名，然后使用该IP地址执行反向IP查找。</p><p id="1311" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以使用ping或nslookup命令来查找IP地址，让我们使用ping。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mj"><img src="../Images/eca04d83e06fc361805c5adb532f1fa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IpIz2aMQr6Oi-e-P_0vUwQ.png"/></div></div></figure><p id="cc30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，你可以看到google.com的IP指向:<strong class="jp ir">142.250.194.238</strong></p><p id="bf97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在反向IP查找中，我们搜索拥有相同IP的同一服务器上的域。</p><p id="d5a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以使用IP运行whois命令来查找IP范围。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mk"><img src="../Images/36dacd14a7c4625a06eff8eade9a9fbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F4-zLbkpAN7WPK6jjDycLg.png"/></div></div></figure><p id="b682" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">IP范围是属于同一组织的一组IP地址。如果组织有专用的IP范围，您在该范围内找到的任何IP都属于该组织。</p><p id="b524" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里你可以看到一个IP范围是:<strong class="jp ir">142 . 250 . 0 . 0–142 . 251 . 255 . 255</strong></p><p id="66b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">CIDR是:142.250.0.0/15</p><p id="2af0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">差异= 32–15 = 17</p><p id="7222" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这意味着主机总数是:2^diff -2= <strong class="jp ir"> 131070 </strong></p><p id="8fc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">了解更多，然后你可以阅读我们的子网划分指南。</p><p id="b0cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要确认该IP范围是否由同一个组织使用，我们可以使用ASN(自治系统号)进行检查。</p><p id="3998" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">自治系统号(ASN)标识这些网络的所有者。通过检查两个IP地址是否共享同一个ASN，您可以确定IP是否属于同一个所有者。</p><p id="6d49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们检查google.com IP范围内的不同IP地址。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/b9f0a1230981344548bf8df8fbf70731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*JNbUVjXyY9-98MAmhBcrIQ.png"/></div></figure><p id="bdbf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里您可以看到，该范围内的任何IP地址都属于同一个ASN 15169。这意味着所有IP地址都属于同一个组织。</p><p id="581b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">whois命令中的-h标志设置WHOIS服务器以从中检索信息，whois.cymru.com是一个将IPs转换为ASN的数据库。</p><p id="948d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在IP中做一些更改，检查它显示的是相同的ASN还是不同的ASN。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/2517f7c52740cde4e6bf18f800b561aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*updq2MdNZ6iRr8jNjLs0yw.png"/></div></figure><p id="c88a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，您可以看到我们只是将142更改为143，然后它会显示不同的ASN。</p><p id="1899" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这样，我们可以使用IP地址和反向whois来扩大我们的范围。</p><p id="c451" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> SSL证书解析</strong></p><p id="b437" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">SSL证书解析是查找与目标相关的不同域名的另一种方式。但是在SSL证书之前，SSL代表安全套接字层，它用于加密web流量，因为SSL，我们在大多数网站的url字段中看到HTTPS，而不是HTTP。</p><p id="db77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，如何使用SSL来查找不同的域名，因此，许多所有者对不同的域名使用相同的证书。</p><p id="af58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正因为如此，我们可以找到与目标相关的不同域名。</p><p id="c5c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以使用<a class="ae kl" href="https://crt.sh/" rel="noopener ugc nofollow" target="_blank"> crt.sh </a>、censys和cert Spotter来查找域名的证书。</p><p id="9598" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在crt.sh上为google.com加油</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mn"><img src="../Images/34441df7a1c394635e0eeeacc581e5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBRY-_sztXMU0r0xmGb65g.png"/></div></div></figure><p id="3f09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会得到成千上万的域名。</p><h2 id="1511" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated"><strong class="ak">子域枚举</strong></h2><p id="51e1" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">子域枚举是寻找目标的子域的过程。</p><p id="163d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Dnsdumpster是一个在线工具，我们用它来查找目标的子域名和DNS记录。我们找到一个目标的子域来扩大我们的范围，而不是在每个人都试图不在子域上找到的主域上找到bug。</p><p id="adc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Sublist3r: </strong> Sublist3是一个基于命令行的工具，我们可以用它来查找目标的子域。</p><p id="5c79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">三维example.com子列表</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mo"><img src="../Images/fd3a62da2169b5ef9268e915b2226d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tbeb8-Qvt6vVuQzWNAy_cg.png"/></div></div></figure><p id="ba47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，我们已经介绍了如何使用whoislookup、反向whois、反向IP和查找子域名来扩大我们的测试范围。</p><p id="8f14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下一篇博客中，我们将介绍更多的技巧，因为侦察是测试中最重要的部分，这就是为什么我们要慢慢来，并且无论你学到什么都要经常练习。</p><p id="ab80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你，因为你的时间会在下一个遇见。</p><p id="f73b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">快乐学习📖祝你黑客愉快💻</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="7d1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">🔈 🔈Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和10多个小时充满力量的讨论会议。 <a class="ae kl" href="http://iwcon.live" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">查看更多详情并在此注册。</strong> </a></p><div class="mw mx gp gr my mz"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">iwcon.live</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn kw mz"/></div></div></a></div></div></div>    
</body>
</html>