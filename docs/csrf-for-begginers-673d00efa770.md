# 乞丐的 CSRF

> 原文：<https://infosecwriteups.com/csrf-for-begginers-673d00efa770?source=collection_archive---------1----------------------->

CSRF(跨站点请求伪造)是一种 web 应用程序技术，攻击者诱使用户点击恶意链接，在受害者无意的情况下执行恶意操作，如更改密码、更改电子邮件、转账，甚至接管帐户

CSRF 的类型:-

**CSRF 带着获取请求:-**

*   在 GET 请求期间，我们必须发送一个附加到路径的请求
*   例如，在银行网站中，要将资金从受害者帐户转移到攻击者帐户，下面提供的链接将转移到受害者帐户

`https://vulnbank.com/transfer?from=victim&to=attacker&amount=5000`

但是攻击者不能将请求直接发送到目标网站，因为服务器需要会话 cookies 进行身份验证。所以他通过使用 img 标签来实现这一点，并且链接保存在 src 属性中

> 【https://vulnbank.com/transfer?from=victim】T4&to =攻击者& amount=5000 / >

并将此链接发送给受害者，受害者将从浏览器获取会话令牌，并将请求发送给成功通过身份验证的浏览器，然后将金额发送给攻击者

*   为了避免这个漏洞，开发人员不应该使用 HTTP GET 请求来执行任何后端数据修改请求，比如转账。但是任何只读请求都应该是安全的。许多用于构建网站的常见 web 框架，如 Ruby on Rails、Django 等，都希望开发人员遵循这一原则，因此他们会自动为 POST 请求而不是 GET 请求添加 CSRF 保护

**CSRF 跟帖请求:-**

*   通过“img”标签发送 post 请求是不可能的，所以我们可以创建一个简单的隐藏 html 表单，它可以发送给受害者
    HTML 表单

*   所以有一个 HTML 表单，其中 action 表示目标网站，id 是表单的标识符
*   然后，3 个隐藏的输入字段不会显示在浏览器上
*   最后，脚本标签允许表单执行，并将请求发送到`action`参数中提到的目标网站
*   因此，该表单被安装在攻击者的网站上，攻击者将其网站的链接发送给受害者，受害者将使用会话 cookies 触发对服务器的请求，并执行资金转账。

**防御 CSRF 的攻击:-**

*   我们可以通过使用附加在参数上的令牌来缓解 CSRF get/post 攻击

**这怎么能减轻 CSRF 的攻击**

*   当攻击者创建一个 HTML 表单并发送给浏览器时，服务器希望该请求附带一个有效的令牌。除非攻击者可以在令牌中找到模式，否则他们可以生成令牌并将其发送给受害者。

感谢阅读，祝你有美好的一天；)