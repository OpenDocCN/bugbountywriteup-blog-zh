<html>
<head>
<title>Um XSS um tanto quanto estranho</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个XSS有点奇怪</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/um-xss-um-tanto-quanto-estranho-23467aab25f?source=collection_archive---------2-----------------------#2021-03-30">https://infosecwriteups.com/um-xss-um-tanto-quanto-estranho-23467aab25f?source=collection_archive---------2-----------------------#2021-03-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/3c36027e69969403dcd32eef2ef1d4ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*T-Yqw3uSXC_1m0i3LCPtKA.png"/></div></figure><p id="14ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">朋友们,你们还好吗?今天我来做我的第一次writeup告诉我如何停止在XSS中以一种稍微不同的方式探索,所以让我们来吧。</p><p id="1679" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">简要介绍一下,我的“黑客名字”是猫(因为我想证明好奇心只会增强猫的力量:D),我今年19岁,我热爱技术,最近刚开始在信息安全领域工作。</p><p id="740e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那就来吧!</p><p id="4ee4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">由于这个错误尚未修复,出于道德原因,我将把网站命名为redacted.xxx.br!</p><h1 id="e1f0" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">第一部分:寻找</h1><p id="41b2" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">这一切都始于一个简单的愿望,在某个网站上找到一个错误并赚取额外的钱,这种情况在巴西并不容易......所以我正在浏览网页,直到它落在一个网站.xxx.br,因为我知道政府网站有一个非常糟糕的安全记录,我想看看应用程序,看看我是否找到了一些东西。我开始在最简单的输入中注入恶意软件,但一切看起来都很干净,所以我决定拿一些重一点。</p><h1 id="cb2a" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">第二部分:工具</h1><p id="288f" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">我开始使用<a class="ae lv" href="https://github.com/aboul3la/Sublist3r" rel="noopener ugc nofollow" target="_blank">Sublist3r</a>工具来枚举子域,但没什么奇怪的,所以我去了<a class="ae lv" href="https://github.com/devanshbatham/ParamSpider" rel="noopener ugc nofollow" target="_blank">ParamSpider</a>来分析找到的主机的参数。这个列表变得非常巨大,甚至更多,因为我去寻找那些喜欢200返回的人,以及那些有404的人(总是很高兴看到一些东西反映在错误构建的404页面上)。</p><p id="8ad1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因为我还没有尝试自动化这个过程,所以我打开了列表中的所有链接,看看它是否已经被反射(你可以使用<a class="ae lv" href="https://github.com/projectdiscovery/httpx" rel="noopener ugc nofollow" target="_blank"> Httpx</a>工具,使用 -match-string 和 -match-regex 参数,你可以得到你的反射),直到我找到以下页面:</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lw"><img src="../Images/e9bd8de7a4463db416cbca1492c02872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HT159HOMMIPsTOrUl8tebw.png"/></div></div></figure><p id="2b28" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">正如你所看到的,尽管参数都是小写的,但它反映了这样一种方式,即第一个字母是大写的,其余部分是小写的,对专有名称的简单处理!</p><p id="0e57" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我试图注入一个有效负载,看看它是否会被执行,但是这个行为被应用到我的 alert(1) 中,并且该方法没有被执行。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/22789da720d25425215cf31b90403da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*uVd8anLSrFsD3qraqxfI_w.png"/></div></figure><h1 id="bb26" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">第三部分:注射</h1><p id="37f2" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">由于我没有耐心,我做了每个sript kiddie都会做的事情,我开始在互联网上找到的每个有效负载上给出<em class="mg">Ctrl + C</em>和<em class="mg">Ctrl + V</em>。做对了吗?当然不是哈哈哈哈哈。</p><p id="e9d2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">当我看到没有任何事情发生时,我决定让我的头脑休息一下,去喝点水,呼吸一下,然后在一般情况下思考XSS。正是在那里,我偶然记得当我还小的时候,我正在学习下棋,老师正在组装挑战,棋子以某种方式放置在棋盘上,并且在一定数量的动作中,我不得不放弃check mate(赢得比赛)。然后我回到电脑上,随着国际象棋挑战的思维方式,我开始以同样的方式看待XSS,我做的每一个动作,应用程序都可以以某种方式为自己辩护,如果我的动作没有产生积极的影响,我会解开它并重新开始。</p><p id="7f42" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我开始研究一些执行HTML注入的方法,因为它起初是有效的。直到我来到 <a class="ae lv" href="https://www.w3schools.com/html/html_charset.asp" rel="noopener ugc nofollow" target="_blank"> HTML Charset </a> 表中,使用字符的数值,前面是“&amp;”和“#”,您可以将字符显示在屏幕上。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mh"><img src="../Images/3d49f698c6d84f084091907e416fc34c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QI_BPrwA3UMUdbcaE41B1g.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">&amp; 和 # 字符在 URL 中被编码(分别为 %26 和 %23),因此它们不会被视为 URL 构造符号。</figcaption></figure><p id="4831" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在我点击Enter的时候,看到我的字符没有更改为大写,我已经打开了一个全尺寸的微笑。</p><p id="df6b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">完成测试后,我完成了以下有效负载:<em class="mg">&lt;img%20src=x%20onerror=”%26%2397%26%23108%26%23101%26%23114%26%23116(1)”&gt; 。其中,警报作为HTML编码发送。(T3 )</em></p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mm"><img src="../Images/5f419fc3b076addb7cb39e9035308ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZRP-2moSyvzvOUADSwIMA.png"/></div></div></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/9fa49ab083712c49ce9af6e7e007ad0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*YPqNOFNM4OmM1ahEVSos7g.png"/></div></figure><p id="eb0d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我给你的提示是:</p><ul class=""><li id="f3ad" class="mo mp iq jw b jx jy kb kc kf mq kj mr kn ms kr mt mu mv mw bi translated">工具是伟大的,但它是你如何使用它们,使他们伟大!</li><li id="3938" class="mo mp iq jw b jx mx kb my kf mz kj na kn nb kr mt mu mv mw bi translated">要有耐心,如果需要的话,离开电脑一段时间,扔东西,然后清醒地回来!</li><li id="3b55" class="mo mp iq jw b jx mx kb my kf mz kj na kn nb kr mt mu mv mw bi translated">保持好奇!</li></ul><p id="c97b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">就是这个!希望你会喜欢!</p><p id="5bdf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">买我一杯咖啡(Buy Me a Coffee)</p></div></div>    
</body>
</html>