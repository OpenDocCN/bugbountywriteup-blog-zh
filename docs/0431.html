<html>
<head>
<title>How I could delete Facebook Ask for Recommendations post’s place objects in comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何删除脸书征求建议帖子的评论中的位置对象</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-i-could-delete-facebook-ask-for-recommendations-posts-place-objects-in-comments-b7c9bcdf1c92?source=collection_archive---------2-----------------------#2019-11-19">https://infosecwriteups.com/how-i-could-delete-facebook-ask-for-recommendations-posts-place-objects-in-comments-b7c9bcdf1c92?source=collection_archive---------2-----------------------#2019-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ede90cd2c6f78d78d265efb56e7153a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M4JoiSWlg6W-GYVwdzJ_xQ.jpeg"/></div></div></figure><p id="3973" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">概要:</strong></p><p id="35a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇博文是关于脸书的一个不安全的直接对象引用漏洞的，求推荐。使用攻击者可以在注释中删除放置对象卡。</p><p id="e40e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">漏洞类型:</strong></p><p id="f132" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> IDOR </strong>(不安全的直接对象引用)</p><p id="a14f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">参考:<a class="ae kw" href="https://www.owasp.org/index.php/Top_10_2010-A4-Insecure_Direct_Object_References" rel="noopener ugc nofollow" target="_blank">https://www . owasp . org/index . PHP/Top _ 10 _ 2010-A4-unsecured _ Direct _ Object _ References</a></p><p id="c85d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">复制步骤:</strong></p><p id="d2a9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1)访问任何受害者的脸书推荐帖子，并在评论中找到放置对象。</p><p id="d875" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2)复制受害者位置对象的<strong class="ka ir"> comment_id </strong>和<strong class="ka ir"> rec_id </strong>(在inspect中可用)。</p><p id="f29c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">3)现在转到你的推荐帖子的place对象。</p><p id="4938" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">4)现在在右上角点击“删除”选项。</p><p id="fc47" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">5)现在，在发布之前，确保打开Burp Suite的拦截器来捕获请求。</p><p id="4bea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在点击“删除”,您将在Burp suite中看到以下类型的请求:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a94d" class="lg lh iq lc b gy li lj l lk ll">POST <br/>/async/place_list/remove_rec/?comment_fbid=1119570281585744&amp;is_spotlight=false&amp;map_state=1&amp;rec_id=110535478973670&amp;rec_type=place&amp;av=100022637353520 HTTP/1.1</span><span id="9296" class="lg lh iq lc b gy lm lj l lk ll">Host: <a class="ae kw" href="http://www.facebook.com" rel="noopener ugc nofollow" target="_blank">www.facebook.com</a></span><span id="72bc" class="lg lh iq lc b gy lm lj l lk ll">Connection: close</span><span id="b815" class="lg lh iq lc b gy lm lj l lk ll">Content-Length: 668</span><span id="fc5e" class="lg lh iq lc b gy lm lj l lk ll">Origin: <a class="ae kw" href="https://www.facebook.com" rel="noopener ugc nofollow" target="_blank">https://www.facebook.com</a></span><span id="a50e" class="lg lh iq lc b gy lm lj l lk ll">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0)</span></pre><p id="bc1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">6)现在将<strong class="ka ir"> comment_id </strong>参数<strong class="ka ir"> </strong>值更改为受害者的comment_id，并转发请求。</p><p id="1923" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">7)然后现在将<strong class="ka ir"> rec_id </strong>参数值更改为受害者的<strong class="ka ir"> rec_id </strong>并转发请求。</p><p id="b181" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">8)搞定。</p><p id="4f71" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">视频概念验证:</strong></p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ln lo l"/></div></figure><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/0104d11a6924753ee9e4792fa98cd4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*jh-dJkcAG9h2EGK_L4iXQw.png"/></div></figure><p id="dd29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">时间线:</strong></p><p id="9bda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2018年9月20日—初步报告</p><p id="b1af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2018年9月20日—报告已分类</p><p id="17a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2018年10月5日—脸书修复了漏洞</p><p id="beca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2018年10月9日—已确认修复</p><p id="938e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2018年10月10日—脸书颁发的奖金</p></div></div>    
</body>
</html>