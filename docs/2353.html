<html>
<head>
<title>Understanding the NMAP methodology — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解NMAP方法—第一部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/network-mapping-part-1-112116ce6555?source=collection_archive---------1-----------------------#2022-09-10">https://infosecwriteups.com/network-mapping-part-1-112116ce6555?source=collection_archive---------1-----------------------#2022-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d4d6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从初级到高级理解NMAP方法论</h2></div><h2 id="f133" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">描述:</h2><p id="09c3" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">我们将在多篇文章中从初级到高级学习Nmap网络映射。今天，我们将讲述基本扫描，并了解Nmap实际上是如何在幕后工作的。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/db42d452b0791521ef9c4adc93b92400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2aVC8GoHoSaK8P19A3bLAw.jpeg"/></div></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">网络映射</figcaption></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><p id="346e" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">在您开始之前，<strong class="ld ir">您可以加入我们的discord服务器，与志同道合的人交流，分享您可以与他人分享的一切，以帮助他们，并让人们回答您的问题。</strong></p><div class="mw mx gp gr my mz"><a href="https://discord.gg/VKJSmqDN5P" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">加入赛博空间不和谐服务器！</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">查看Discord上的CyberVerse社区——与106名其他成员一起玩，享受免费语音和文本聊天。</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">不和谐. gg</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn ml mz"/></div></div></a></div><h1 id="0d5a" class="no kg iq bd kh np nq nr kk ns nt nu kn jw nv jx kr jz nw ka kv kc nx kd kz ny bi translated">了解基础知识</h1><h2 id="0078" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">手抖</h2><p id="ec4f" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">在开始Nmap和扫描之前，了解网络实际上是如何工作的很重要。当我们访问任何网站或访问互联网上的任何服务时，我们的浏览器会访问该网站并询问:<strong class="ld ir">“我能与你连接吗？”</strong>如果网站或服务可用，它会说:<strong class="ld ir">“是的，请你可以。”</strong>然后我们的浏览器会说，<strong class="ld ir">“谢谢。”它将加载网站。用专业术语来说，一个<strong class="ld ir">“握手”</strong>过程在幕后发生。</strong></p><h2 id="2b1c" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">什么是TCP报头？</h2><p id="04d0" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">TCP报头包含有关连接和通过连接发送的当前数据的信息，包括源端口、目的端口、标志、数据等等。这里重要的部分是在扫描主机时设置标志。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nz"><img src="../Images/cf630c6aecb42b462aa1fcde620bd230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vrCshr8tddU3PgZT7w2Q6g.png"/></div></div></figure><p id="a0de" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">握手过程是通过设置数据包报头中的标志来完成的。服务或主机给出的响应可以通过它们设置的标志来识别，并且通过理解该过程，人们可以非常容易地理解网络扫描过程。</p><h2 id="d508" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">什么是端口？</h2><p id="49d2" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">端口是计算机或计算机外围设备之间进行通信和连接以传输信息和数据的逻辑或物理接口。计算机或计算机外围设备中有65，535个可能的端口号。</p><h1 id="ca5e" class="no kg iq bd kh np nq nr kk ns nt nu kn jw nv jx kr jz nw ka kv kc nx kd kz ny bi translated">基本扫描</h1><p id="554f" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">现在我们知道了连接过程和握手过程是如何工作的。现在我们可以继续下去，看看Nmap是如何在幕后工作的。</p><h1 id="7400" class="no kg iq bd kh np nq nr kk ns nt nu kn jw nv jx kr jz nw ka kv kc nx kd kz ny bi translated">1.TCP连接扫描</h1><p id="29a3" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">TCP连接扫描是一种面向连接的扫描，遵循三次握手过程来确定给定端口是否打开。</p><pre class="mc md me mf gt oa ob oc od aw oe bi"><span id="253c" class="kf kg iq ob b gy of og l oh oi">nmap -ST &lt;ip&gt;</span><span id="d9c4" class="kf kg iq ob b gy oj og l oh oi"># -ST : TCP connect scan</span></pre><p id="9880" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">当我们使用上述命令时，Nmap在几个端口上向指定的IP发送SYN(同步)数据包。如果一个端口是开放的，那么它将使用SYN/ACK(同步/确认)数据包进行响应，表明服务或端口已准备好连接和开放。然后，Nmap发送ACK数据包来确认连接。</p><p id="9b5d" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">如果端口没有打开，那么我们将收到一个带有RST(重置)数据包而不是SYN/ACK数据包的响应，这表明端口已关闭。这就是TCP连接扫描的工作原理。但是这种类型的扫描会在目标主机上留下指纹。</p><h1 id="048a" class="no kg iq bd kh np nq nr kk ns nt nu kn jw nv jx kr jz nw ka kv kc nx kd kz ny bi translated">2.TCP SYN(秘密)扫描</h1><p id="871d" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">TCP SYN扫描不遵循三次握手过程。这降低了扫描被记录的几率。</p><pre class="mc md me mf gt oa ob oc od aw oe bi"><span id="89d4" class="kf kg iq ob b gy of og l oh oi">nmap -sS &lt;ip&gt;</span><span id="f92e" class="kf kg iq ob b gy oj og l oh oi"># -sS : TCP SYN stealth scan</span></pre><p id="de28" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">当使用上述命令时，Nmap在几个端口上向指定的IP发送SYN(同步)数据包。如果一个端口是开放的，则它将使用SYN/ACK(同步/确认)数据包进行响应，该数据包指示服务或端口已准备好连接并开放，但Nmap不是发送ACK数据包，而是发送RST(重置)标志并重置连接。这就是TCP SYN扫描的工作原理。</p><h1 id="b7f7" class="no kg iq bd kh np nq nr kk ns nt nu kn jw nv jx kr jz nw ka kv kc nx kd kz ny bi translated">3.UDP扫描</h1><p id="7dc2" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">与TCP不同，UDP是一种无连接协议。作为无连接协议，它在建立到目标的连接时不遵循握手。</p><pre class="mc md me mf gt oa ob oc od aw oe bi"><span id="7367" class="kf kg iq ob b gy of og l oh oi">nmap -sU &lt;ip&gt;</span><span id="dfac" class="kf kg iq ob b gy oj og l oh oi"># -sU : UDP scan</span></pre><p id="6e36" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">无法保证监听UDP端口的服务会响应我们的数据包。如果收到的数据包是ICMP端口不可达，则该端口关闭，如果没有响应，则我们可以认为它是一个开放或过滤的端口。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><p id="2d97" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">这就是今天的文章。如果你觉得它有趣且有启发性，那就和你的朋友分享吧。谢谢你读到这里。让我知道你的问题或者你想在回复部分阅读的文章的主题。</p><blockquote class="ok ol om"><p id="ab3f" class="lb lc on ld b le mr jr lg lh ms ju lj oo mt ll lm op mu lo lp oq mv lr ls lt ij bi translated">part-2:<a class="ae or" href="https://medium.com/@sudo0x18/understanding-the-nmap-methodology-part-2-3d0442f1c482" rel="noopener">https://medium . com/@ sudo 0x 18/understanding-the-nmap-methodology-part-2-3d 0442 f1 c 482</a></p></blockquote><p id="c4da" class="pw-post-body-paragraph lb lc iq ld b le mr jr lg lh ms ju lj ko mt ll lm ks mu lo lp kw mv lr ls lt ij bi translated">你可以在这里的社交媒体上关注:<a class="ae or" href="https://www.linkedin.com/in/jay-vadhaiya-3b74531b1/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>，<a class="ae or" href="https://www.instagram.com/mr.jv_2407/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>，<a class="ae or" href="https://twitter.com/sudo0x18" rel="noopener ugc nofollow" target="_blank"> Twitter </a></p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h2 id="2ce7" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae or" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>