<html>
<head>
<title>How I Found My First XSS Bug via Open Redirect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何通过开放重定向找到我的第一个XSS Bug的</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-i-found-my-first-xss-bug-96fb8e85a24c?source=collection_archive---------0-----------------------#2021-11-24">https://infosecwriteups.com/how-i-found-my-first-xss-bug-96fb8e85a24c?source=collection_archive---------0-----------------------#2021-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e360" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好，</p><p id="7acc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我是@影子_克莱。今天我要讲的是我在<a class="ae kl" href="http://twitter.com/Bugcrowd" rel="noopener ugc nofollow" target="_blank"> @Bugcrowd </a>发现第一个XSS bug的过程。</p><h1 id="4a96" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">总结:</h1><p id="6578" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">故事发生在我收到一个节目的私人邀请时(<em class="lp">假设:redacted.com</em>)。这个项目隶属于Atlassian，为了测试这个项目，我需要创建一个吉拉云账户。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/a3b8ef279032f4fd9d662561daf0de58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4JmGz5eSh-cfcefJ"/></div></div></figure><p id="ee75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">登录Google帐户后，我将被重定向到用户名创建页面。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mc"><img src="../Images/2b11833c327d8f2b0c97f947c6c0a53a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y3o7f2BAq84GWv4hiwfxDA.png"/></div></div></figure><p id="bc01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的脑海里，现在我能想到的就是“开放重定向”错误。我开始改域名，加字符绕过开放重定向过滤器，最后成功了。</p><p id="9e2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我立即创建了一个报告，并将其发送到Atlassian程序。</p><p id="5876" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我去了厕所。那一刻，我突然想到了一个想法。为什么我不试试XSS？我什么也没想，立即跑到我的房间，打开了我的电脑。在<em class="lp"> " &amp; redirecturl=" </em>参数中，我用javascript payload进行了尝试:<em class="lp">JavaScript:prompt(1)</em>-&gt;设置任意用户名并继续。<strong class="jp ir">轰！XSS被处决了。</strong></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi md"><img src="../Images/01b952f52090a0618c2903f4f3a85263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BUeGI-P-Rp-EjrIAjw3YWg.png"/></div></div></figure><h1 id="9bd5" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">寻找剥削方式的困难时期:</h1><p id="d5ec" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">但是等等。“好像是那个<em class="lp">？cloudId=" </em>参数对应每个账户。这意味着XSS将只对我个人执行死刑，因为<em class="lp">？cloudId=" </em>参数是专门为我创建的。所以如果我拿不到受害者的<em class="lp">”这就是自我XSS了？cloudId= "。</em></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi md"><img src="../Images/67cd1cd031dd09c76e9fe6a36e926b9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jCbjy7RsUqVaX2D3L3Pq1A.png"/></div></div></figure><p id="433b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我有点担心。虽然这个XSS搜索过程只需要大约5分钟，但如果这只是一个自我XSS，一切都将失败。</p><p id="2ea9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我开始继续剥削剥削。我终于找到了2种方法来获得这个参数:</strong></p><pre class="lr ls lt lu gt me mf mg mh aw mi bi"><span id="80ca" class="mj kn iq mf b gy mk ml l mm mn">1. The attacker needs to join the victim's Jira team. To do this, an attacker needs to trick the victim into inviting him to join his team.</span></pre><p id="42e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">那么，攻击者如何不需要加入受害者的吉拉组，仍然能够窃取<em class="lp">“cloudId”</em>？</strong></p><pre class="lr ls lt lu gt me mf mg mh aw mi bi"><span id="40aa" class="mj kn iq mf b gy mk ml l mm mn">2. An attacker does not need to log in to his account nor join the victim's team. An attacker just needs to visit the victim's domain and view the <strong class="mf ir"><em class="lp">"Source page"</em></strong>. The parameter <strong class="mf ir"><em class="lp">"cloudId"</em></strong> will appear there.</span></pre><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mo"><img src="../Images/2e7dce8b939a627e76d392d87f2423e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ICF4OjdJPBtzciFfi0ZsOA.png"/></div></div></figure><h1 id="e634" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">攻击时间:</h1><p id="9baa" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">现在在偷了<em class="lp">【cloudId】</em>的受害者之后。完整链接将包括:<a class="ae kl" href="https://www.atlassian.com/signup/rename/site?cloudId=de003439-d8dd-4ea7-8477-fb0519e3991a&amp;requestId=15178645&amp;redirecturl=javascript:prompt(document.cookie)&amp;isPermitted=false" rel="noopener ugc nofollow" target="_blank">https://www.atlassian.com/signup?cloudId =[victim-id]&amp;request id = 15178645&amp;redirecturl = JavaScript:prompt(1)&amp;is permitted = false</a></p><p id="a0a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">当受害者访问- &gt;设置用户名并继续- &gt; XSS将被执行</strong></p><h1 id="85f0" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">甜水果😁</h1><p id="c352" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">同时，我提供了额外的信息来证明这是一个反射XSS错误。之后，亚特兰蒂斯团队接受并认为这是一个P3</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mp"><img src="../Images/f830c3139e85b675f5c9d9c6a0c35e20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TFo-nDK6ssTJlWoOpr3_LQ.png"/></div></div></figure><h1 id="5ab9" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">建议:</h1><p id="8a44" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">始终保持冷静，当你发现错误时，不要止步于此。有时候你发现的bug并不是最终结果。所以我的建议是，一定要想办法把你发现的bug串起来。你得到的结果会让你大吃一惊:&gt;</p><p id="9457" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢大家的阅读！！！❤</p><p id="e9fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">黑客快乐:))</p><p id="372a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">推特:<a class="ae kl" href="https://twitter.com/shadow_CLAY" rel="noopener ugc nofollow" target="_blank">https://twitter.com/shadow_CLAY</a></p></div></div>    
</body>
</html>