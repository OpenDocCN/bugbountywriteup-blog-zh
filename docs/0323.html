<html>
<head>
<title>Deploy a private Burp Collaborator Server in Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Azure中部署私有的Burp Collaborator服务器</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/deploy-a-private-burp-collaborator-server-in-azure-f0d932ae1d70?source=collection_archive---------0-----------------------#2019-06-17">https://infosecwriteups.com/deploy-a-private-burp-collaborator-server-in-azure-f0d932ae1d70?source=collection_archive---------0-----------------------#2019-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bdec0f869c83316c87c4c38ec7ee77ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sLcQW-tLYJ59lT4sfblpmA.png"/></div></div></figure><p id="15e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi kw translated">不久前，我不得不建立一个私人的Burp Collaborator服务器，以避免我的客户的敏感信息泄露。我想澄清的是，本指南是根据<a class="ae lf" href="https://twitter.com/fabiopirespt" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">法比奥·皮雷斯</strong> </a>写的 的基础上的<a class="ae lf" href="https://blog.fabiopires.pt/running-your-instance-of-burp-collaborator-server/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">，所有的优点都是你的。</strong></a></p><p id="02e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您与Burp合作，但不知道什么是合作者，请先查看<a class="ae lf" href="https://portswigger.net/burp/documentation/collaborator" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">本</strong> </a>文档。</p></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="39e4" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">目录</h1><ol class=""><li id="40b4" class="ml mm iq ka b kb mn kf mo kj mp kn mq kr mr kv ms mt mu mv bi translated">Azure机器和端口转发</li><li id="d19b" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">获得一个免费的自定义域名</li><li id="4ff2" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">制作collaborator配置文件</li><li id="0e4a" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">创建生成和移动证书所需的文件</li><li id="ffb5" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">从“让我们加密”获取证书</li><li id="3bda" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">运行协作者</li><li id="07cc" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">配置Burp套件以使用私有协作器</li><li id="40a7" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated">确认</li></ol></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="afa6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">1.Azure机器和端口转发</h1><p id="f820" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">在Azure上部署一台Linux机器，打开以下端口，我用的是Ubuntu Server 18.04。</p><ul class=""><li id="e927" class="ml mm iq ka b kb kc kf kg kj ne kn nf kr ng kv nh mt mu mv bi translated">端口25 y 587 -&gt; SMTP</li><li id="022d" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">端口53 -&gt; DNS</li><li id="4cd8" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">端口80 -&gt; HTTP</li><li id="7b92" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">港口443 -&gt; HTTPS</li><li id="eede" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">港口465 -&gt; SMTPS</li><li id="d9be" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">端口9090 -&gt; HTTP(轮询)</li><li id="e4cb" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">端口9443 -&gt; HTTPS(轮询)</li></ul><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/f02417c14dc2093f72acd12852216be4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FxIy7PLdOzK4FjLYrUg9pA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">Azure网络管理面板</figcaption></figure><p id="858d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，是时候<strong class="ka ir">记住机器的公共和私有IP地址</strong>了。</p><p id="30dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更新</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="1898" class="nw lo iq ns b gy nx ny l nz oa">sudo apt-get update &amp;&amp; sudo apt-get upgrade</span></pre><p id="b332" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装Java运行时环境(JRE)</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="5f98" class="nw lo iq ns b gy nx ny l nz oa">sudo apt-get install default-jre</span></pre><p id="caf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建一个文件夹来存储所有必需的文件</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="5463" class="nw lo iq ns b gy nx ny l nz oa">sudo mkdir -p /usr/local/collaborator</span></pre><p id="95e3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">复制德打嗝套件专业版。jar文件，并将其重命名为collaborator.jar</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="1508" class="nw lo iq ns b gy nx ny l nz oa">sudo mv /usr/local/collaborator/burpsuite_pro_v1.7.37.jar /usr/local/collaborator/collaborator.jar</span></pre><h1 id="847a" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">2.获得一个免费的自定义域名</h1><p id="0784" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated"><a class="ae lf" href="https://www.freenom.com" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> Freenom </strong> </a>是一个免费的域名提供商，选择你的然后去域名管理员那里把域名服务器改成Azure。</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/2f50c5b0b28f15d679096396ba63ed9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lHpyc1FKuztHXKPIiIL2XA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">Freenom域管理面板</figcaption></figure><p id="95d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从现在起，我们将不再需要访问Freenom，我们将从Azure管理一切，请记住等待DNS传播的谨慎时间。</p><h1 id="f79c" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">3.制作collaborator配置文件</h1><p id="14c3" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">我们记住了第一步中的公有和私有IP地址</p><p id="68e3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建collaborator配置文件</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="61bd" class="nw lo iq ns b gy nx ny l nz oa">sudo nano /usr/local/collaborator/collaborator.config</span></pre><p id="f9e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">代码:</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="a804" class="nw lo iq ns b gy nx ny l nz oa">{<br/>  "serverDomain" : "burp.mydomain.tk",<br/>  "workerThreads" : 10,<br/>  "eventCapture": {<br/>    "localAddress" : ["10.*.*.*"],<br/>    "publicAddress" : "40.*.*.*",<br/>    "http": {<br/>      "ports" : 80<br/>    },<br/>    "https": {<br/>      "ports" : 443<br/>    },<br/>    "smtp": {<br/>      "ports" : [25, 587]<br/>    },<br/>    "smtps": {<br/>      "ports" : 465<br/>    },<br/>    "ssl": {<br/>      "certificateFiles" : [<br/>        "/usr/local/collaborator/keys/privkey.pem",<br/>        "/usr/local/collaborator/keys/cert.pem",<br/>        "/usr/local/collaborator/keys/fullchain.pem" ]<br/>    }<br/>  },<br/>  "polling" : {<br/>    "localAddress" : "10.*.*.*",<br/>    "publicAddress" : "40.*.*.*",<br/>    "http": {<br/>      "port" : 9090<br/>    },<br/>    "https": {<br/>      "port" : 9443<br/>    },<br/>    "ssl": {<br/>      "hostname" : "burp.mydomain.tk"<br/>    }<br/>  },<br/>  "metrics": {<br/>    "path" : "hackpuntes",<br/>    "addressWhitelist" : ["0.0.0.0/24"]<br/>  },<br/>  "dns": {<br/>    "interfaces" : [{<br/>      "name": "ns1",<br/>      "localAddress" : "10.*.*.*",<br/>      "publicAddress" : "40.*.*.*"<br/>    }],<br/>    "ports" : 53<br/>  },<br/>  "logLevel" : "INFO"<br/>}</span></pre><p id="1af4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更改路径、服务器域、主机名、本地地址和公共地址的值。</p><p id="754a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">查看另一个<a class="ae lf" href="https://hackpuntes.com/desplegar-un-servidor-privado-de-burp-collaborator-en-azure/#4" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">例子</strong> </a>文件</p><h1 id="8af3" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">4.创建生成和移动证书所需的文件</h1><p id="c46e" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">从步骤2中创建的collaborator文件夹中，<strong class="ka ir">下载一个certbot-auto文件</strong></p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="aa62" class="nw lo iq ns b gy nx ny l nz oa">sudo wget <a class="ae lf" href="https://dl.eff.org/certbot-auto" rel="noopener ugc nofollow" target="_blank">https://dl.eff.org/certbot-auto</a></span></pre><p id="7af3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有用户的执行权限</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="f12f" class="nw lo iq ns b gy nx ny l nz oa">sudo chmod a+x ./certbot-auto</span></pre><p id="f9e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，制作另一个文件来<strong class="ka ir">移动证书</strong>到正确的文件夹</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="c38a" class="nw lo iq ns b gy nx ny l nz oa">sudo nano /usr/local/collaborator/configure_certs.sh</span></pre><p id="ac50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">代码:</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="87fb" class="nw lo iq ns b gy nx ny l nz oa">#!/bin/bash<br/> <br/>CERTBOT_DOMAIN=$1<br/>if [ -z $1 ];<br/>then<br/>    echo "Missing mandatory argument. "<br/>    echo " - Usage: $0  &amp;amp;amp;lt;domain&amp;amp;amp;gt; "<br/>    exit 1<br/>fi<br/>CERT_PATH=/etc/letsencrypt/live/$CERTBOT_DOMAIN/<br/>mkdir -p /usr/local/collaborator/keys/<br/> <br/>if [[ -f $CERT_PATH/privkey.pem &amp;amp;amp;amp;&amp;amp;amp;amp; -f $CERT_PATH/fullchain.pem &amp;amp;amp;amp;&amp;amp;amp;amp; -f $CERT_PATH/cert.pem ]]; then<br/>        cp $CERT_PATH/privkey.pem /usr/local/collaborator/keys/<br/>        cp $CERT_PATH/fullchain.pem /usr/local/collaborator/keys/<br/>        cp $CERT_PATH/cert.pem /usr/local/collaborator/keys/<br/>        echo "Certificates installed successfully"<br/>else<br/>        echo "Unable to find certificates in $CERT_PATH"<br/>fi</span></pre><p id="3096" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">查看另一个<a class="ae lf" href="https://hackpuntes.com/desplegar-un-servidor-privado-de-burp-collaborator-en-azure/#6" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">例子</strong> </a>文件</p><h1 id="51e0" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">5.从“让我们加密”获取证书</h1><p id="7b03" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">在从Let s Encrypt请求证书之前，我们必须将其作为CAA添加到Azure中。否则，我们会得到<strong class="ka ir"> DNS问题:SERVFAIL为</strong>查找CAA</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/377924dc937d702f45be365978c255d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*h_x7ht6X0pk9HPwI5uLT2A.png"/></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">错误DNS问题:SERVFAIL查找</figcaption></figure><p id="22ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">进入Azure的控制台</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/6b74fe91a5d84c88b279ae26122f0870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x5CPn7wvZEInk-3WV_vuCg.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">Azure的顶部菜单</figcaption></figure><p id="2c2f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">复制下面几行，用您的配置编辑它们，并在控制台中执行它们。</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/f887640ee3cb306fabc6b778fb861534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1RqEGPdwuKSdqy_BuPrdBg.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">Azure控制台</figcaption></figure><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="0a4f" class="nw lo iq ns b gy nx ny l nz oa">$caaRecords = @()<br/>$caaRecords += New-AzureRmDnsRecordConfig -CaaFlag "0" -CaaTag "iodef" -CaaValue "me<a class="ae lf" href="mailto:contacto@hackpuntes.com" rel="noopener ugc nofollow" target="_blank">@mydomain.tk</a>"<br/>$caaRecords += New-AzureRmDnsRecordConfig -CaaFlag "0" -CaaTag "issue" -CaaValue "letsencrypt.org"<br/>New-AzDnsRecordSet -Name "@" -RecordType CAA -ZoneName "MYDOMAIN.TK" -ResourceGroupName [AZURE-DNS-ZONE] -Ttl 3600 -DnsRecords $caaRecords</span></pre><p id="34c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">查看<a class="ae lf" href="https://gist.github.com/GraafG/59961e637180154194994eea0661f3ae" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">这个</strong> </a>文件了解更多信息</p><p id="1c81" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在DNS区域中，我们现在将会看到如下内容</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/e59c68dcc1de993b0f1daf14a1f38e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wm8_kFzc9MwLSCkN7zmGMA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">Azure的DNS区域</figcaption></figure><p id="a40c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">是时候启动以下命令了</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="6b68" class="nw lo iq ns b gy nx ny l nz oa">./certbot-auto certonly -d mydomain.tk -d *.mydomain.tk  --server <a class="ae lf" href="https://acme-v02.api.letsencrypt.org/directory" rel="noopener ugc nofollow" target="_blank">https://acme-v02.api.letsencrypt.org/directory</a> --manual --agree-tos --no-eff-email --manual-public-ip-logging-ok --preferred-challenges dns-01</span></pre><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/6c069c3f67855db586123880dd034c48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B7UPp0BolqOEzVRYT7UeVQ.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">让我们加密的验证</figcaption></figure><p id="71d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们继续之前，我们需要在Azure DNS Zone中添加前缀为<strong class="ka ir"> _acme-challenge </strong>的两个TXT记录<strong class="ka ir">和以前的值，我们还利用这一步骤将一个<strong class="ka ir"> A记录</strong>添加到IP公共地址，并将另一个<strong class="ka ir"> NS记录</strong>从<strong class="ka ir"> burp.mydomain.tk </strong>添加到<strong class="ka ir"> ns1.burp.mydomain.tk </strong></strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/164433c0559fc56bc2565bca4ea676f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XO_8shjGpApDQ5r4AXuZlQ.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">Azure DNS区域</figcaption></figure><p id="d770" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">按回车键并等待此消息。</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/98b18381bd893bafbf7a25ccb3c018f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SM3yAvyp8d11N5jw6NtvyQ.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">让我们加密的验证脚本</figcaption></figure><p id="ef1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，移动证书</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="f6bf" class="nw lo iq ns b gy nx ny l nz oa">chmod +x /usr/local/collaborator/configure_certs.sh &amp;&amp; /usr/local/collaborator/configure_certs.sh burp.mydomain.com</span></pre><h1 id="aa72" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">6.运行协作者</h1><p id="5b1b" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">我们有两个启动collaborator的选项。第一种是通过别名的<strong class="ka ir">，第二种是通过创建一个引导到系统的<strong class="ka ir">服务</strong>。如果您仅将此机器用于Burp Collaborator，也许最推荐的选项是创建一个服务，否则，我建议您创建一个别名。</strong></p><p id="9574" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">别名</strong></p><p id="46a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">编辑<strong class="ka ir">。bashrc </strong>文件并添加合作者别名</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="230a" class="nw lo iq ns b gy nx ny l nz oa">sudo nano .bashrc</span></pre><p id="a37f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">添加新行</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="569c" class="nw lo iq ns b gy nx ny l nz oa">alias collaborator='sudo java -jar /usr/local/collaborator/collaborator.jar --collaborator-server --collaborator-config=/usr/local/collaborator.config'</span></pre><p id="034e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开一个新的终端并运行下一个命令</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="f528" class="nw lo iq ns b gy nx ny l nz oa">collaborator</span></pre><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oo"><img src="../Images/60378fe202dfc504561cb25add932340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CQM8pe92ulaqw9PXsWeqLw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">运行协作者</figcaption></figure><p id="cb3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">服务</strong></p><p id="d8c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建一个<strong class="ka ir"> collaborator.service </strong>文件，并复制以下代码</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="9233" class="nw lo iq ns b gy nx ny l nz oa">sudo nano /etc/systemd/system/collaborator.service</span></pre><p id="a227" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">代码:</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="def4" class="nw lo iq ns b gy nx ny l nz oa">[Unit]<br/>Description=Burp Collaborator Server Daemon<br/>After=network.target<br/> <br/>[Service]<br/>Type=simple<br/>User=$USER<br/>UMask=007<br/>ExecStart=/usr/bin/java -Xms10m -Xmx200m -XX:GCTimeRatio=19 -jar /usr/local/collaborator/collaborator.jar --collaborator-server --collaborator-config=/usr/local/collaborator/collaborator.config<br/>Restart=on-failure<br/> <br/># Configures the time to wait before service is stopped forcefully.<br/>TimeoutStopSec=300<br/> <br/>[Install]<br/>WantedBy=multi-user.target</span></pre><p id="83af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">启用服务</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="f491" class="nw lo iq ns b gy nx ny l nz oa">systemctl enable collaborator</span></pre><p id="fcdf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行服务</p><pre class="nj nk nl nm gt nr ns nt nu aw nv bi"><span id="6e7d" class="nw lo iq ns b gy nx ny l nz oa">systemctl start collaborator</span></pre><h1 id="6fce" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">7.配置Burp套件以使用私有协作器</h1><p id="c3e4" class="pw-post-body-paragraph jy jz iq ka b kb mn kd ke kf mo kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">在我们的Burp套件项目中，转到<strong class="ka ir">项目选项- &gt;杂项</strong>，在Burp Collaborator服务器部分使用选项<strong class="ka ir">“使用私有Collaborator服务器”</strong>并插入您的域。按下<strong class="ka ir">“运行健康检查”</strong>按钮。该运行状况检查的结果应该是没有错误的绿线。</p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/00b03ccf7ab112d796831e1bc2e67495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BuGbdMOeIaU3nUxh2r098Q.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">对打嗝套件进行健康检查</figcaption></figure><h1 id="b2a2" class="ln lo iq bd lp lq ob ls lt lu oc lw lx ly od ma mb mc oe me mf mg of mi mj mk bi translated">8.确认</h1><ul class=""><li id="5cb7" class="ml mm iq ka b kb mn kf mo kj mp kn mq kr mr kv nh mt mu mv bi translated">法比奥·皮雷 的指导，这帮助了我写这篇文章。</li><li id="1285" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">我的<a class="ae lf" href="https://www.sidertia.com/Home" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">公司</strong> </a>，感谢他们为我提供了这个职位所需要的一切。</li><li id="5145" class="ml mm iq ka b kb mw kf mx kj my kn mz kr na kv nh mt mu mv bi translated">我的同事佩德罗、阿里纳斯和路易斯·米格尔帮助我学习英语写作。</li></ul><p id="e57d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">西班牙语版<a class="ae lf" href="https://hackpuntes.com/desplegar-un-servidor-privado-de-burp-collaborator-en-azure/" rel="noopener ugc nofollow" target="_blank">T5这里T7】</a></p><p id="6d87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<a class="ae lf" href="https://twitter.com/JJavierOlmedo" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> Twitter </strong> </a>和<a class="ae lf" href="https://www.linkedin.com/in/jjavierolmedo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> LinkedIn </strong> </a>上关注我</p><p id="6f9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">再见！</p></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><p id="1094" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="oq">关注</em> <a class="ae lf" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="oq"> Infosec报道</em> </a> <em class="oq">获取更多此类精彩报道。</em></p></div></div>    
</body>
</html>