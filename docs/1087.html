<html>
<head>
<title>Business Logic Error Methodology (easy way) + PoC-s</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">业务逻辑错误方法论(简单方法)+ PoC-s</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/business-logic-error-methodology-easy-way-poc-s-8195d8dee95b?source=collection_archive---------1-----------------------#2021-01-28">https://infosecwriteups.com/business-logic-error-methodology-easy-way-poc-s-8195d8dee95b?source=collection_archive---------1-----------------------#2021-01-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="872a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">，或者通过动态编辑HTML代码来入侵网站的功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/128cc17bd8412602a0483200af56f873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j-6bGGEneH5vo1aavtrdRQ.png"/></div></div></figure><p id="2339" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在3年前发现过一次这种类型的bug，我对它的存在感到惊讶。然后前几天又找到了。太神奇了。但是，为了知道首先要寻找什么，这都是关于映射web应用程序的。</p><p id="3e40" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">绘制什么—最简单的方法:</strong></p><p id="8a99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">弄清楚任何事物如何工作背后的逻辑可能会变得复杂。但是，有时有一些面包屑可以很容易地跟踪，至少对于快速简单的测试来说是这样。</p><p id="ee75" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我听到业务逻辑时，我首先想到的是——某种业务。现在，每个企业都必须有一个赚钱的方法。因此，容易看的网站是那些提供免费和付费计划的网站。付费计划越多，需要测试的就越多，受影响的计划越昂贵，bug就越严重。</p><p id="de0f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">你不能点击禁用按钮，是吗？</strong></p><p id="e0a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一些网站通过隐藏来限制付费功能，另一些网站通过显示来限制付费功能，但禁用了访问这些功能的链接/按钮。路的尽头？不一定。现在，获得这些特性的一个很长的方法是找出它们与哪些请求相关联。这可能是一个非常困难/缓慢的过程。如果有一些自定义头文件，弄清楚API-s就更复杂了，如果这些自定义头文件有很难/不可能猜到的值，就更复杂了。最后，即使您设法获得了正确的请求，也存在类似的问题，即计算出所述请求的参数及其值。内容类型是手动解决的一个快速方法，但是即使使用自动化，剩下的部分也会很乏味。因此，如果被禁用的按钮背后实际上有一个代码，您可以通过简单的HTML代码编辑来避免所有耗时的工作。</p><p id="ee7c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">进入火狐/Chrome检查器:</strong></p><p id="3428" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就在那里，右击就能看到。点击它，然后开始探测禁用按钮的“软”点。</p><p id="3c76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很容易发现它们，通常，只需查找disabled，或disabled=true和相似，并相应地更改它(例如，将Disabled改为Enabled，或从HTML代码中删除Disabled)。而且，如果它看起来不起作用，您可能需要删除其他参数的内容，这些内容可能也禁用了其中的功能。有时额外的“保护”是通过样式实现的。但是，简单地删除它的值有时可以启用按钮。当然，按钮的设计会在这个过程中改变，但只要你能点击它，这真的没关系。</p><p id="98e8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">不是一个，而是两个PoC，还有一句警告:</strong></p><p id="0895" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">第一个</strong>很简单，因为它只需要将禁用更改为启用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/63265d8c9eb097bc51b65b9c76d4a005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eVSG02cfxPn1cnOTtvJWdA.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">注意，下一个被禁用，因为我没有有效的优惠券</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/3010b6a7476dc39b90a0117abb39edef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lpy4eTgalTK_hduAYA8_ug.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">这里我们有两个区域要启用</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/cc4df9c94691c0585b61904f1bc0093e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*DZ7-f4tELrWkkFNXAH6SHQ.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">是这个吗？让我们检查一下</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/110c2d358c9aac4dda70df4127699f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*xPReQF1acDCIUWLHINDjkQ.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">但这是真的还是假阳性？</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ly"><img src="../Images/9de9d0d4fb84ebc52c529d2ca552c28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d3QSfNsmDawbe3GKqr3Q5Q.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">我猜这是真的，顺便说一句，我试图连接到它，是的，它的工作</figcaption></figure><p id="4fd0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">第二个</strong>有点“复杂”,因为为了能够访问它，它需要的不仅仅是将disabled更改为enabled。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/9febd28b33377c04555e2e71c5c4bd96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4BJkVjQM6iDBZuxGwRXjg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">除非升级，否则输入字段将被禁用</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ma"><img src="../Images/0e8e830ed8e5bad6e05176d2f5923e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33WdJK9vTGsflpg7YnxJFg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">好了，禁用已经换成启用了，但是还是什么都没有，结束？</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/128cc17bd8412602a0483200af56f873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j-6bGGEneH5vo1aavtrdRQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">我猜不是，删除类值(在蓝色选定区域)启用了字段的编辑，同时影响了它的设计</figcaption></figure><p id="28ec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">警告:</strong></p><p id="4929" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有些按钮一旦启用，就会给你一种成功绕过的印象。例如，单击曾经禁用的“添加付费功能”按钮，当它被启用并被单击时，将显示可点击的付费功能的列表。在兴奋之前，尝试最大限度地使用这些付费功能。也就是说，如果付费功能是“从下拉列表中添加自定义徽标”,并且您设法将自定义徽标添加到您的页面或其他地方，请在单独的浏览器/会话中登录到该网站，然后转到应该显示自定义徽标的页面，如果自定义徽标没有显示在那里，那么这意味着它是一个误报。很遗憾，我知道。但是，最好是沮丧地继续前进，而不是花时间写一份错误报告，然后急切地期待一个回应，结果却被n/a或informational(如果你幸运的话，有时你可能会被要求自我关闭，但如果你幸运的话，再次)。</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="9d4e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不要指望“老”虫会真正退休。即使有问题的网站不是某个所有人都忘记了的奇怪的子域，而是一个古老的www.website.com<a class="ae mi" href="http://www.website.com/" rel="noopener ugc nofollow" target="_blank"/>，但这并不意味着它不容易受到这样一个愚蠢的错误的攻击。</p></div></div>    
</body>
</html>