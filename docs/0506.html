<html>
<head>
<title>I know all the social media websites you are logged into</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我知道你登录的所有社交媒体网站</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/i-know-all-the-social-media-websites-you-are-logged-into-be5c6307d439?source=collection_archive---------0-----------------------#2020-03-05">https://infosecwriteups.com/i-know-all-the-social-media-websites-you-are-logged-into-be5c6307d439?source=collection_archive---------0-----------------------#2020-03-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="aecb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，在我们开始之前，我要坦白一件事。我可能会点击引诱你进入这篇文章(这是我从我的偶像PewDiePie和野兽先生那里学到的技巧)，因为我实际上不知道你登录的<strong class="jp ir">【所有】</strong>社交媒体网站，只知道那些著名的网站(因为我们必须手动准备每个网站的链接，所以我们只对著名的网站使用它)。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="9044" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">我如何知道你登录了哪些网站？</h1><p id="e724" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">这是一个相当常见的漏洞，已经存在多年了。在谷歌上简单搜索一下，就能找到2012年甚至2008年的文章。由于这个漏洞还没有被修复，它显然是一个特性，所以我在整篇文章中称它为<em class="lv">“特性”</em>。</p><h1 id="44d4" class="ks kt iq bd ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp bi translated">我登录了哪些网站？</h1><p id="b962" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">要查看您登录的网站，请访问展示此<em class="lv">功能的网站。</em></p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/bf987c76ec7eec180ae26baeaaa68acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ItiytBZ-F3_NNa7pbmI2_w.png"/></div></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">我登录的社交媒体网站的详细信息。</figcaption></figure><p id="bb39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以自己检查一下，看看自己是否容易受到这个<em class="lv">【特性】</em>的攻击。</p><div class="mr ms gp gr mt mu"><a href="https://browserleaks.com/social" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">社交媒体登录检测</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">这是一个基于图像的跨原点登录检测的演示，适用于大多数主流社交网络。</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">browserleaks.com</p></div></div></div></a></div><p id="da90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有更多关于<a class="ae nd" href="https://browserleaks.com/" rel="noopener ugc nofollow" target="_blank">浏览器Leaks </a>的内容。这是对他们的描述，直接取自他们的网站:</p><blockquote class="ne nf ng"><p id="08af" class="jn jo lv jp b jq jr js jt ju jv jw jx nh jz ka kb ni kd ke kf nj kh ki kj kk ij bi translated">BrowserLeaks是关于浏览隐私和网络浏览器指纹的。在这里，您会发现一个web技术安全测试工具的图库，它将向您展示什么样的个人身份数据会被泄露，以及如何保护自己免受泄露。</p></blockquote><h1 id="1757" class="ks kt iq bd ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp bi translated">您的帐户详细信息也可见吗？</h1><p id="ed46" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">不。唯一看得见的是有人登录了网站。</p><p id="7066" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以这意味着你是安全的…或者你是吗？有人知道你是否登录了社交媒体网站，这一事实可能足以应对各种社交工程攻击。</p><h1 id="e862" class="ks kt iq bd ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp bi translated">如何保护自己</h1><h2 id="2a82" class="nk kt iq bd ku nl nm dn ky nn no dp lc jy np nq lg kc nr ns lk kg nt nu lo nv bi translated">切换到Mozilla Firefox</h2><p id="1b2e" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">Mozilla Firefox有一个内置的工具，可以保护你免受各种跟踪机制的影响，防止<em class="lv">“社交媒体泄露”</em>是它们提供的众多保护措施之一。</p><p id="0b24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是Firefox设置的<em class="lv">浏览器隐私</em>部分的截图:</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/f794b13d530337ce07e2bd78c873bdea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*V860RfSr5iQRpqZVjIbzJw.png"/></div></figure><h2 id="e433" class="nk kt iq bd ku nl nm dn ky nn no dp lc jy np nq lg kc nr ns lk kg nt nu lo nv bi translated">使用隐私獾之类的扩展</h2><p id="2fe9" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">不想换成火狐？很公平。你可以像隐私獾一样使用扩展。下面是从他们的网站上无耻地复制的关于这个扩展的描述:</p><blockquote class="ne nf ng"><p id="f672" class="jn jo lv jp b jq jr js jt ju jv jw jx nh jz ka kb ni kd ke kf nj kh ki kj kk ij bi translated">隐私獾<strong class="jp ir">自动学习屏蔽隐形追踪器</strong>。Privacy Badger通过观察你浏览网页时哪些域似乎在跟踪你来学习，而不是保留阻止哪些内容的列表。</p><p id="1769" class="jn jo lv jp b jq jr js jt ju jv jw jx nh jz ka kb ni kd ke kf nj kh ki kj kk ij bi translated">隐私獾会在你浏览的时候发送<a class="ae nd" href="https://outgoing.prod.mozaws.net/v1/9945620a688bfc1f32e4ecd44d4e6d6006bfb763b04c194293b87fa00acc9446/https%3A//www.eff.org/issues/do-not-track" rel="noopener ugc nofollow" target="_blank">不要跟踪信号</a>。如果追踪者无视你的愿望，你的獾会学会阻止他们。一旦隐私獾在三个不同的网站上看到相同的追踪器，它就开始阻止。</p><p id="f0a5" class="jn jo lv jp b jq jr js jt ju jv jw jx nh jz ka kb ni kd ke kf nj kh ki kj kk ij bi translated">除了自动跟踪拦截之外，隐私獾取消了对<a class="ae nd" href="https://outgoing.prod.mozaws.net/v1/74bc8198d1396c6b1a333f38763229b5199c5f5e0220c6814bafe0ee27045f20/https%3A//www.eff.org/deeplinks/2018/05/privacy-badger-rolls-out-new-ways-fight-facebook-tracking" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae nd" href="https://outgoing.prod.mozaws.net/v1/91c6a37074848da9be49ac657dd8a9847d2cdc3e26faae187b8e6829ef186cca/https%3A//www.eff.org/deeplinks/2018/10/privacy-badger-now-fights-more-sneaky-google-tracking" rel="noopener ugc nofollow" target="_blank">谷歌</a>和<a class="ae nd" href="https://outgoing.prod.mozaws.net/v1/3eef7d09b705783117c73b006602199c1104605b8adbb6dd5387727537e025d0/https%3A//www.eff.org/deeplinks/2017/08/privacy-badger-makes-twitter-little-less-creepy" rel="noopener ugc nofollow" target="_blank">推特</a>的链接点击追踪，还会有更多的隐私保护措施。</p></blockquote><p id="e028" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想知道像我这样没有安全感的人用什么，答案是两者都用。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nx"><img src="../Images/f852f017ac3ea25a4984f48171c7be9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lKjTE4O4zwyB5dQbZEmfFw.png"/></div></div></figure><h2 id="5542" class="nk kt iq bd ku nl nm dn ky nn no dp lc jy np nq lg kc nr ns lk kg nt nu lo nv bi translated">禁用第三方cookies</h2><p id="a796" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">以上方法足以保护您免受此漏洞的攻击。但是，如果您担心您的隐私，并希望采取更严格的方法来保护自己，您可以查看这篇关于如何禁用第三方Cookies的文章。</p><div class="mr ms gp gr mt mu"><a href="https://www.howtogeek.com/241006/how-to-block-third-party-cookies-in-every-web-browser/" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">如何在每个网络浏览器中阻止第三方Cookies</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">自从网络出现以来，网络cookies就一直存在，而且在很大程度上，它们有一个有用的目的…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">www.howtogeek.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od ml mu"/></div></div></a></div><h1 id="6d4a" class="ks kt iq bd ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp bi translated">这个功能到底是如何工作的<em class="oe">？</em></h1><p id="735b" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated"><em class="lv">现在，如果您不理解这一部分，完全没关系。这篇文章的主要动机是让你知道你在网上很容易受到攻击，但是你可以通过几个简单的步骤来保护自己，这已经在网上讨论过了。</em></p><p id="ae90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了理解它是如何工作的，让我们看看下面这个例子，我在我们心爱的Github上执行了这个。</p><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="783e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们逐一查看<code class="fe oh oi oj ok b">img</code>标签的每个组件:</p><ol class=""><li id="84e7" class="ol om iq jp b jq jr ju jv jy on kc oo kg op kk oq or os ot bi translated"><code class="fe oh oi oj ok b">style=”display:none;”</code> —这有助于不显示图像标签。因此，用户看不到该标签。所以我们可以秘密收集信息。</li><li id="a648" class="ol om iq jp b jq ou ju ov jy ow kc ox kg oy kk oq or os ot bi translated"><code class="fe oh oi oj ok b">onload=”show_login_status(‘Github’, true)</code> —如果从源加载图像，则加载JavaScript函数<code class="fe oh oi oj ok b">show_login_status</code>。JavaScript函数是一个简单的if-else语句，根据作为第二个参数传递的布尔值，无论用户是否登录，它都会在控制台中打印出来。</li><li id="3c61" class="ol om iq jp b jq ou ju ov jy ow kc ox kg oy kk oq or os ot bi translated"><code class="fe oh oi oj ok b">onerror=”show_login_status(‘Github’, false)</code> —如果图像不是从源加载的，则调用<code class="fe oh oi oj ok b">show_login_status</code>。</li><li id="c530" class="ol om iq jp b jq ou ju ov jy ow kc ox kg oy kk oq or os ot bi translated"><code class="fe oh oi oj ok b">src=”https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Ffavicon.ico%3Fid%3D1"</code>——有趣的部分来了。让我们来看看这个链接是如何构成的。<br/> <code class="fe oh oi oj ok b">https://github.com/login</code> + <code class="fe oh oi oj ok b">?return_to=</code> + <code class="fe oh oi oj ok b">https%3A%2F%2Fgithub.com%2Ffavicon.ico%3Fid%3D1</code></li></ol><p id="155c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一部分将我们带到网站的登录页面。现在，通常如果你登录，你会被自动重定向到主页。但是我们通过使用<code class="fe oh oi oj ok b">?return_to=</code>改变了这一点。这确保被重定向到值<code class="fe oh oi oj ok b">https%3A%2F%2Fgithub.com%2Ffavicon.ico%3Fid%3D1</code>。</p><p id="7846" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们清理url ( <code class="fe oh oi oj ok b">https://github.com/favicon.ico?id=1</code>)并打开它，下面是它的样子</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi oz"><img src="../Images/b85e8a364164a45764ecc031e6f2d0a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0hMVRLXwwL-lb3xaogCeqQ.png"/></div></div></figure><p id="bbd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，如果我们登录到Github，你会被直接重定向到favicon。这意味着在图像标签中，由于加载了图像，所以会调用<code class="fe oh oi oj ok b">onload</code>的函数。因此，我们知道您登录了Github。</p><p id="6c0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您没有登录，您将被重定向到登录页面。在这种情况下，将不会加载favicon，因此在图像标签中，将调用函数<code class="fe oh oi oj ok b">onerror</code>。</p><h1 id="0bc9" class="ks kt iq bd ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp bi translated">网站如何保护他们的用户？</h1><p id="2bb6" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">根据该漏洞的结构，如果触发<code class="fe oh oi oj ok b">onerror</code>，网站可以欺骗该漏洞，即使用户已经登录。这正是像Reddit、Twitter(和Medium*)这样的网站所做的。比如我们来看看Reddit。</p><p id="5bf5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Reddit的链接如下:<code class="fe oh oi oj ok b"><a class="ae nd" href="https://www.reddit.com/login/?dest=https%3A%2F%2Fwww.reddit.com%2Ffavicon.ico" rel="noopener ugc nofollow" target="_blank">https://www.reddit.com/login/?dest=https%3A%2F%2Fwww.reddit.com%2Ffavicon.ico</a></code></p><p id="5835" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，如果你登录到Reddit，而不是立即重定向到<code class="fe oh oi oj ok b">www.reddit.com/favicon.io</code>，你会被带到一个登录页面，然后被重定向。因为你被带到登陆页面，这意味着图像没有被加载，因此<code class="fe oh oi oj ok b">onerror</code>被调用。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi pa"><img src="../Images/b57d5be4bcf86b894eb4d5d5d0c0a9f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*breknI6__3gIEhxInmlJ-g.png"/></div></div><figcaption class="mn mo gj gh gi mp mq bd b be z dk translated">用户登录后的登录页面</figcaption></figure></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="46a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我感谢您花时间阅读这篇文章，并采取措施保护您的隐私。干杯！🍺</p><h2 id="3bb9" class="nk kt iq bd ku nl nm dn ky nn no dp lc jy np nq lg kc nr ns lk kg nt nu lo nv bi translated">现在，让我无耻地要求你</h2><p id="041a" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">在<a class="ae nd" href="https://github.com/harshitm98" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae nd" href="https://twitter.com/fake_batman_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，或者在<a class="ae nd" href="https://linkedin.com/in/harshitm98" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我。</p><h1 id="90fb" class="ks kt iq bd ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp bi translated">参考</h1><p id="8eee" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">我想重申，这不是什么新鲜事，早在2008年就已经发布了。以下是一些参考资料:</p><p id="c43e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nd" href="https://moz.com/blog/visitor-social-network-login-status-google-analytics" rel="noopener ugc nofollow" target="_blank">https://moz . com/blog/visitor-social-network-log in-status-Google-analytics</a></p><p id="74e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nd" href="https://blog.jeremiahgrossman.com/2008/03/login-detection-whose-problem-is-it.html" rel="noopener ugc nofollow" target="_blank">https://blog . jeremiahgrossman . com/2008/03/log in-detection-who-problem-is-it . html/</a></p><p id="9dfd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nd" href="https://www.tomanthony.co.uk/blog/detect-visitor-social-networks/" rel="noopener ugc nofollow" target="_blank">https://www . tomanthony . co . uk/blog/detect-visitor-social-networks/</a></p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="8968" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lv">关注</em> <a class="ae nd" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="lv"> Infosec报道</em> </a> <em class="lv">获取更多此类精彩报道。</em></p><div class="mr ms gp gr mt mu"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">信息安全报道</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">medium.com</p></div></div><div class="ny l"><div class="pb l oa ob oc ny od ml mu"/></div></div></a></div></div></div>    
</body>
</html>