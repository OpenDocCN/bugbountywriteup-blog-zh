# SSH:简介，如何保护和工作

> 原文：<https://infosecwriteups.com/ssh-introduction-how-to-secure-and-working-b446abb34309?source=collection_archive---------2----------------------->

![](img/4744ebbbc7b8da4095b95e45ac2588d6.png)

照片由 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的 [Clément Hélardot](https://unsplash.com/@clemhlrdt?utm_source=medium&utm_medium=referral) 拍摄

作者:[安舒尔·维亚斯](https://www.instagram.com/_ansh_vyas/)

# 什么是宋承宪？

SSH 是 Secure Shell 的缩写，简单地说，它是一种允许两台机器在网络上安全通信的协议。

# SSH 的历史

在过去，两台计算机或两台机器之间需要进行通信。然后，在 20 世纪 60 年代，telnet 被发明出来，这也是一种允许两台计算机或两台机器相互通信的协议。这是一项伟大的发明，但它并不安全，很容易被嗅探器破解。随着我们进入互联网时代，我们需要某种协议来允许两台机器通过网络轻松访问。确切地说，在 20 世纪 90 年代和 1995 年，ssh 被发明和创造出来，这是一种安全的方式，两台机器可以通过网络安全地通信或访问数据。

# SSH 是如何被保护的

现在问题来了，如何保护 SSH，因为这里涉及到加密。这意味着只要两台机器通过 SSH 连接，它们之间的数据交换就会加密。因此，要使用的信息是加密的，通过加密，这意味着实际数据被转换成一些人类和机器都无法理解的密文。他们无法提取原始信息，因为提取数据时使用了一些加密算法。

现在我们可以通过一个非常简单的例子来理解 ssh。假设你有一个盒子，里面有一些非常重要的数据，你不希望除了你的朋友之外的任何人访问它。因为这是至关重要的信息，你锁了箱子，你有这把锁的钥匙。你通过第三个人发给你的朋友。由于箱子是锁着的，第三个人或任何人都不能打开箱子。当你的朋友拿到箱子时，他也没有钥匙，所以他在箱子上加了一把锁。第三个人带着盒子回到你身边。你打开你的锁，因为你有你的锁的钥匙。你再次把盒子送给你的朋友。当你的朋友拿到盒子时，他可以很容易地用钥匙打开盒子，因为他有那把锁的钥匙。当他现在打开盒子时，他得到了盒子里所有重要的信息。而且没有任何信息泄露给任何人，他也安全地得到了这些信息。这就是信息和数据可以安全交换的方式。

# SSH 正在工作

要建立 ssh 连接，我们需要三样东西，或者说三个组件第一个是服务器，或者说我们将从本地机器访问的远程机器，然后我们需要客户端，或者说本地机器，最后我们需要一个认证机制，以便服务器可以认证客户端，反之亦然。要使任何系统成为 ssh 服务器，我们需要运行 ssh，或者必须以可以远程连接的方式设置系统设置。

现在这个 ssh 服务器可以在任何系统上运行:windows、linux、mac，甚至可以是 android 或 iOS 系统。在这种情况下，如果系统是 MAC，我们只需要允许该系统上的远程连接。如果是 linux 或 windows，我们可以安装一个 openssh 服务器，通过安装这个服务器，我们的系统就可以通过 ssh 访问了。如果它是 android 或 iOS，我们需要一些可以运行的应用程序，以便它成为 ssh 服务器或准备远程连接。现在我们有了 ssh 服务器，我们可以继续到客户机或本地机器，它可以是 Mac、Linux、Windows，甚至是 Android 或 IOS 系统。

如果本地机器是 Linux 或 Mac，我们不再需要安装或配置任何东西；我们可以简单地将 Mac 或 Linux 上的终端用作 SSH 客户端。如果是 windows，我们可以获得一些 ssh 客户端应用程序，如 Putty，或者如果我们安装了 GIT Bash 命令提示符，我们也可以使用它通过 ssh 进行通信，如果是 android 或 ios，我们会发现一些应用程序，如 Termux，可以帮助您通过 ssh 进行连接。现在我们已经准备好了 ssh 服务器和客户机。第三件事是认证机制。

当我们使用 ssh 从本地系统连接到远程系统时，我们必须对这个连接进行认证。有两种方法可以验证这个连接。一种是使用密码，另一种是使用密钥，即公钥和私钥。因此，简单地说，如果我们想通过 SSH 连接到一个远程系统，可以用下面的例子来解释:假设我们有 ssh user@ip，那么这是一个非常简单的命令语法。现在，一个真正的命令应该是这样的:比如说 ssh root@165.32.18.18。因此，当我们运行这个命令时，我们希望以 root 用户的身份访问远程系统。

运行此命令时，系统会提示我们输入密码。完成所有身份验证后，我们将能够访问远程系统，然后可以在远程系统上运行我们的命令。另一种方法是让密钥成为公钥和私钥。如果我们想要使用公钥或私钥进行或创建身份验证，我们可以从我们的客户机上运行 ssh-keygen 命令，它会询问我们想要存储在哪里，或者我们想要给我们的公钥和私钥指定什么文件名。如果我们想给一些特定的名称，我们可以提供位置和名称，或者如果我们直接输入，它将采用默认名称，它还会提示我们为我们的私钥提供密码。

如果我们希望我们的私钥更安全，他应该不能使用它，除非他提供我们设置的密码。如果我们不想要密码，我们可以直接在命令行上按 enter 键，这将在我们的系统上创建两个密钥，一个公钥和一个私钥。现在，我们可以将公钥发送到我们想要访问的服务器或远程机器，我们可以使用 ssh copy 等命令来复制公钥，或者如果我们的 ssh 服务器可以通过 UI 从浏览器访问，例如，在 GitLab 或 GitHub 的情况下， 我们可以在 GitLab 或 GitHub 上打开我们的帐户，然后转到 ssh 部分，会有一个选项来浏览和上传您的公钥，所以如果我们有这个选项，我们也可以通过浏览器来完成。 简而言之，我们必须创建这两个密钥，并将公钥发送到远程系统。

之后，我们必须设置这些密钥，我们已经将公钥发送到服务器。此后，每当我们尝试使用这些命令通过 ssh 连接，或者以任何方式尝试使用 ssh 连接到远程系统时，都会使用这些密钥进行身份验证。因此，当我们尝试连接或向服务器发送连接请求时，客户端会收到来自服务器的随机消息，客户端使用其私钥对该消息进行加密并将其发送回服务器。

服务器将使用其公钥对其进行解密，如果匹配成功，则仅建立连接。现在我们可以访问远程系统，在那里做任何工作，或者运行任何命令。这就是 SSH 的工作方式，这就是我们如何安全地连接到远程系统并访问它或在那里做任何工作。

## 来自 Infosec 的报道:Infosec 每天都有很多内容，很难跟上。[加入我们的每周简讯](https://weekly.infosecwriteups.com/)以 5 篇文章、4 条线索、3 个视频、2 个 GitHub Repos 和工具以及 1 个工作提醒的形式免费获取所有最新的 Infosec 趋势！