<html>
<head>
<title>The type of recon that you may skip on purpose, but this is why you shouldn’t</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这种侦察你可能会故意跳过，但这就是为什么你不应该</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/the-type-of-recon-that-you-may-skip-on-purpose-but-this-is-why-you-shouldnt-272aa74e08be?source=collection_archive---------1-----------------------#2021-01-02">https://infosecwriteups.com/the-type-of-recon-that-you-may-skip-on-purpose-but-this-is-why-you-shouldnt-272aa74e08be?source=collection_archive---------1-----------------------#2021-01-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0691" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">，或者为什么太快会导致假阳性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3b18dc7e8caff6828fbcd4ce9d090903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLL8xRSJaXUkPDQoIXAThA.png"/></div></div></figure><p id="313c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我有一个理论，这可能会影响到那些有一些bug搜索经验的人，大概是经验水平越高越容易出现这种疏忽。我可能错了。不管怎样，我认为这迟早会对任何层次的经验都有用:)</p><p id="202b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当人们很容易跳过至关重要的第一步 <br/>时，这一步已经被写了很多——侦察。但是，根据网站的目标，你的经验水平，以及类似的情况，即使你从一个完全合理的侦察开始，也很容易“跳到最后”。虽然在侦察过程中可以进行多任务处理，比如在等待<strong class="kw iu"> ffuf </strong>或<strong class="kw iu"> dirsearch </strong>完成浏览你拥有的任何庞大的单词列表或运行<strong class="kw iu"> nmap </strong> / <strong class="kw iu"> masscan </strong>时挖掘有趣的子域名，但这是跳过基础知识会让你提交一个非常愚蠢的“bug”的地方。</p><p id="d4e3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">为什么跳过明显的bug？<br/> </strong>一言以蔽之——可能不是bug。如果你刚刚打开了一些有趣的子域，或者甚至是一个单一的/范围狭窄的目标网站，为了了解网站是如何工作的，你必须一直跟踪请求和响应。这不仅仅是理解正在进行的请求和响应，还包括为什么要进行这些请求和响应，以及这些请求和响应与网站其他功能/特性的关系。仅仅因为有一个JSON响应带有看似有趣的信息，您就必须理解它是如何被获取的。虽然配对请求可能是明显的原因，但也不总是如此。有时会有一连串的请求和响应，最终导致特定的响应。意思就是，仅仅因为JSON响应显示了userid和api token，如果你没有登录，很有可能是一个guest userid，带有guest api token(或者对任何人都没有关键性影响的api token)。</p><p id="345e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">当经验可能造成一些伤害时<br/> </strong>作为已经从事IT安全测试十多年的人，有时很难不发现有趣的请求和/或对某些请求的响应内容等。有时候放手去做会更容易。当某个东西看起来像一个容易快速验证的bug时，那么事情的顺序当然是:侦察，尤其是网站测试的智能方法(即学习它如何工作，它做什么，等等。以便更好地了解如何以及瞄准什么)突然被利用这个bug的欲望所取代，并且希望避免重复。</p><p id="d230" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">缺乏耐心=假阳性，在三幕中<br/> </strong> <em class="lq">第一幕——不必要的紧急情况<br/> </em>在这个特殊的情况下，我对紧急购买一台真正的游戏电脑感到兴奋，因为我想继续以最高的RTX图形玩特定的视频游戏:)，因此我允许缺乏适当的耐心。我选择了一个bug奖励计划，并努力去做。当我第一次浏览这个网站(意思是，我对它知之甚少)并急切地寻找任何潜在错误的迹象时，我不禁注意到一个需要立即攻击的领域——将用户角色从低级用户提升到管理员。<br/>所以……没有探究与管理员用户相比，低级别用户可以做什么，我以低级别用户的身份登录，并使用burp中的匹配和替换，我添加了一个规则，其中响应正文将“user _ role”:“user”替换为“user _ role”:“admin”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3b18dc7e8caff6828fbcd4ce9d090903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLL8xRSJaXUkPDQoIXAThA.png"/></div></div></figure><p id="c774" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在刷新页面时，我看到我的仪表板显示admin，而不是user角色下的低级用户。但是，其他什么都没变。没有额外的页面，按钮，什么都没有。</p><p id="1814" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">第二幕——一个有趣的发现</em> <br/>这里是我犯的一个错误，没有“重置”(即。禁用前面的匹配和替换规则)我继续使用网站的另一个功能，心想也许当页面加载时我会看到一些有趣的东西(但不知道作为低级用户访问时应该是什么样子)。但是，那里没有什么有趣的东西。所以，我回到仪表板，但令我惊讶的是，我突然有了一些新按钮。我立即着手验证这不仅仅是一个用户界面的改变。而且，这不仅仅是一个用户界面的变化。我实际上是管理员，我可以添加其他用户，改变用户角色等。</p><p id="ba15" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">第三幕——导致令人不快的发现的耐心</em> <br/>太好了，报告已提交。但是，我无法摆脱那种不安的感觉，就像它是多么容易，我最初的担心是它会被证明是一个副本。当然，这不是唯一的担忧。冷静下来后，我发现这个错误的愚蠢的紧迫性，我不得不进一步调查这个网站。我也希望能找到别的东西，以防最初的报告是重复的。这次我用正确的方法做了。我更多地了解了网站的工作原理、功能等等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lr"><img src="../Images/6fc5ccd183f61450ff42afe5e9ff964c.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*j4QV7_Q_GfU4g3zyPsDS8Q.png"/></div></div></figure><p id="bd7f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这导致了一个发现，不管出于什么原因(我猜是这样编码的),如果一个低级用户使用一个特定的网站功能，他们的角色会被转换成管理员角色。它是被设计成这样的，不是一个bug，甚至也不是老笑话“这是一个特性。”我知道这一点是肯定的，因为几天后，一个非常通情达理的分诊人员告诉我同样的事情。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="fa55" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是我第一次行动太快吗？不。这是我开始悬赏捉虫以来的第三次了。虽然我可能对前两次有一些像样的借口，但这仍然是三次太多了。在当今的经济环境下，人们很容易对财务(不)安全感到恐慌，或者只想在世界末日之前完成一款游戏，这可能会导致一些考虑不充分、可能欠考虑的方法来寻找漏洞。但是，请记住，越容易/越快地找到关键缺陷，它就越不可能是一个缺陷。同样的道理，越复杂的bug，你会觉得越酷:)找到它，你肯定会更快、更多地得到回报。</p><p id="2f5a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">黑客快乐，新年快乐:)</p></div></div>    
</body>
</html>