<html>
<head>
<title>Write-up: Unprotected admin functionality @ PortSwigger Academy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">报道:未受保护的管理功能@ PortSwigger Academy</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/write-up-unprotected-admin-functionality-portswigger-academy-d5804e3bb65?source=collection_archive---------2-----------------------#2022-11-22">https://infosecwriteups.com/write-up-unprotected-admin-functionality-portswigger-academy-d5804e3bb65?source=collection_archive---------2-----------------------#2022-11-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/06c938d5a86fe32957e2d40def309dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dnE4klLMkAID1ZXJ.png"/></div></div></figure><p id="396e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇关于实验室<em class="kw">不受保护的管理功能</em>的文章是我在<a class="ae kx" href="https://portswigger.net/web-security" rel="noopener ugc nofollow" target="_blank"> PortSwigger的网络安全学院</a>的演练系列的一部分。</p><p id="b217" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">学习路径</strong>:服务器端主题→访问控制漏洞</p><div class="ky kz gp gr la lb"><a href="https://portswigger.net/web-security/access-control/lab-unprotected-admin-functionality" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab fo"><div class="ld ab le cl cj lf"><h2 class="bd ir gy z fp lg fr fs lh fu fw ip bi translated">实验室:不受保护的管理功能|网络安全学院</h2><div class="li l"><h3 class="bd b gy z fp lg fr fs lh fu fw dk translated">这个实验室有一个不受保护的管理面板。通过删除用户carlos来解决实验室问题。解决方案去实验室查看…</h3></div><div class="lj l"><p class="bd b dl z fp lg fr fs lh fu fw dk translated">portswigger.net</p></div></div><div class="lk l"><div class="ll l lm ln lo lk lp jw lb"/></div></div></a></div><p id="e051" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Python脚本:<a class="ae kx" href="https://github.com/frank-leitner/portswigger-websecurity-academy/blob/main/07_access_control/Unprotected_admin_functionality/script.py" rel="noopener ugc nofollow" target="_blank"> script.py </a></p><h1 id="c624" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">实验室描述</h1><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/7c775fccee3d17f8bb7efd0dcb5d4d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/0*NYyUw80_ne3DpaJq.png"/></div></figure><h1 id="6410" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">步伐</h1><p id="b86d" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">第一步是获得一个商店网站的web应用程序的概述。</p><p id="2288" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在网站枚举期间，首先要做的事情之一是检查robots.txt文件是否存在。它是一个文件，请求搜索引擎爬网程序将网站的某些部分包含在其索引中或从索引中排除。有时，有趣的地点会以这种方式显示出来。</p><p id="ebb7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">爬虫是服从这些意愿，还是无视这些意愿，就看它自己了。由于文件是纯文本的，这同样适用于任何阅读它的人。</p><p id="bd76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有很多方法可以检测这个文件的存在和内容。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="5583" class="lq lr iq bd ls lt nf lv lw lx ng lz ma mb nh md me mf ni mh mi mj nj ml mm mn bi translated">手动浏览</h1><p id="74a3" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">我可以尝试在浏览器中加载该文件，看看它是否存在及其内容:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/237fe2f12de6786f3dadf815c871b23e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/0*2sxP8EViEhte68tq.png"/></div></figure><p id="9eb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这可以从命令行快速完成，例如使用curl:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/45c503b800bf5d2db5cc6dfb4041f243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IP6vycDwrZcv8z7t.png"/></div></div></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="472f" class="lq lr iq bd ls lt nf lv lw lx ng lz ma mb nh md me mf ni mh mi mj nj ml mm mn bi translated">使用工具</h1><p id="a459" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">在任何合理的单词列表文件中，<code class="fe nm nn no np b">robots.txt</code>文件也包含在内。无论使用何种工作流程，任何攻击者都会立即看到该文件，如本例所示，使用<a class="ae kx" href="https://github.com/OJ/gobuster" rel="noopener ugc nofollow" target="_blank"> gobuster </a>和<a class="ae kx" href="https://github.com/danielmiessler/SecLists" rel="noopener ugc nofollow" target="_blank"> SecLists </a>中的单词列表:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/b6f4a8e06186a5ab07c6ac58fdaa5e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ii0UQBFay_wpv0vt.png"/></div></div></figure><p id="0ab2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很多工具都是自动完成的。例如，<a class="ae kx" href="https://github.com/sullo/nikto" rel="noopener ugc nofollow" target="_blank"> Nikto </a>甚至检查<code class="fe nm nn no np b">robots.txt</code>文件中提到的文件或目录是否存在，并直接在其输出中报告结果:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/4e6f5edf4b9fd9e402e1971e2ca6cc78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1r7RmXYSbNR0CALY.png"/></div></div></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="4d90" class="lq lr iq bd ls lt nf lv lw lx ng lz ma mb nh md me mf ni mh mi mj nj ml mm mn bi translated">造成伤害</h1><p id="cd45" class="pw-post-body-paragraph jy jz iq ka b kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr mx kt ku kv ij bi translated">该文件不得用于“保护”任何文件或目录。“不允许”只是友好地请求蜘蛛不要索引这些东西。是否服从这个请求取决于蜘蛛。谷歌公司会，其他公司不会。任何检查文件的人都知道什么是不允许的。</p><p id="bca9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">解决实验室问题就像用户<code class="fe nm nn no np b">carlos</code>访问<code class="fe nm nn no np b">https://0a8f00f704cb9ca9c08906980091002a.web-security-academy.net/administrator-panel</code>并点击<code class="fe nm nn no np b">Delete</code>一样简单:</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/91a652a14717c4359c82a1bb246cd535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C-Xgc0OyhEFHr9nt.png"/></div></div></figure><p id="11a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同时，实验室更新到</p><figure class="mp mq mr ms gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/305883d4a0a949f348dd35746a397874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TpBK0bF0MEY1tlX_.png"/></div></div></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="38c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">【https://github.com】最初发表于<a class="ae kx" href="https://github.com/frank-leitner/portswigger-websecurity-academy/tree/main/07_access_control/Unprotected_admin_functionality" rel="noopener ugc nofollow" target="_blank"><em class="kw"/></a><em class="kw">。</em></p><p id="d73c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe nm nn no np b"><a class="ae kx" href="https://medium.com/@frank.leitner/membership" rel="noopener">New to Medium? Become a Medium member to access all stories on the platform and support me at no extra cost for you!</a></code></p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h2 id="bb8c" class="nu lr iq bd ls nv nw dn lw nx ny dp ma kj nz oa me kn ob oc mi kr od oe mm of bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae kx" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>