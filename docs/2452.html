<html>
<head>
<title>Conducting a free AWS Security Assessment with Prowler</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Prowler进行免费的AWS安全评估</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/conducting-a-free-aws-security-assessment-with-prowler-f54a65de1020?source=collection_archive---------0-----------------------#2022-10-17">https://infosecwriteups.com/conducting-a-free-aws-security-assessment-with-prowler-f54a65de1020?source=collection_archive---------0-----------------------#2022-10-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="275f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这个免费工具获得完整的AWS安全报告</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/847032eb2b952f6bb7a2814f8063c38c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8gHIe5GinsEmYZnw"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯托夫·高尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="0a97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是一名<a class="ae ky" href="https://cloudsec-guy.com/category/cloud-security/" rel="noopener ugc nofollow" target="_blank">云安全</a>专家，那么像我一样，你一定害怕听到“安全审计”这个词。</p><p id="b4ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于云安全是一个如此新的职业，很多时候向审计人员解释云安全控制以及如何保护您的环境是非常困难的。</p><p id="da9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，Azure、AWS、GCP等商业云安全审查工具会大大消耗你的预算！</p><p id="e443" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您有一个需要定期审查的AWS帐户。一个积极主动的好方法是先发制人的安全审计，如PCI DSS，ISO 27001，并积极主动地对您的AWS帐户进行定期安全审查。</p><p id="f27f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将需要生成报告，显示您的云安全状况表现如何以及差距在哪里。然而，在预算紧张的情况下，这可能会变得非常具有挑战性，非常快！</p><p id="cdd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个简单的解决方法是实施我之前讨论过的<strong class="lb iu"> </strong> <a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/cloud-security-tooling-series-what-the-heck-is-a-cspm-8f37f6b1db19"> <strong class="lb iu">云安全状态管理</strong> </a>解决方案。</p><p id="a5b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，这些工具无论如何都不便宜，所以下一步将是使用像AWS security hub这样的本地工具，虽然非常便宜，但不幸的是也不是免费的。</p><blockquote class="lv"><p id="2bcd" class="lw lx it bd ly lz ma mb mc md me lu dk translated">那么零预算怎么办呢？</p></blockquote><h1 id="6bfa" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">进入Prowler——一个免费的AWS安全审查工具</h1><p id="68c7" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated"><em class="nc"> Prowler </em>是市场上最好的免费云安全工具之一，一直是我进行AWS安全审查的必经之路。</p><blockquote class="lv"><p id="5db9" class="lw lx it bd ly lz ma mb mc md me lu dk translated">Prowler是一款开源安全工具，可根据CIS Amazon benchmarks、PCI-DSS、GDPR ISO27001、HIPAA等标准进行AWS安全最佳实践评估和审计。</p></blockquote><p id="9b13" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">您可以使用所需的权限从命令行运行它，并生成报告，这些报告可以让您深入了解您的AWS安全性以及您在最佳实践基准方面所处的位置</p><p id="7965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">巡游者的+200检查包括以下</p><ul class=""><li id="5b7f" class="ni nj it lb b lc ld lf lg li nk lm nl lq nm lu nn no np nq bi translated"><strong class="lb iu">身份和访问管理</strong></li><li id="7f4a" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu">测井</strong></li><li id="b6d7" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu">监控</strong></li><li id="3a8f" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu">联网</strong></li><li id="cfea" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu"> CIS一级</strong></li><li id="902e" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu"> CIS二级</strong></li><li id="a5c4" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu"> GDPR </strong></li><li id="dfb5" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu"> HIPAA </strong></li><li id="9b1a" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu">秘密</strong></li><li id="3dc1" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu">互联网曝光资源</strong></li><li id="9ada" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><strong class="lb iu">还包括PCI-DSS、ISO-27001、FFIEC、SOC2、ENS </strong></li></ul><h1 id="1ca1" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz nw ka mr kc nx kd mt kf ny kg mv mw bi translated">如何安装和运行Prowler</h1><p id="5590" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">安装Prowler非常简单，只要你按照说明操作并确保它的依赖项存在。Prowler <a class="ae ky" href="https://github.com/prowler-cloud/prowler" rel="noopener ugc nofollow" target="_blank"> Github页面</a>有其需求的所有细节，如AWS CLI、jq、detect-secrets等。(在执行以下操作之前，确保这些都存在)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/d8d20c546f043407232cdd4fc27c53b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X4WBmVtrBnH4MOvBlcjycQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://github.com/prowler-cloud/prowler" rel="noopener ugc nofollow" target="_blank">https://github.com/prowler-cloud/prowler</a></figcaption></figure><p id="7e68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行git命令来下载prowler(是从我的mac而不是windows机器上下载的，但是这些命令并没有改变太多)</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="c95c" class="of mg it ob b gy og oh l oi oj">$ git clone <a class="ae ky" href="https://github.com/prowler-cloud/prowler" rel="noopener ugc nofollow" target="_blank">https://github.com/prowler-cloud/prowler</a><br/> **<br/>Cloning into 'prowler'...<br/>remote: Enumerating objects: 50, done.<br/>remote: Counting objects: 100% (50/50), done.<br/>remote: Compressing objects: 100% (41/41), done.<br/>remote: Total 2955 (delta 6), reused 43 (delta 5), pack-reused 2905<br/>Receiving objects: 100% (2955/2955), 971.57 KiB | 915.00 KiB/s, done.<br/>Resolving deltas: 100% (1934/1934), done.</span></pre><p id="bf11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步是确保您有适当的IAM权限来运行扫描。您将需要一个IAM访问密钥和秘密密钥，以便prowler可以进行身份验证(或者，如果您是高级用户，您可以承担一个角色)</p><p id="4b6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户或角色应至少拥有以下权限:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="b132" class="of mg it ob b gy og oh l oi oj">arn:aws:iam::aws:policy/SecurityAudit<br/>arn:aws:iam::aws:policy/job-function/ViewOnlyAccess</span></pre><p id="caff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建用户后，在您的环境中运行aws config命令来设置凭据。</p><p id="3f49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">配置完成后，您就可以运行Prowler了！</strong></p><p id="b57b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是运行和保存Prowler报告的选项。我通常使用CSV或HTML，但也有多种选择:</p><p id="ff1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于CSV:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="60bc" class="of mg it ob b gy og oh l oi oj">./prowler -M csv</span></pre><p id="79c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于HTML:</p><pre class="kj kk kl km gt oa ob oc od aw oe bi"><span id="fc0e" class="of mg it ob b gy og oh l oi oj">./prowler -M html</span></pre><p id="cd80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者你可以两者同时进行。如果你做的一切都正确，那么你应该会看到下面美丽的屏幕，表明徘徊者正在运行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/2a255170ddda232bb9435cedfc480501.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vAIs8u2I1s3xPo1m.png"/></div></div></figure><h1 id="7e49" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz nw ka mr kc nx kd mt kf ny kg mv mw bi translated">回顾小偷的报告</h1><p id="4178" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">徘徊者扫描需要一点时间，这取决于你在你的帐户中启用的服务数量。一个完成它应该存储报告在您的Prowler文件夹中的子目录称为输出。彻底审查报告，并优先考虑高/关键的第一。</p><p id="5f2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您要将它发送给其他团队进行审查，那么在发送之前先进行初步审查。永远不要假设报告是正确的，如果有一些你可以快速解决的问题，那就在传阅报告之前解决</p><p id="9a14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这对您有用，并且您会看到Prowler免费为您的AWS安全姿态带来的强大增值。在接下来的几天里，我会写更多关于prowler可用的高级选项的文章。</p></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><blockquote class="lv"><p id="8d3d" class="lw lx it bd ly lz ma mb mc md me lu dk translated">感谢你阅读这篇文章！如果你对云安全感兴趣，可以看看我的Youtube频道“<a class="ae ky" href="https://www.youtube.com/c/CloudSecurityGuy" rel="noopener ugc nofollow" target="_blank">云安全专家</a>”，我会定期在上面发布关于云安全、人工智能和一般网络安全职业建议的帖子。</p></blockquote></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><p id="29af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nc">你可以通过下面的链接注册，每月只需5美元就可以获得所有的媒体报道:</em></p><div class="os ot gp gr ou ov"><a href="https://taimurcloud123.medium.com/membership" rel="noopener follow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">通过我的推荐链接加入Medium—tai mur Ijlal</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">阅读Taimur Ijlal(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">taimurcloud123.medium.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ks ov"/></div></div></a></div></div><div class="ab cl ol om hx on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="im in io ip iq"><h2 id="3e54" class="of mg it bd mh pk pl dn ml pm pn dp mp li po pp mr lm pq pr mt lq ps pt mv pu bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae ky" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4条线索、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>