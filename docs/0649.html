<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://infosecwriteups.com/all-about-getting-first-bounty-with-idor-849db2828c8?source=collection_archive---------0-----------------------#2020-06-23">https://infosecwriteups.com/all-about-getting-first-bounty-with-idor-849db2828c8?source=collection_archive---------0-----------------------#2020-06-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><p id="5d99" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">与伊多一起获得第一笔赏金</p></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><figure class="jv jw jx jy gt jz gh gi paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="gh gi ju"><img src="../Images/e4f87a36c08c304e7189a49c9a69453b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRXDr2qaU_FOtcUzhV1_bA.png"/></div></div></figure><p id="8b09" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">大家好，</p><p id="9909" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">在2020年4月，我开始阅读和练习IDOR，最初几天很难找到IDOR的漏洞。因此，我回到不同的实践实验室，以更广泛地了解这个漏洞以及利用这个漏洞的各种方法。我已经在<a class="ae kg" href="http://www.dvwa.co.uk/" rel="noopener ugc nofollow" target="_blank"> DVWA </a>、<a class="ae kg" href="http://www.itsecgames.com/" rel="noopener ugc nofollow" target="_blank"> bWAPP </a>和<a class="ae kg" href="https://portswigger.net/web-security/access-control/idor" rel="noopener ugc nofollow" target="_blank">波特斯威格学院</a>进行过练习。</p><p id="9e72" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">根据<a class="ae kg" href="https://owasp.org/" rel="noopener ugc nofollow" target="_blank"> OWASP </a>:</p><blockquote class="kh ki kj"><p id="f6a1" class="io ip kk ir b is it iu iv iw ix iy iz kl jb jc jd km jf jg jh kn jj jk jl jm ij bi translated">"<a class="ae kg" href="https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/05-Authorization_Testing/04-Testing_for_Insecure_Direct_Object_References" rel="noopener ugc nofollow" target="_blank">当应用程序基于用户提供的输入提供对对象的直接访问时，会出现不安全的直接对象引用</a>。由于此漏洞，攻击者可以绕过授权，直接访问系统中的资源，例如数据库记录或文件。不安全的直接对象引用允许攻击者通过修改用于直接指向对象的参数值来绕过授权并直接访问资源。这样的资源可以是属于其他用户的数据库条目、系统中的文件等等。”</p></blockquote><p id="e747" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">我所遵循的评论和思维导图在这篇评论的最后分享。</p><p id="8b5c" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">在这篇文章中，我分享了我向一个项目报告的几个场景。比方说，我在一个网站上创建了3个用户，分别是User_1、User_2和User_3，他们具有相同的角色和权限:</p><p id="d0ec" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated"><strong class="ir ko">场景#1 </strong>:有一个功能，当用户创建一个帖子，有人可以在他们的个人资料上喜欢、评论和分享那个帖子。但是在检查这个功能时，我注意到另一个用户只能在评论中提到该帖子的作者，而被提到的人会收到相同的通知。</p><p id="a017" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">详细的攻击场景:</p><ol class=""><li id="99c6" class="kp kq iq ir b is it iw ix ja kr je ks ji kt jm ku kv kw kx bi translated">User_1创建了一个帖子。</li><li id="2de1" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">现在，当User_2对该帖子发表评论时，我注意到我只能提到该帖子的作者，在本例中是User_1。</li><li id="5705" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">因此，在Burp中捕获了注释(注释是:请检查@User_1)请求，JSON数据是这样传递的:</li><li id="d13e" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">{"text ":"请检查@[User_1 name]"，"提及":[{"uid ":"随机9位数"，" key":"User_1 name"}]，" message_id ":随机9位数}</li><li id="c32a" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">在上面的JSON数据中，uid是User_1的，通过访问User_3的配置文件并在User_3的配置文件图片上执行“inspect element ”,我可以获得user_3的uid。</li><li id="532d" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">因此，在JSON数据中，将两个值中的User_1名称更改为User_3名称，并将User_1的uid替换为User_3的uid。</li><li id="c7ea" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">最后，我可以在那篇文章中提及任何其他用户，而被提及的用户会收到通知。</li></ol><p id="490f" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">这个程序奖励我$$$这个错误，这是我第一次赏金:D</p><figure class="jv jw jx jy gt jz"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="e633" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated"><strong class="ir ko">场景#2 </strong>:有一个加入群组或创建群组的功能，在创建群组后，用户会获得一个group_code，他可以与其他用户共享该group _ code，而被推荐的用户将会在没有群组所有者批准的情况下被添加到群组中。</p><figure class="jv jw jx jy gt jz"><div class="bz fp l di"><div class="lf le l"/></div></figure><p id="7f32" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">详细的攻击场景:</p><ol class=""><li id="3fa9" class="kp kq iq ir b is it iw ix ja kr je ks ji kt jm ku kv kw kx bi translated">用户1选择“创建一个组”,在给该组命名并添加描述后，用户1获得该组的refer_code(随机6个字，例如pgytsd)。</li><li id="10a2" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">现在User_2选择“加入一个组”并在代码中输入pgytsd，我捕获了这个请求。</li><li id="e070" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">因此，在“加入一个组”请求中，JSON数据如下传递:</li><li id="4f1c" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">{ " membership ":{ " access _ code ":" pgytsd " } }</li><li id="dfd3" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">我只需要修改或强行修改访问代码</li><li id="3dda" class="kp kq iq ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">更改组代码后，我被添加到任何用户组，并且在Burp响应中，User_2能够看到该组的名称和描述以及该组所有者的名称和uid。</li></ol><p id="001e" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">又一次，我因为这个bug被奖励了$$$。</p><figure class="jv jw jx jy gt jz"><div class="bz fp l di"><div class="lg le l"/></div></figure></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="b953" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated"># <strong class="ir ko">博客/文章:</strong></p><div class="lh li gp gr lj lk"><a href="https://www.bugcrowd.com/blog/how-to-find-idor-insecure-direct-object-reference-vulnerabilities-for-large-bounty-rewards/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">如何:寻找IDOR(不安全的直接对象引用)漏洞，以获得巨额奖金</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">以下是两位来自土耳其的天才研究员梅尔特&amp;埃夫伦的客座博文。IDOR漏洞属于…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">www.bugcrowd.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Insecure%20Direct%20Object%20References" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">swisskyrepo/payloads all things</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">不安全的直接对象引用发生在应用程序根据用户提供的…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">github.com</p></div></div><div class="lu l"><div class="ma l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://blog.intigriti.com/hackademy/idor/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">不安全的直接对象引用(IDOR) — Intigriti</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">不安全的直接对象引用可能是最容易的错误之一，但它们会产生非常大的影响。我还是一个…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">blog.intigriti.com</p></div></div><div class="lu l"><div class="mb l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://medium.com/@pratyush1337/idor-bugs-are-pure-love-7k-250-54f3235ee943" rel="noopener follow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">IDOR Bugs是纯爱(7k+$250)</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">嗨猎人们！问候一天，这是通知你，我不能透露公司的名称，因为非…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">medium.com</p></div></div><div class="lu l"><div class="mc l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://ninadmathpati.com/2019/05/16/how-critical-is-idor-vulnerability-can-it-take-down-a-whole-company/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">IDOR漏洞有多严重？它能搞垮整个公司吗？~尼纳德·马特帕蒂</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">大家好，希望你们做得好，玩得安全！今天我再次来到这里，我的主题是…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">ninadmathpati.com</p></div></div><div class="lu l"><div class="md l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://blog.usejournal.com/a-less-known-attack-vector-second-order-idor-attacks-14468009781a" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">一个鲜为人知的攻击媒介，二阶IDOR攻击</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">你们中的大多数人可能熟悉漏洞类型“IDOR(不安全对象直接引用)”和二阶…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">blog.usejournal.com</p></div></div><div class="lu l"><div class="me l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://medium.com/@aysebilgegunduz/everything-you-need-to-know-about-idor-insecure-direct-object-references-375f83e03a87" rel="noopener follow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">关于IDOR(不安全的直接对象引用)您需要知道的一切</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">我已经在这个隔离时代开始了一个新的旅程，并决定调查OWASP前10名，并尽可能多地写它…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">medium.com</p></div></div><div class="lu l"><div class="mf l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://pentester.land/list-of-bug-bounty-writeups.html" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">臭虫奖励报道列表</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">首页AMA挑战备忘单会议笔记5黑客通讯臭虫猎人播客提示和技巧…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">彭特斯.兰</p></div></div><div class="lu l"><div class="mg l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://cheatsheetseries.owasp.org/cheatsheets/Insecure_Direct_Object_Reference_Prevention_Cheat_Sheet.html" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">不安全的直接对象引用防护</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">不安全的直接对象引用(此处称为IDOR)发生在应用程序公开对内部…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">cheatsheetseries.owasp.org</p></div></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://medium.com/@vickieli/how-to-find-more-idors-ae2db67c9489" rel="noopener follow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">如何找到更多的IDORs</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">并在寻找漏洞时最大限度地发挥它们的作用。</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">medium.com</p></div></div><div class="lu l"><div class="mh l lw lx ly lu lz ke lk"/></div></div></a></div><p id="6da6" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated"># <strong class="ir ko">思维导图</strong>:</p><div class="lh li gp gr lj lk"><a href="https://www.mindmeister.com/1470766611/web-app-pentest" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">Web应用程序Pentest</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">Web应用程序Pentest 2.1.1。POC 2.1.1.1。子域接管poc的github-https://hacker one . com/reports/363778 AWS…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">www.mindmeister.com</p></div></div><div class="lu l"><div class="mi l lw lx ly lu lz ke lk"/></div></div></a></div><p id="ccb3" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated"># <strong class="ir ko">打嗝扩展</strong>:</p><div class="lh li gp gr lj lk"><a href="https://portswigger.net/bappstore/f9bbac8c4acf4aefa4d7dc92a991af2f" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">自动调整</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">Autorize是一个扩展，旨在帮助渗透测试人员检测授权漏洞，这是…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">portswigger.net</p></div></div><div class="lu l"><div class="mj l lw lx ly lu lz ke lk"/></div></div></a></div><div class="lh li gp gr lj lk"><a href="https://portswigger.net/bappstore/f89f2837c22c4ab4b772f31522647ed8" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab fo"><div class="lm ab ln cl cj lo"><h2 class="bd ko gy z fp lp fr fs lq fu fw lr bi translated">自动中继器</h2><div class="ls l"><h3 class="bd b gy z fp lp fr fs lq fu fw dk translated">这个扩展自动重复请求，替换规则和响应不同。它提供了一个…</h3></div><div class="lt l"><p class="bd b dl z fp lp fr fs lq fu fw dk translated">portswigger.net</p></div></div><div class="lu l"><div class="mk l lw lx ly lu lz ke lk"/></div></div></a></div><p id="7858" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">有一个由<a class="ae kg" href="https://www.youtube.com/channel/UCQN2DsjnYH60SFBIA6IkNwg" rel="noopener ugc nofollow" target="_blank">STK，</a>制作的视频，很好地解释了如何使用Autorize和Auto Repeater:</p><figure class="jv jw jx jy gt jz"><div class="bz fp l di"><div class="ml le l"/></div></figure></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="880d" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">特别感谢<a class="ae kg" href="https://twitter.com/nightwatch1337" rel="noopener ugc nofollow" target="_blank"> Pratyush Anjan Sarangi </a>和<a class="ae kg" href="https://twitter.com/ninad_mathpati" rel="noopener ugc nofollow" target="_blank"> Ninad Mathpati </a>对我的帮助和指导。</p><p id="98bb" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">因为这是我的第一篇文章，如果有任何错误，我很抱歉，:D</p><p id="1f9d" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">与我联系:</p><p id="6503" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">领英:<a class="ae kg" href="https://in.linkedin.com/in/m0hn1sh" rel="noopener ugc nofollow" target="_blank">https://in.linkedin.com/in/m0hn1sh</a></p><p id="8fa8" class="pw-post-body-paragraph io ip iq ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ij bi translated">推特:<a class="ae kg" href="https://twitter.com/M0hn1sh" rel="noopener ugc nofollow" target="_blank">https://twitter.com/M0hn1sh</a></p></div></div>    
</body>
</html>