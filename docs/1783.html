<html>
<head>
<title>IDOR: A BEGINNER’S GUIDE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">伊多尔:初学者指南</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/idor-a-beginners-guide-bd5f9bf893fe?source=collection_archive---------1-----------------------#2022-01-08">https://infosecwriteups.com/idor-a-beginners-guide-bd5f9bf893fe?source=collection_archive---------1-----------------------#2022-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a8be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗨，很高兴带着一个关于网络开发的新话题回来，IDOR。IDOR是一种访问控制漏洞。让我们马上进入正题。</p><blockquote class="kl km kn"><p id="aea0" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">IDOR代表不安全的直接对象引用</p></blockquote><p id="291c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如前所述，这是一种访问控制漏洞。访问控制漏洞是指攻击者可以访问并非针对他们的信息或操作。当web服务器接收到用户提供的输入以检索对象时，可能会出现IDOR漏洞。这里的对象是指文件、数据、文档等。由于对输入数据过于信任，web应用程序不会验证用户是否可以访问所请求的对象。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/0f3d2bdfa4c28b30c931fcd998c9358e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AO13OEZIh7pFle5b"/></div></div></figure><h1 id="784a" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">如何发现并利用IDOR漏洞？</strong></h1><p id="836b" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">如前所述，IDOR漏洞依赖于更改用户提供的数据。这种用户提供的数据主要可以在以下三个地方找到:</p><ul class=""><li id="956f" class="mh mi iq jp b jq jr ju jv jy mj kc mk kg ml kk mm mn mo mp bi translated">查询组件</li><li id="3507" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">过帐变量</li><li id="f92a" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">饼干</li></ul><h2 id="bccd" class="mv lf iq bd lg mw mx dn lk my mz dp lo jy na nb ls kc nc nd lw kg ne nf ma ng bi translated"><strong class="ak">查询组件:</strong></h2><p id="1943" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">在网站中发出请求时，查询组件数据在URL中传递。看看下面这个网址的截图:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/27998febe49da66cc324e10255770ba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*iQp0RHdgNg22Nzgm.png"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">查询组件</figcaption></figure><p id="1a0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">URL可以细分为:</p><p id="729b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">协议:</strong> https://</p><p id="edfe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">域名:</strong> website.thm</p><p id="f843" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">页面:</strong>/个人资料</p><p id="6e7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">查询组件:</strong> id=23</p><p id="e2dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们可以看到/profile页面被请求，值为<strong class="jp ir"> 23 </strong>的参数<strong class="jp ir"> id </strong>被传入查询组件。该页面可能会向我们显示个人用户信息。如果我们将id参数更改为其他值，那么我们可以查看其他用户的数据。</p><h2 id="4450" class="mv lf iq bd lg mw mx dn lk my mz dp lo jy na nb ls kc nc nd lw kg ne nf ma ng bi translated"><strong class="ak">发布变量:</strong></h2><p id="f2e3" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">有时，检查网站上表单的内容可以发现易受IDOR攻击的字段。例如，以更新用户密码的表单的以下HTML代码为例。</p><blockquote class="nm"><p id="acbe" class="nn no iq bd np nq nr ns nt nu nv kk dk translated"><form method="”POST”" action="”/update-password”"> <br/> &lt;输入type = " hidden " name " user _ id " value = " ABC "&gt;<br/>&lt;div&gt;新密码:&lt;/div&gt;<br/>&lt;div&gt;&lt;输入type = " Password " name = " New _ Password "&gt;&lt;/div&gt;<br/>&lt;div&gt;&lt;输入type="submit" value= "更改密码"&gt; <br/></form></p></blockquote><p id="ac38" class="pw-post-body-paragraph jn jo iq jp b jq nw js jt ju nx jw jx jy ny ka kb kc nz ke kf kg oa ki kj kk ij bi translated">您可以在<strong class="jp ir"> &lt;输入&gt; </strong>标签中看到，用户的id正在一个隐藏字段中被传递给web服务器。将value参数更改为另一个user_id可能会导致更改另一个用户帐户的密码。</p><h2 id="78bd" class="mv lf iq bd lg mw mx dn lk my mz dp lo jy na nb ls kc nc nd lw kg ne nf ma ng bi translated"><strong class="ak">饼干:</strong></h2><p id="bd50" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">Cookies用于记住您的会话，以保持登录网站。通常，它发送的会话是一长串难以猜测的随机文本，例如<strong class="jp ir"> 8dghlsjh9k4dfkmzakfi3hr0k3n，</strong>，web服务器安全地使用它来检索您的用户信息并验证您的会话。有时，经验不足的开发人员可能会将用户信息存储在cookie本身中，例如用户的id。因此，更改此cookie的值可能会导致显示另一个用户的信息。你可以参考下面的例子，看看它们可能是什么样子。</p><p id="0903" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ob oc od oe b">GET /user-information HTTP/1.1<br/>Host: website.thm<br/>Cookie: user_id=9<br/>User-Agent: Mozilla/5.0 (Ubuntu;Linux) Firefox/94.0</code></p><p id="0bf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ob oc od oe b">Hello Jon!</code></p><p id="c7ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ob oc od oe b">GET /user-information HTTP/1.1<br/>Host: website.thm<br/>Cookie: user_id=5<br/>User-Agent: Mozilla/5.0 (Ubuntu;Linux) Firefox/94.0</code></p><p id="64fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ob oc od oe b">Hello Martin!</code></p><p id="fec8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">黑客快乐:)</p><blockquote class="kl km kn"><p id="37e0" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">参考:<br/>THM赛博3号房问世</p></blockquote></div><div class="ab cl of og hu oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="ij ik il im in"><figure class="kt ku kv kw gt kx gh gi paragraph-image"><a href="https://www.buymeacoffee.com/ssudarshan"><div class="gh gi om"><img src="../Images/01dbc2827853e082bc25bdd8996e1998.png" data-original-src="https://miro.medium.com/v2/resize:fit:314/format:webp/1*W9E1IHRzLnyAuSAhXXj9Ow.png"/></div></a><figcaption class="ni nj gj gh gi nk nl bd b be z dk translated">“给我买杯咖啡”是一个全球平台，数百万人在这里为创作者和艺术家提供经济支持。</figcaption></figure></div><div class="ab cl of og hu oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="ij ik il im in"><p id="b468" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和充满力量的讨论会议。 <a class="ae on" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">查看更多详情，在此注册。</strong>T12】</a></p><div class="oo op gp gr oq or"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">iwcon.live</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf lc or"/></div></div></a></div></div></div>    
</body>
</html>