<html>
<head>
<title>TryHackMe Advent of Cyber 2022 [Day 2] Santa’s Naughty &amp; Nice Log — No Answers :P</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络2022[第二天]圣诞老人的淘气与可爱日志——没有答案:P</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-advent-of-cyber-2022-day-2-no-answers-p-5bad39fb83ec?source=collection_archive---------1-----------------------#2022-12-04">https://infosecwriteups.com/tryhackme-advent-of-cyber-2022-day-2-no-answers-p-5bad39fb83ec?source=collection_archive---------1-----------------------#2022-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="7c1a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第2天学习目标</p><ul class=""><li id="e4f8" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">了解什么是日志文件以及它们为什么有用</li><li id="8770" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">了解日志文件可能包含哪些有价值的信息</li><li id="4c52" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">了解可以找到这些日志文件的一些常见位置</li><li id="6ef7" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">使用一些基本的Linux命令开始分析日志文件，寻找有价值的信息</li><li id="8a45" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">帮助精灵麦克布鲁追踪强盗雪人APT！</li></ul></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><p id="256f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lj">“圣诞老人的安全运营中心(SSOC)注意到他们的一个web服务器</em><a class="ae lk" href="http://santagift.shop/" rel="noopener ugc nofollow" target="_blank"><em class="lj">Santa gift . shop</em></a><em class="lj">被土匪Yeti APT集团劫持了。”—这一天是关于日志分析的</em></p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/d99869ebc15c8bed0145f9b71394a0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*pmDX3aN-SW-Xw6x1MjquEg.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">强盗雪人APT集团标志</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="4a1c" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated"><strong class="ak">问题1: </strong>确保您连接到该任务中的可部署机器。</h2><p id="64c9" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">该任务有一台需要开机才能完成任务的机器。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mv"><img src="../Images/ead0cf63452d3e785b5e3429ff4ea069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*axK6XYY0dfRLwk9HUe0dyA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">机器已通电并正在工作</figcaption></figure><p id="7e8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">完成第二天的第一个问题不需要答案。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi na"><img src="../Images/c4c2977f12c2fe3356a8ffd93587fb79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NxQ_Wzu9f8wdCkUhxKkbg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">不需要回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="3527" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated"><em class="nb">问题2:使用</em> <code class="fe nc nd ne nf b"><em class="nb">ls</em></code> <em class="nb">命令列出当前目录下的文件。有多少日志文件？</em></h2><p id="d30a" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">今天的下一个问题非常简单，因为我们需要运行命令<code class="fe nc nd ne nf b"><em class="lj">ls</em></code>来获得答案。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ng"><img src="../Images/6222c02c2ada472dd3efb5c0d8d9dc32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2OUdfPUdE0M5nWSIdMbqQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">限位开关（Limit Switch）</figcaption></figure><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nh"><img src="../Images/0e63b01435a7c6622756bac8fc9dc64a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qsoa7C4BW-AXiWmU7FoPsA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">问题2已回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="6146" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated"><strong class="ak">问题3: </strong> Elf McSkidy设法捕获了web服务器生成的日志。该日志文件的名称是什么？</h2><p id="fd3d" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">这个问题很容易回答，因为我们已经用<code class="fe nc nd ne nf b"><em class="lj">ls</em></code> <em class="lj"> </em>命令查看了目录中的日志文件。根据THM上的提示(显示答案的长度)，只有一个选项是可行的。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ni"><img src="../Images/5f00335c01ff656d03eb8f1e03f952aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9yxNf49RqinBplIdh6AbCg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">问题3已回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="b305" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">问题4:开始研究问题3中的日志文件，以回答以下问题。</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nj"><img src="../Images/f676454cfb54f34d5b9519231cfc3346.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rutMcVIBsQAb39m8zKtNhg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">不需要回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="9c69" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">问题5:圣诞老人的淘气和乖名单是哪一天被偷的？</h2><p id="61d2" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">读取日志的一个简单方法是对问题3 中的日志文件运行<code class="fe nc nd ne nf b"><em class="lj">cat</em></code> <em class="lj"/></p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nk"><img src="../Images/1e308b0a961588eef0390d88e5387af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*ysA0-TTUs9m54v2l55vbNQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">日志文件中使用的cat命令</figcaption></figure><p id="a061" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们发现了一个日期，藏在蓝色的长方形后面。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nh"><img src="../Images/175af92e9ce19a2420e29a1a8110e6a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RHEaMDNy-jpswutfj4AhOg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">提示，那是在11月</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="d3b2" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">问题6:攻击者的IP地址是什么？</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nk"><img src="../Images/1e308b0a961588eef0390d88e5387af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*ysA0-TTUs9m54v2l55vbNQ.png"/></div></div></figure><p id="1377" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用cat命令可以看到IP地址，因此我们可以停留在那个窗口。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nl"><img src="../Images/9bc4217204c58b3fd33bea232f8117fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_vdoThlwxA7iWyrQXc0KeA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">提示，从10开始</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="0863" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">问题7:攻击者从圣诞老人那里偷走的重要名单叫什么名字？</h2><p id="b39a" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">最重要的清单，可能是圣诞老人的清单？好孩子和坏孩子？无论如何，我将尝试使用grep，看看用GET命令获取了什么样的文件。</p><pre class="lm ln lo lp gt nm nf nn bn no np bi"><span id="f9d8" class="nq ly it nf b be nr ns l nt nu">grep -i "santa" webserver.log</span></pre><p id="4309" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">能够展示一些有趣的文件+答案</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nv"><img src="../Images/97ca333bf7c05c39d1b6bf5149171451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cmhL0n7sNnURExhy2N6A2A.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">圣诞老人的清单</figcaption></figure><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nw"><img src="../Images/8a7484fd681c5c71cc18b2a099d10add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2EVxkDPjUwxG7316AnnRA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">问题7已回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="979c" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">问题8:查看日志文件中的标志。标志的格式是:THM{}</h2><p id="c9f6" class="pw-post-body-paragraph jq jr it js b jt mq jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj mu kl km kn im bi translated">回答最后一个问题，我们可以再次使用grep。该标志隐藏在一个日志文件中。</p><pre class="lm ln lo lp gt nm nf nn bn no np bi"><span id="8783" class="nq ly it nf b be nr ns l nt nu">grep "THM{" (log file here)</span></pre><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/8e45b066058dc9e5f587252028c6f33c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*MRB55JCDFYmR1AiZnbc8zw.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">Grep为赢:P</figcaption></figure><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ny"><img src="../Images/72d51946a8548ad63fa5384691b7e97f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C53nd6PfcDTSqHWcQwNdsg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">问题8已回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="ac2f" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">问题9:对日志分析感兴趣？我们推荐<a class="ae lk" href="https://tryhackme.com/room/windowseventlogs" rel="noopener ugc nofollow" target="_blank"> Windows事件日志</a>室或者<a class="ae lk" href="https://tryhackme.com/module/endpoint-security-monitoring" rel="noopener ugc nofollow" target="_blank">端点安全监控模块</a>。</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nz"><img src="../Images/f0356ed3e7f1dc5021fe91c389d410eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oyCHN-xSuFnoITYSFQ-oEw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk translated">不需要回答</figcaption></figure></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><p id="e821" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lj">如果你喜欢看我的故事，</em> <a class="ae lk" href="https://medium.com/@stefan-p-bargan" rel="noopener"> <em class="lj">关注我</em> </a> <em class="lj">了解更多。此外，如果你不是中等会员，并且你想无限制地访问平台，可以考虑注册</em><a class="ae lk" href="https://stefan-p-bargan.medium.com/membership" rel="noopener"><em class="lj"/></a><em class="lj">！每月只有5美元，我只能得到很少的一部分。谢谢！</em></p><p id="e5a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">中等会员</strong>——<a class="ae lk" href="https://stefan-p-bargan.medium.com/membership" rel="noopener">https://stefan-p-bargan.medium.com/membership</a></p><p id="3c54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">我的LinkTree</strong>——<a class="ae lk" href="https://linktr.ee/StefanPBargan" rel="noopener ugc nofollow" target="_blank">https://linktr.ee/StefanPBargan</a></p></div><div class="ab cl lc ld hx le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="im in io ip iq"><h2 id="ef2d" class="lx ly it bd lz ma mb dn mc md me dp mf kb mg mh mi kf mj mk ml kj mm mn mo mp bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae lk" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>