<html>
<head>
<title>What Problem Solving Actually Looks Like</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解决问题实际上是什么样子</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/my-personal-ctf-challenge-4016e9c176b3?source=collection_archive---------3-----------------------#2020-08-22">https://infosecwriteups.com/my-personal-ctf-challenge-4016e9c176b3?source=collection_archive---------3-----------------------#2020-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="edc1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">自动售货机黑客的概念验证图像丢失。我是怎么把它们拿回来的？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5a20892840ddc79e4c6955e7d5581d6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UrfzvQFJ8qWqnJtZJOhsNQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">诚实的博客横幅</figcaption></figure><p id="a13d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">2020年8月9日:</strong>当我打开Google相册寻找概念验证的图片时，我开始拼凑我上周的帖子。不幸的是，我再也找不到它们了。然后，我记得工厂重置我的手机两个星期后，所以他们必须被删除，因为我不记得备份他们。但是你看了我上一篇文章，里面有那些图片。我是怎么把它们拿回来的？！…通过一个<strong class="kx ir"> HTTP存档</strong>文件和一些令人惊叹的Linux工具。</p><p id="a2df" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我在Instagram stories上发布了一些大约4000年前黑客攻击的照片。幸运的是，我也将它们添加到了个人资料的高亮部分。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lr"><img src="../Images/d8740ab32fefb32b498b6f80a245d6ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B1nvt99ZbLsuqytSbWRjyQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">4000年前</figcaption></figure><p id="3041" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">既然它们已经存储在Instagram服务器上，我只需要想办法把它们放到我的电脑上，因为应用程序菜单中没有“保存到设备”选项。我很快登录Instagram web，看看他们是否有高亮显示功能，如果有，我可以使用最神奇的黑客软件获得这些图片的链接……开发者工具。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lr"><img src="../Images/ef2e340e6c9b04dfac10eeabb38e4eca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRGjU7ggaJjjZnTkmj-ynQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">请注意域和文件类型</figcaption></figure><p id="4f95" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我打开控制台，查看带有源图像请求URL的GET请求。厉害！我现在可以下载图片了，…但是我应该下载吗？它们是九张图片，九个需要点击并手动保存的链接。数学太多了！我决定寻找一个自动化程度更高的解决方案，以防需要扩大规模。进入HAR。</p><div class="ls lt gp gr lu lv"><a href="https://en.wikipedia.org/wiki/HAR_%28file_format%29" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">HAR(文件格式)</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">HTTP存档格式，或HAR，是一种JSON格式的存档文件格式，用于记录web浏览器的交互…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">en.wikipedia.org</p></div></div></div></a></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/b6c3f9c5fe6951386314d16c7f3e9067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Px-71pe7ZVl-SyLi8VsCiQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">从未将它用于其原始目的，但这是一个良好的开端</figcaption></figure><p id="1675" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个HTTP存档文件可以从Networks选项卡中导出，它是一个JSON文件，包含关于浏览器加载的网页的详细性能数据<a class="ae mf" href="https://confluence.atlassian.com/kb/generating-har-files-and-analyzing-web-requests-720420612.html" rel="noopener ugc nofollow" target="_blank"/>。这将包括我感兴趣的图像请求URL。我一直在寻找一种像这样收集请求URL的方法，并且我最终在这个约定中找到了它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/b1b75d68970a210d198a50ec93334a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8rPDbsiDkqCSW-SAQCtlpQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">服务器一直在变化，所以这个HAR在几天后就过时了</figcaption></figure><p id="b597" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在分析了JSON结构之后，我找到了我需要的请求URL值。就是主机为' insta gram . fdel 11–1 . FNA . FB cdn . net '的那个。我使用jq解析这个JSON数据，总共15，566行。我考虑过使用grep或awk或sed，但我认为它们需要更多的调整。另外，我想在jq上做得更好，因为我以前只用过一次。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/f357c0284349ddd463c3c21273aa61dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zz5-ZmcWvfWxaNeUGSvXyg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">寻找字符串匹配技术</figcaption></figure><p id="874e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我花了一些时间研究如何遍历数组，为匹配URL的T2字符串创建一个正则表达式，并试图解决一个重复出现的“错误:测试未定义”。让我知道如果你设法解决这个问题，因为我不能让它在我的终端上工作。所以我求助于使用他们的<a class="ae mf" href="https://jqplay.org/" rel="noopener ugc nofollow" target="_blank">在线游乐场</a>进行测试……一个从HAR文件中提取直接图像URL的单行bash命令。另一个下载它们。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/c2384e71f28ecf4961adb480709a60b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJkG-cblIlvPSzjzXChUYg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">18个网址，因为我不小心点击聊天时加载了个人资料图片</figcaption></figure><p id="caab" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">此时，我已经拥有了我需要的一切，包括一个bash脚本来检查URL，并使用wget下载图像。因为剧本里一切看起来都很酷？！看看你的实验乐趣:p</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">只是它在我的机器上不能用。还没有。</figcaption></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="f933" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是现实世界中解决问题的一个例子。利用现有的随机知识，有时也学习新的知识，并以一种巧妙的方式将它们联系起来以获得结果。点击下面查看我上周的帖子，在那里我用这些图片来证明概念。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/bugbountywriteup/its-not-hard-to-hack-smart-73c928a5276b" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">我是如何黑进你的自动售货机的</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">对我4000年前所做的一件事的详细记述</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw kp lv"/></div></div></a></div></div></div>    
</body>
</html>