<html>
<head>
<title>Admin Panel? Pwned!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">管理面板？Pwned！</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/admin-panel-pwned-89db333f3836?source=collection_archive---------0-----------------------#2021-06-02">https://infosecwriteups.com/admin-panel-pwned-89db333f3836?source=collection_archive---------0-----------------------#2021-06-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9edd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不可阻挡的侦察力量</h2></div><p id="2259" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大家好，欢迎来到我写的第一篇文章，讲的是一个有趣的故事，讲的是如今一些管理员是如何保存密码的。</p><p id="b5a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在你开始阅读之前，我想提一下，这个发现是作为一个重复被关闭的，所以向第一个报道它的研究者致敬！</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/535052a009344b738f489273d312546b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vefbLJKErwiFH7FuvpmSHw.png"/></div></div></figure><h1 id="07bd" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">侦察阶段</h1><p id="0972" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">在HackerOne上挑选了一个目标后(不会透露)，我开始了我的子域枚举…对于这一步我不喜欢把事情复杂化，我只是按照大家收集子域的做法(这我不推荐，总是尽量和别人不一样，以免被骗lol)。以下是我的工作流程:</p><p id="aaca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> Assetfinder + subfinder →带标题、状态码和内容长度的httpx】</strong></p><p id="8618" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我得到了大约60个活着的独特的子域名，太棒了:)！让我们开始主动枚举…</p><h1 id="54b9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">子域分析</h1><p id="0c3a" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">有经验的bug猎人告诉我，不需要截图就可以检查子域，标题和状态码加上内容长度已经足够完成这项工作了，而且效率更高，因为你不会得到空白截图或重定向，可能会错过一些东西…</p><p id="93a4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向下滚动子域名列表，我看到其中一个引起了我的注意</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mk"><img src="../Images/7909901d0a31582404ef0e8a946f6164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V3tlKg7XUB3rUD1v-G9B8Q.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">有趣的子域！</figcaption></figure><p id="380a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯……【dashboard.redacted.com】T2和一个<strong class="kh ir"> 301重定向</strong>T6】状态触发了我内心的声音；1分钟的快速检查不会伤害你。我的意图是拦截重定向，并在那里做一些魔术，但当我打开网址，不，这不是你可以测试你的魔术，我得到了一个管理员登录页面。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/32adedcc17f532f0bdf069d43086ac63.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*2yd8N__DPeDvgqfW05i8Mg.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">登录面板</figcaption></figure><h1 id="0204" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">Pwn阶段</h1><p id="adc0" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">起初，我做了你们每个人都会做的事情，我开始猜测默认凭据，寻找隐藏的未赋值参数(XSS)，注入单引号和双引号(SQLi)…但是没有任何效果:/</p><p id="4001" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">没关系，现在下一步是你们大多数人不会做的，阅读源代码:)我强烈建议你每次访问一个端点时都这样做，正如我内心的声音早先所说的“<em class="mp">一分钟的快速检查不会伤害你:)</em>”有时你会感到惊讶。</p><p id="c307" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好吧，让我们检查源代码</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mr"><img src="../Images/932b6c12dd9d756c854b78402f40ef14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BrGI-degqIvU-Awv5A1Cw.png"/></div></div></figure><p id="0588" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，在查看javascript文件之前，我不会关闭窗口并检查另一个子域！另外，它的名字应该真正引起你的注意。所以我去看了文件，你猜怎么着？</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ms"><img src="../Images/5f74b665961a8785ba45b4322028da2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xv4tCM3wrvrognB9-6n10g.png"/></div></div></figure><p id="d422" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将您的凭证存储在javascript注释中？我不认为它们是有效的，让我看看…</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/40b6212429e7509f676bdf99d9295eb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*4kF9pMqyirVkcOyf2-v01A.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">Pwned :D</figcaption></figure><p id="7f6d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们成功地pwn了我们的管理员:D</p><p id="3ee7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，我不能截图整个仪表板，因为你可以很容易地从它的设计猜测公司…</p><p id="f861" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我试图在仪表板中挖掘更多信息，以检查他们是否有上传端点或什么的，但什么都没有，你所能做的就是查看数据并下载它。</p><h1 id="c417" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">关键要点</h1><ul class=""><li id="6dcb" class="mu mv iq kh b ki mf kl mg ko mw ks mx kw my la mz na nb nc bi translated">永远不要低估侦察的力量，只要不浪费时间，适当地去做，你一定会得到一些结果。</li><li id="73e9" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">不要错过阅读源代码，尤其是javascript文件，你可能会得到凭证，API密钥，甚至敏感的隐藏端点…只是继续寻找，并打开你的眼睛！</li><li id="a215" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">永远相信你的直觉，潜意识是基于你以前的经验和你作为一个bug猎人的工作流程阶段而被触发的。</li><li id="3d57" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">正确地黑客和永不放弃，我没有在这个副本后，得到了一个非常好的bug triaged，一旦它被披露，我会与你分享。</li></ul><p id="f4ae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢读我的第一篇文章，把它分享给你的朋友，并提醒他们阅读JS文件:)</p><p id="1d91" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谢谢你读到❤的这一部分，直到下一篇！</p><p id="934b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae ni" href="https://twitter.com/splint3rsec" rel="noopener ugc nofollow" target="_blank">https://twitter.com/splint3rsec</a></p></div></div>    
</body>
</html>