<html>
<head>
<title>External SSRF detected ⚠️</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">外部SSRF检测到⚠️</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/external-ssrf-detected-%EF%B8%8F-a36ade59f7fd?source=collection_archive---------0-----------------------#2021-07-13">https://infosecwriteups.com/external-ssrf-detected-%EF%B8%8F-a36ade59f7fd?source=collection_archive---------0-----------------------#2021-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f272" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">holaaaaaa黑客！！希望你们都过得好。欢迎再次光临……</strong>👋</h2></div><h1 id="51e0" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">这是什么漏洞？</strong>🤔</h1><p id="b63f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">服务器端请求伪造(也称为SSRF) </strong>是一个web安全漏洞，允许攻击者诱导服务器端应用程序向攻击者选择的任意域发出HTTP请求。</p><p id="00df" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">在典型的SSRF攻击中，攻击者可能会使服务器连接到组织基础架构中仅供内部使用的服务。在其他情况下，他们可能会强制服务器连接到任意外部系统，从而可能泄露敏感数据，如授权凭据。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ly"><img src="../Images/61bec7b1471d04ca1b0db22a0e11cf8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oeYbCp36k03j5E4SFhfX0A.png"/></div></div></figure><h1 id="b5c3" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">SSRF袭击的影响是什么？</h1><p id="7cbc" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">成功的SSRF攻击通常会导致组织内未经授权的操作或对数据的访问，无论是在易受攻击的应用程序本身，还是在该应用程序可以与之通信的其他后端系统上。在某些情况下，SSRF漏洞可能允许攻击者执行任意命令。</p><p id="5e8c" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">导致连接到外部第三方系统的SSRF漏洞可能会导致恶意的后续攻击，这些攻击似乎来自托管易受攻击的应用程序的组织。</p><p id="d57c" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir">来源👆:</strong><a class="ae mk" href="https://portswigger.net/web-security/ssrf" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir">https://portswigger.net/web-security/ssrf</strong></a></p><p id="4494" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir">使用的工具:</strong></p><p id="f06d" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">ngrok(要下载ngrok点击这里:<a class="ae mk" href="https://ngrok.com/download" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir">https://ngrok.com/download</strong></a>)</p><p id="932b" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir">我是怎么得到这个BUG的？</strong></p><p id="0a3f" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">首先，我用下面的命令在终端中执行<strong class="kz ir"> ngrok </strong>(你可以用你选择的任何端口运行<strong class="kz ir"> ngrok </strong>):</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/143024da9a463800907dfcb92cf5c6cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*Lg_HXb5TB7t833Evio14IA.png"/></div></figure><p id="32f0" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">执行后，我们将获得如下两个端口转发url:</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mm"><img src="../Images/6b2796ab64aedd02fe59b969b84405d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c4wznjiEtQSoz4Hs1EanBg.png"/></div></div></figure><p id="14df" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">复制其中一个转发链接</p><p id="912d" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">现在，下一步是在终端的另一个选项卡中使用相同的端口运行netcat:</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/0c0464e26724f91d54ae5cd62b2a6599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*OlUXdx_1GcnbreZFfp3Ebw.png"/></div></figure><p id="0a1e" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir"> l </strong> —断线后监听</p><p id="bb5b" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir"> v </strong> —开启详细模式</p><p id="8826" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir"> p </strong> —端口</p><p id="b2f5" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">现在，你可以试着在任何地方加载这个链接，比如用户名、名或姓、照片网址、文档网址等等。</p><p id="65dc" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">在我的例子中，我试图执行URL，其中需要上传个人资料图片链接。</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/28a87c5760dc102893d56b44cea67bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*0q-4drl7AluUVrzs8ozX_g.png"/></div></figure><p id="ade4" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">然后，嘣💥💥….它被执行了！！😱</p><p id="8deb" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我在机场得到的回应是:</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mp"><img src="../Images/f599d9dad2885481cf344a2f7d95913e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tiQlGKRmhcqtwVmUI8YmBw.png"/></div></div></figure><p id="21d3" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">感谢阅读…希望你喜欢它！！如果你有任何问题，请随时联系我🙂</p><p id="8c63" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">跟我来👇</p><p id="ed60" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir">领英:</strong><a class="ae mk" href="https://www.linkedin.com/in/shreya-talukdar-infosec/" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir">https://www.linkedin.com/in/shreya-talukdar-infosec/</strong></a></p><p id="76c1" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir">中等</strong>:<a class="ae mk" href="https://shreyatalukdar.medium.com/" rel="noopener">T3】shreyatalukdar.medium.comT5】</a></p><p id="222b" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir">推特:</strong><a class="ae mk" href="https://twitter.com/ShreyaTalukdar9" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir">https://twitter.com/ShreyaTalukdar9</strong></a></p></div></div>    
</body>
</html>