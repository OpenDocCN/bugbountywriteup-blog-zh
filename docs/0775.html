<html>
<head>
<title>From SQL Injection to Hall Of Fame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从SQL注入到名人堂</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/from-sql-injection-to-hall-of-fame-96a08c869acd?source=collection_archive---------3-----------------------#2020-08-18">https://infosecwriteups.com/from-sql-injection-to-hall-of-fame-96a08c869acd?source=collection_archive---------3-----------------------#2020-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fb855009c7258d8608b682a6b93e80f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UV6lmYquXIyAYfszxXuS4A.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://www.pexels.com/@luis-gomes-166706?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">路易斯·戈麦斯</a>从<a class="ae kc" href="https://www.pexels.com/photo/blur-close-up-code-computer-546819/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">派克斯</a>拍摄</figcaption></figure><p id="ace3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在评估目标web应用程序的漏洞时，Google Dorking似乎是bug bounty hunter的武器库中一种经常被低估的技术。Google dork查询，有时简称为dork，是一个搜索字符串，它使用高级<a class="ae kc" href="https://whatis.techtarget.com/definition/search-operator" rel="noopener ugc nofollow" target="_blank">搜索运算符</a>来查找网站上不容易找到的信息。</p><p id="14db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Google Dorking又称<a class="ae kc" href="https://searchsecurity.techtarget.com/definition/Google-hacking" rel="noopener ugc nofollow" target="_blank"> Google hacking </a>，可以通过简单的搜索查询返回难以定位的信息。该描述包括不打算供公众查看但没有得到充分保护的信息。参考此处<a class="ae kc" href="https://whatis.techtarget.com/definition/Google-dork-query" rel="noopener ugc nofollow" target="_blank">https://whatis.techtarget.com/definition/Google-dork-query</a></p><p id="204b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我最近遇到了一个有趣的谷歌呆子<code class="fe lb lc ld le b">inurl:storefrontb2bweb</code>,它使我们能够扫描容易受到SQL注入攻击的电子商务网站。这最初是由一个名叫ratboy的臭虫猎人发现的。在Google中输入这个查询将会返回4页的结果。不幸的是，大多数网站所有者没有漏洞披露，通过其他渠道联系他们的努力被证明是徒劳的。</p><p id="9a21" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我在谷歌上搜索“公司名称漏洞披露”，发现一个网站有漏洞披露渠道。易受攻击的参数是username参数，该参数在注入单引号或双引号时会引发SQL错误。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lf"><img src="../Images/542afa8dc89e9f015abf30b3e7a8e28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rqdu2C5JS-eY9plNVTH9A.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">用于验证漏洞的SQL错误消息</figcaption></figure><p id="2137" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过下面的命令，利用这个SQL注入bug对于<a class="ae kc" href="http://sqlmap.org/" rel="noopener ugc nofollow" target="_blank"> SQLMAP </a>来说是微不足道的。</p><p id="4fc8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">python sqlmap.py -u"http://localhost/storefrontB2BWEB/login.do?setup_principal=true&amp;action=prepare_forgot&amp;login=true&amp;usr_name=foo"<br/>-p usr_name --dbms=mssql --level=5 --risk=3<br/>--tamper=between,space2comment -o --random-agent --parse-errors<br/>--os-shell --technique=ES</code></p><h2 id="a49f" class="lk ll iq bd lm ln lo dn lp lq lr dp ls ko lt lu lv ks lw lx ly kw lz ma mb mc bi translated">固定</h2><p id="bfa4" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">正确的用户输入转义。</p><p id="b151" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向受影响的公司报告这一漏洞使我在他们的名人堂中赢得了一席之地。我希望所有受影响的公司采取必要的措施来解决这个问题，更重要的是，考虑建立适当的渠道，负责任地报告这些问题，以便及时解决。</p></div></div>    
</body>
</html>