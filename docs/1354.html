<html>
<head>
<title>Bypassing Rate Limit ( using Timestamp )</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">绕过速率限制(使用时间戳)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/bypassing-rate-limit-using-timestamp-b41291859457?source=collection_archive---------1-----------------------#2021-06-03">https://infosecwriteups.com/bypassing-rate-limit-using-timestamp-b41291859457?source=collection_archive---------1-----------------------#2021-06-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1ab6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文分为以下几个部分:</p><ol class=""><li id="c4fc" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">介绍</li><li id="88cf" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">漏洞描述和攻击方法。</li><li id="40ed" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">复制和绕过速率限制的步骤。</li></ol><h1 id="0081" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">介绍</h1><blockquote class="lx ly lz"><p id="d524" class="jn jo ma jp b jq jr js jt ju jv jw jx mb jz ka kb mc kd ke kf md kh ki kj kk ij bi translated">什么是速率限制？</p></blockquote><p id="9810" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">速率限制是一种限制网络流量的策略。它限制了一个人在一定时间内重复一个动作的频率——例如，尝试登录一个账户。速率限制有助于阻止某些类型的恶意bot活动。它还可以减轻网络服务器的压力。<br/>如果一个客户端在给定的时间范围内发出太多请求，HTTP服务器可以用<strong class="jp ir">状态代码429:太多请求</strong>来响应</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi me"><img src="../Images/c3b8eda86abbe2a05fc31f2d6954adab.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*aPcGEHIbYlL_lj2KqQodqQ.gif"/></div></figure><p id="136f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以像往常一样，我试图在应用程序的忘记密码页面上寻找限速问题。不要对实施的速率限制感到惊讶。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mm"><img src="../Images/114c0366e69f4366fc897793234846c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-zg-igtFNOr2dJYY"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">照片由<a class="ae mv" href="https://unsplash.com/@timmossholder?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Tim Mossholder </a>在<a class="ae mv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="8be5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了绕过速率限制，我研究了它在处理忘记密码过程时发出的请求。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mw"><img src="../Images/dfdef783a42ea2dc69603e9f55bdd7c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_S4GJaIVnsrBNKVkKgtTg.png"/></div></div></figure><p id="7f9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如您所见，有一个<strong class="jp ir">“timestamp”</strong>参数与一些其他用户数据一起被传递。</p><p id="bdc0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我想他们为什么特别传递时间戳参数。一定有什么原因。所以为什么不试试这个参数，试着相应地改变它。看看会不会发生什么</p><p id="92e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在做了一些研究并制定了攻击方法后，我能够绕过速率限制</p><h1 id="dc0a" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">攻击方法</strong></h1><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/d6b2efaf5f34dc0093b9f964e8fe3eb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*Rn_V7vQkk-DQDSJ20xnVvQ.jpeg"/></div></figure><p id="93ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，由于每个请求都要传递时间戳参数，所以很有可能服务器正在检查时间戳变量，以查看时间戳是否与前一个请求相同，或者是否已经更改。</p><p id="389d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，服务器将检查时间戳，如果它发现时间戳与前一个请求中使用的时间戳相同，它将知道请求已被重复，并将给出<strong class="jp ir"> 429:太多请求状态。</strong></p><p id="30b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是如果我们在每个请求上增加时间戳参数呢？然后，如果服务器检查时间戳并将其与之前的请求进行匹配。随着timestamp参数的增加，它将与前一个请求中使用的不同，服务器会将该请求视为有效。</p><p id="4a18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">所以像第一个请求有时间戳:</strong>1599550120<strong class="jp ir">334</strong><br/>T22】因此下一个请求将有时间戳: 1599550120 <strong class="jp ir"> 335 </strong></p><p id="df07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如您所见，我们将时间戳从334增加到335。</p><p id="1edc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这样做之后，我成功地绕过了速率限制。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi my"><img src="../Images/d259749d18c984a4f2c549ae5dc64907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k0EAmUNKBYF_ehNIuVf8_Q.jpeg"/></div></div></figure><p id="dc72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">有用知识:</strong></p><p id="6813" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里<strong class="jp ir">“1599550120316”</strong>是时间戳格式，格式名是<strong class="jp ir">纪元</strong>。这种格式通常用在web应用程序中，是一种常见的格式。</p><p id="31a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以为了根据我们的需要改变时间戳。</p><p id="eba6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问这个在线转换器，根据你的需要改变它<a class="ae mv" href="https://www.epochconverter.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://www.epochconverter.com/</strong></a></p><h1 id="55ba" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">复制的步骤</h1><p id="75f9" class="pw-post-body-paragraph jn jo iq jp b jq mz js jt ju na jw jx jy nb ka kb kc nc ke kf kg nd ki kj kk ij bi translated"><strong class="jp ir">步骤1 — </strong>转到忘记密码页面，输入受害者的电子邮件地址。</p><p id="0089" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤2 </strong> —在Burpsuite中拦截此特定请求。</p><p id="268d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤3 </strong> —现在将这个请求发送给入侵者，并选择您想要增加的时间戳参数编号。</p><p id="c3cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">比如你想在1599550120 <strong class="jp ir"> 334中增加<strong class="jp ir"> 334 </strong>。</strong></p><p id="b8e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">选择这些特定的数字作为有效负载，以便有效负载在新请求时增加。</p><p id="0ef3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:为了检查的目的，你也可以手动执行这个任务(比如一个一个地增加数字)，但是我建议你使用turbo intruder或者intrusor来自动执行这个任务。</p><p id="6d6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第四步——如果一切正常，你会在受害者的收件箱里收到200封状态码为&amp;的100多封邮件</p><p id="3a16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ma">在这里支持我⬇ </em> </strong></p><div class="ne nf gp gr ng nh"><a href="https://www.buymeacoffee.com/karanxa" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">Karan Arora正在媒体上创建与bug奖金相关的高质量内容。</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">嘿👋我是一名好奇的安全研究员和内容创建者，喜欢为安全创建高质量的内容…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">www.buymeacoffee.com</p></div></div></div></a></div><p id="84cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mv" href="https://www.paypal.com/paypalme/karanxarora" rel="noopener ugc nofollow" target="_blank">https://www.paypal.com/paypalme/karanxarora</a></p><p id="6a5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ma">推特⬇ </em> </strong></p><p id="69a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mv" href="https://twitter.com/Itskaranxa" rel="noopener ugc nofollow" target="_blank">https://twitter.com/Itskaranxa</a></p><p id="4d7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如果你觉得这值得你花时间，那么</strong></p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/61a36e9ca717a45f98e545e62ccb2e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*PFjpBKZn0W-w-KWJiI_pJQ.jpeg"/></div></figure><p id="362e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">订阅更多。保持好奇！！</strong></p></div></div>    
</body>
</html>