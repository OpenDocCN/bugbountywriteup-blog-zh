<html>
<head>
<title>Funbox-4: CTF Walkthrough (Vulnhub)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Funbox-4: CTF漫游(Vulnhub)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/funbox-4-ctf-walkthrough-vulnhub-a5c733c350df?source=collection_archive---------2-----------------------#2020-09-20">https://infosecwriteups.com/funbox-4-ctf-walkthrough-vulnhub-a5c733c350df?source=collection_archive---------2-----------------------#2020-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/135f2525cabdecb8458d39211218638f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9e9n0TX6etZIzTCYY0TGw.png"/></div></div></figure><p id="e628" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">土拨鼠日:Boot2Root！由<a class="ae kz" href="https://twitter.com/@0815R2d2" rel="noopener ugc nofollow" target="_blank"> @0815R2d2 </a>创建。最初的脚步有点瑕疵，但真的不难。进入Funbox: CTF后，有必要找到、阅读并理解(2个且容易找到的)提示。聪明点，结合起来…永远小心兔子洞。下载机器访问【https://www.vulnhub.com/entry/funbox-ctf,546/】T3<a class="ae kz" href="https://www.vulnhub.com/entry/funbox-ctf,546/" rel="noopener ugc nofollow" target="_blank">T5】</a></p><p id="ebcd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我的建议是在Virtualbox上解决这个机器，但正如“<strong class="kd iu">好奇心不断引导我们走上新的道路— </strong>华特·迪士尼”所以，你可以尝试VMware，也可以重新挑战，找到自己获得root访问权限的方法。</p><blockquote class="la lb lc"><p id="055c" class="kb kc ld kd b ke kf kg kh ki kj kk kl le kn ko kp lf kr ks kt lg kv kw kx ky im bi translated">获得的知识:-</p></blockquote><ol class=""><li id="bbe7" class="lh li it kd b ke kf ki kj km lj kq lk ku ll ky lm ln lo lp bi translated">列举</li><li id="6cb5" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">反向外壳</li><li id="d2a1" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">创建独特的单词表</li><li id="e706" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">绕过rbash</li><li id="2b8e" class="lh li it kd b ke lq ki lr km ls kq lt ku lu ky lm ln lo lp bi translated">搜索和使用漏洞</li></ol><blockquote class="la lb lc"><p id="c78d" class="kb kc ld kd b ke kf kg kh ki kj kk kl le kn ko kp lf kr ks kt lg kv kw kx ky im bi translated">端口扫描</p></blockquote><p id="9d6b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在确定了预期的受害者之后，让我们运行一个Nmap扫描来查找开放的端口和正在运行的服务。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lv"><img src="../Images/a547cfcd3244dca586258804768a2012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jwhG5R83Z11tgMmhBWe-kg.png"/></div></div></figure><blockquote class="la lb lc"><p id="1548" class="kb kc ld kd b ke kf kg kh ki kj kk kl le kn ko kp lf kr ks kt lg kv kw kx ky im bi translated">网络侦察</p></blockquote><p id="48fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在80端口访问受害者的主页，显示的是Ubuntu的默认页面，没有任何有用的东西。所以，我尝试用gobuster来枚举隐藏的目录，但是首先，我们必须创建一个单词表，所有的字符都是大写的，就像这样👇</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/7ff32d0420ddf118aa79a8dc6c82351c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*NDFoIdYKzjxsPg79ejvLJQ.png"/></div></figure><p id="0eca" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在运行gobuster。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mb"><img src="../Images/9779e1e451cf38e1e64ec047b73209d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urlINeGDh09zMm5kx6-oVg.png"/></div></div></figure><p id="9b0a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">打开URL并向下滚动。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/b34a658c5414b406b283f00971e1fbbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*syxMWHC-ITAGufrb6evO8A.png"/></div></figure><p id="2f1c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">再次运行目录扫描，您将获得获得一个反向外壳的路径。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi md"><img src="../Images/885a1f8afb727881caec3b6dbc4e32dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kONzkH4rT33hmH749Ey0Ow.png"/></div></div></figure><p id="bed8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">只需上传一个PHP反向shell，其中包含您的kali IP_address，同时通过Netcat监听传入的连接。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi me"><img src="../Images/85069c180a0a5408261fd4723d55cecb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sY7urw-kNxuc8Qxs4ttkaA.png"/></div></div></figure><p id="8037" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">导航到<strong class="kd iu"> /home/thomas </strong>目录，您将看到<strong class="kd iu">。todo </strong>文件显示添加<strong class="kd iu">！</strong>密码结束。再补充一下<strong class="kd iu">！</strong>在rockyou.txt文件的每一行中，用<strong class="kd iu">蛮力</strong>对用户thomas进行SSH登录。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mf"><img src="../Images/09702c7d9f9b14e1074667c994753d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vsoh511hefRZbECepPgzgA.png"/></div></div></figure><p id="9196" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在用九头蛇，等一段时间。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mg"><img src="../Images/220dcbd9d08b97a1999a924302eefea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rEGtvsND0gMbrnnGpGANg.png"/></div></div></figure><blockquote class="la lb lc"><p id="f8dd" class="kb kc ld kd b ke kf kg kh ki kj kk kl le kn ko kp lf kr ks kt lg kv kw kx ky im bi translated">宋承宪<em class="it">侦察</em></p></blockquote><p id="baaa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">登录thomas，你会看到一个rbash，通过VIM绕过它。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/d09f480d98cbbaedf39ed71349845822.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*FYGXJfzUHwLiYejj29VdGg.png"/></div></figure><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/923e47260ba7155220b280e0fb504c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*qmR80eMz2wc14Cb9gR16YA.png"/></div></figure><p id="574c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，你会离开巴什。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mj"><img src="../Images/82b2472e666f14c136be273acd10c907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4GGvIkz9QL57thFDsIZWUg.png"/></div></div></figure><p id="44cf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我重复一遍，不要落入像<strong class="kd iu"> pspy64 </strong>这样的陷阱，因为我试过了。因为wget和curl不存在，所以使用SCP进行文件传输。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ae152c25183767b64f5130d9b772d9c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GT3ECUMLsyxrf6QpnjFMwA.png"/></div></div></figure><p id="a414" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过更改权限运行脚本，您将看到有用的软件和安装的编译器，它们可能会出现，因为会有一些操作系统漏洞，如果gcc-5没有出现，只需重置您的机器。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mk"><img src="../Images/30aafc78ff8090b3a565a4ad2b6f22b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L_Ktn1nYzzw9MtGg5I12QA.png"/></div></div></figure><p id="a200" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将<strong class="kd iu">l</strong><a class="ae kz" href="https://github.com/mzet-/linux-exploit-suggester" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu">inux-exploit-suggester</strong></a>从您的机器中转移出来，并像我们上面所做的那样运行它。你会得到一个漏洞列表，让我们试试<strong class="kd iu">【CVE-2017–16995】eBPF _ verifier。</strong></p><p id="e6ce" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在下载漏洞利用<strong class="kd iu"> 45010。C </strong>在你的kali机器中文件并转移到thomas中的<strong class="kd iu"> /tmp/ </strong>路径并将权限改为<strong class="kd iu"> 777 </strong>然后运行漏洞利用。我也试过dirty_cow 1和2但是没用。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ml"><img src="../Images/b8d621a1cc89bd4f39ff27756d3afe26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDO5nAF_03HjAaV1TmnApg.png"/></div></div></figure><p id="2b82" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">导航到根目录，您将获得标志。</p><figure class="lw lx ly lz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mm"><img src="../Images/2521a66e44fa82088803ce61314c3c6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iQ_uDzYIfAe7uHACIG7OuQ.png"/></div></div></figure><p id="a4e5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">由我和我的伙伴<a class="ae kz" href="https://twitter.com/0xMadhav" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> @0xMadhav </strong> </a>解决</p><p id="a80f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如需更多演练，请继续关注…</p><h1 id="d3ba" class="mn mo it bd mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk bi translated">在你走之前</h1><p id="1d89" class="pw-post-body-paragraph kb kc it kd b ke nl kg kh ki nm kk kl km nn ko kp kq no ks kt ku np kw kx ky im bi translated">访问我的其他新Vulnhub机器演练的:-</p><div class="nq nr gp gr ns nt"><a href="https://medium.com/@Shubham_Singh_/funbox-3-easy-walkthrough-vulnhub-fd13a1648445" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">FUNBOX-3:轻松穿越(Vulnhub)</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">描述</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh jz nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://medium.com/@Shubham_Singh_/funbox-2-walkthrough-vulnhub-b1933209acf3" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">FunBox-2演练(Vulnhub)</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">描述</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh jz nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://medium.com/@Shubham_Singh_/healthcare-1-walkthrough-vulnhub-24d9d050dd9c" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">医疗保健:1次演练(Vulnhub)</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">作者描述</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="oj l oe of og oc oh jz nt"/></div></div></a></div><p id="c056" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">拍手声👏🏽如果你喜欢这个。</p></div></div>    
</body>
</html>