<html>
<head>
<title>Google.news is not google.news: POC For Google Phishing with SSL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google.news不是google.news:使用SSL的Google钓鱼POC</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/poc-for-google-phishing-in-10-minutes-%C9%A2oogletranslate-com-dcd0d2c32d91?source=collection_archive---------0-----------------------#2020-03-12">https://infosecwriteups.com/poc-for-google-phishing-in-10-minutes-%C9%A2oogletranslate-com-dcd0d2c32d91?source=collection_archive---------0-----------------------#2020-03-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="dbe6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated">2016年，我看到一个帖子，说有人<a class="ae lb" href="https://www.analyticsedge.com/2016/11/heres-a-secret-%C9%A2oogle-com-is-not-google-com/" rel="noopener ugc nofollow" target="_blank">要收购ɢoogle.com。</a> <br/>它被用于<a class="ae lb" href="https://en.wikipedia.org/wiki/Phishing" rel="noopener ugc nofollow" target="_blank">钓鱼</a>草菅人命(注意第一个G)。<br/>同形异义字符看起来像ASCII字母，但它们的编码不同，人眼通常察觉不到。</p><blockquote class="lc ld le"><p id="ae6e" class="ju jv lf jw b jx jy jz ka kb kc kd ke lg kg kh ki lh kk kl km li ko kp kq kr ij bi translated"><strong class="jw ir">网络钓鱼</strong>是通过在<a class="ae lb" href="https://en.wikipedia.org/wiki/Electronic_communication" rel="noopener ugc nofollow" target="_blank">电子通信</a>中将自己伪装成一个可信任的实体来获取<a class="ae lb" href="https://en.wikipedia.org/wiki/Information_sensitivity" rel="noopener ugc nofollow" target="_blank">敏感信息</a>如用户名、密码和<a class="ae lb" href="https://en.wikipedia.org/wiki/Credit_card" rel="noopener ugc nofollow" target="_blank">信用卡</a>详细信息的欺诈性尝试。通常通过<a class="ae lb" href="https://en.wikipedia.org/wiki/Email_spoofing" rel="noopener ugc nofollow" target="_blank">电子邮件欺骗</a>或<a class="ae lb" href="https://en.wikipedia.org/wiki/Instant_messaging" rel="noopener ugc nofollow" target="_blank">即时消息</a>来实现，它经常引导用户在一个与合法网站的<a class="ae lb" href="https://en.wikipedia.org/wiki/Look_and_feel" rel="noopener ugc nofollow" target="_blank">外观和感觉</a>相匹配的虚假网站上输入个人信息。</p></blockquote><p id="5331" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">来自我和谷歌的一次对话:</p><blockquote class="lc ld le"><p id="7c6f" class="ju jv lf jw b jx jy jz ka kb kc kd ke lg kg kh ki lh kk kl km li ko kp kq kr ij bi translated">使用同形异义词(即带有传真G的Google)可能不会愚弄所有人，但根据所采用的策略，可能会遇到安全、网络和其他系统方面的挑战。</p></blockquote><p id="5731" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我心想:</p><ol class=""><li id="63cd" class="lj lk iq jw b jx jy kb kc kf ll kj lm kn ln kr lo lp lq lr bi translated">每年都有新的顶级域名。<br/>世界从<a class="ae lb" href="https://www.analyticsedge.com/2016/11/heres-a-secret-%C9%A2oogle-com-is-not-google-com/" rel="noopener ugc nofollow" target="_blank"><em class="lf">ɢoogle.com</em>收购</a>中学到了什么？</li><li id="554f" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">从零开始创建一个好的Google <a class="ae lb" href="https://en.wikipedia.org/wiki/Phishing" rel="noopener ugc nofollow" target="_blank">钓鱼</a>网站有多难？</li><li id="601f" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">我可以获得这个域的SSL证书吗？</li><li id="b159" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">谷歌监控任何'ɢoogle'同形异义域名注册吗？</li><li id="be37" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">可以通过<a class="ae lb" href="https://domains.google.com" rel="noopener ugc nofollow" target="_blank"> Google Domains </a>购买吗？域名注册商有什么建议吗？</li><li id="caec" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">我能在谷歌用户和谷歌服务器之间成功进行中间人攻击吗？</li></ol><blockquote class="lc ld le"><p id="426f" class="ju jv lf jw b jx jy jz ka kb kc kd ke lg kg kh ki lh kk kl km li ko kp kq kr ij bi translated">我分享是因为我在乎。<br/>请仅将此用于教育目的。</p></blockquote><h1 id="b849" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">那么，有哪些顶级域名出售呢？</h1><p id="4495" class="pw-post-body-paragraph ju jv iq jw b jx mv jz ka kb mw kd ke kf mx kh ki kj my kl km kn mz kp kq kr ij bi ks translated">找到一些可用的ɢoogle域名并不难。只需在任何域名注册商搜索'ɢoogle'，例如Google Domains，NameCheap和GoDaddy。</p><h2 id="184f" class="na ly iq bd lz nb nc dn md nd ne dp mh kf nf ng ml kj nh ni mp kn nj nk mt nl bi translated">我购买了以下域名:</h2><ol class=""><li id="a75e" class="lj lk iq jw b jx mv kb mw kf nm kj nn kn no kr lo lp lq lr bi translated"><strong class="jw ir">company.google.com</strong>(长得像<a class="ae lb" href="http://company.google.com/" rel="noopener ugc nofollow" target="_blank">ɢoogle.company</a>)</li><li id="5879" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><strong class="jw ir">mail.google.com</strong>(长得像<a class="ae lb" href="http://mail.google.com/" rel="noopener ugc nofollow" target="_blank">)</a></li><li id="cdaf" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><strong class="jw ir">tv.google.com</strong>(长得像<a class="ae lb" href="http://tv.google.com/google.tv" rel="noopener ugc nofollow" target="_blank">)</a></li><li id="6d6a" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><strong class="jw ir">life.google.com</strong>(长得像<a class="ae lb" href="http://life.google.com/google.life" rel="noopener ugc nofollow" target="_blank">)</a></li><li id="adc1" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><strong class="jw ir">live.google.com</strong>(长得像<a class="ae lb" href="http://live.google.com/google.live" rel="noopener ugc nofollow" target="_blank">)</a></li><li id="7515" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><strong class="jw ir">news.google.com</strong>(长得像<a class="ae lb" href="http://news.google.com/google.news" rel="noopener ugc nofollow" target="_blank">)</a></li><li id="03c9" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><strong class="jw ir">ɢoogletranslate.com</strong>(酷似<a class="ae lb" href="http://translate.google.com/" rel="noopener ugc nofollow" target="_blank">translate.google.com</a>)</li></ol><p id="5b63" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这些域名是自动建议的，我甚至不需要对它们进行创新。谷歌域名为我推荐了“<a class="ae lb" href="https://ɢoogletranslate.com" rel="noopener ugc nofollow" target="_blank">ɢoogletranslate.com</a>”！顺便说一句，价格很好…</p><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi np"><img src="../Images/18d9d678f23cc67d20b256a0f567c631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68ZoPvOqdsg4vJgfDQ95uQ.png"/></div></div></figure><p id="f840" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">它成功了…</p><figure class="nq nr ns nt gt nu"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="2972" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我在整个过程中使用了一个假身份，用<strong class="jw ir">“不是谷歌:)</strong>作为组织名称:</p><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi od"><img src="../Images/8476f5487631248be390fe6f7665d3f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hll_9RMEBb_hyS9kGWPWxQ.png"/></div></div></figure><h1 id="3199" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">使用SSL证书设置钓鱼网站</h1><ol class=""><li id="4f4e" class="lj lk iq jw b jx mv kb mw kf nm kj nn kn no kr lo lp lq lr bi translated">在云中推出VPS(AWS、Google Cloud、Azure等)。)</li><li id="3453" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">将DNS路由到该服务器。</li><li id="9404" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">安装<a class="ae lb" href="https://www.nginx.com/" rel="noopener ugc nofollow" target="_blank">Nginx</a>/<a class="ae lb" href="https://www.apache.org/" rel="noopener ugc nofollow" target="_blank">Apache</a>HTTP服务器。</li><li id="3821" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">请求一个<a class="ae lb" href="https://letsencrypt.org/" rel="noopener ugc nofollow" target="_blank"> LetsEncrypt </a>证书(是的，我可以从<a class="ae lb" href="https://letsencrypt.org/" rel="noopener ugc nofollow" target="_blank"> LetsEncrypt </a>获得这些域的SSL证书)。</li></ol><pre class="nq nr ns nt gt oe of og oh aw oi bi"><span id="9d8a" class="na ly iq of b gy oj ok l ol om">sudo certbot — nginx certonly — dry-run -d “xn — oogletranslate-u5f.com”</span><span id="92ce" class="na ly iq of b gy on ok l ol om">Saving debug log to /var/log/letsencrypt/letsencrypt.log<br/>Plugins selected: Authenticator nginx, Installer nginx<br/>Cert not due for renewal, but simulating renewal for dry run<br/>Renewing an existing certificate<br/>Performing the following challenges:<br/>http-01 challenge for xn — oogletranslate-u5f.com<br/>Waiting for verification…<br/>Cleaning up challenges</span><span id="cc52" class="na ly iq of b gy on ok l ol om">IMPORTANT NOTES:<br/> — The dry run was successful.</span></pre><p id="9061" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，为了用“Google”查看客户端的流量，我们需要做的就是用代理设置nginx配置:</p><pre class="nq nr ns nt gt oe of og oh aw oi bi"><span id="b06e" class="na ly iq of b gy oj ok l ol om">server {<br/>    location / {<br/>       proxy_pass https://translate.google.com/;<br/>       add_header NOT-GOOGLE-HEADER OK;<br/>    }<br/>...<br/>}</span></pre><p id="59cd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您可以注意到，我为google发回的每个响应添加了一个HTTP头:</p><pre class="nq nr ns nt gt oe of og oh aw oi bi"><span id="9995" class="na ly iq of b gy oj ok l ol om">NOT-GOOGLE-HEADER OK # You can check it in your browser's dev tools.</span></pre><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi oo"><img src="../Images/754c78350874a9b6512f8ee43d97d0fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R1E6_WBMRCpW-BxePBJk_A.png"/></div></div></figure><p id="ed55" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，人们可以使用<strong class="jw ir"> https:// </strong>链接来获得信任，同时提供恶意内容。<br/>看看这个链接，通过媒介把你重定向到我的宝贝出生的<a class="ae lb" href="https://en.wikipedia.org/wiki/Phishing" rel="noopener ugc nofollow" target="_blank">钓鱼</a>域名、<a class="ae lb" href="https://ɢoogletranslate.com/#view=home&amp;op=translate&amp;sl=auto&amp;tl=en&amp;text=This%20is%20not%20really%20Google%2C%20you%20are%20proxied%20by%20ɢoogletranslate.com.%0AYou%20made%20an%20SSL%20handshake%20with%20ɢoogletranslate.com%2C%20but%20you%20use%20Google%20Translate%20normally." rel="noopener ugc nofollow" target="_blank"><strong class="jw ir">ɢoogletranslate.com</strong></a><strong class="jw ir">:</strong></p><div class="op oq gp gr or os"><a href="https://ɢoogletranslate.com/#view=home&amp;op=translate&amp;sl=auto&amp;tl=en&amp;text=This%20is%20not%20really%20Google%2C%20you%20are%20proxied%20by%20ɢoogletranslate.com.%0AYou%20made%20an%20SSL%20handshake%20with%20ɢoogletranslate.com%2C%20but%20you%20use%20Google%20Translate%20normally." rel="noopener  ugc nofollow" target="_blank"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd ir gy z fp ox fr fs oy fu fw ip bi translated">谷歌翻译</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">谷歌的免费服务可以在英语和100多种其他语言之间即时翻译单词、短语和网页。</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">xn oogletranslate-u5f.com</p></div></div></div></a></div><p id="1740" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用代理的最大好处是，我的域名链接预览，在每一个平台上，在指向我的链接时，获取谷歌翻译的准确描述。比如看一下<a class="ae lb" href="https://www.whatsapp.com/" rel="noopener ugc nofollow" target="_blank"> Whatsapp </a>。</p><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pb"><img src="../Images/806cc0c7ac0e73a74f0fc080d9e175c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eD2APpRU5h9EniT_xnk0Mg.png"/></div></div></figure><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pc"><img src="../Images/bc1283b39d7ec41e3cdba7a7be74de36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X7ml8gz3afB8IfncKvn_Hw.png"/></div></div></figure><h1 id="6749" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">结果呢</h1><p id="871f" class="pw-post-body-paragraph ju jv iq jw b jx mv jz ka kb mw kd ke kf mx kh ki kj my kl km kn mz kp kq kr ij bi translated">几分钟内完成设置，无需编码。</p><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pd"><img src="../Images/e9bd217c7fe949449349d2ccb3e89b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0zZrk3qk0UuIb-tMgNsycw.png"/></div></div></figure><p id="29d0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">很酷吧。<br/>如你所见，chrome将该域名显示为“安全”(锁图标)。<br/>在手机上，我的域名中的“<strong class="jw ir"> ɢ </strong>”看起来像一个真正的“g”。<br/> Google的<a class="ae lb" href="https://en.wikipedia.org/wiki/JavaScript" rel="noopener ugc nofollow" target="_blank"> javascript </a>从我的域正常运行。谷歌的JS为我做了一切——我甚至不需要模仿谷歌服务。</p><h1 id="7f30" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">获得一些流量</h1><p id="a60a" class="pw-post-body-paragraph ju jv iq jw b jx mv jz ka kb mw kd ke kf mx kh ki kj my kl km kn mz kp kq kr ij bi ks translated"><span class="l kt ku kv bm kw kx ky kz la di"> W </span>借助一些<a class="ae lb" href="https://en.wikipedia.org/wiki/Social_engineering_(security)" rel="noopener ugc nofollow" target="_blank">社会工程</a>我们可以让用户点击这些域名，不费吹灰之力就获得有机流量，从而证明这种攻击的能力。</p><p id="3f3d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我想在面向安全的网站上发布一些链接/帖子，以证明即使是有安全意识的人也可能被这些域名误导。</p><p id="a6b3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一些预览看起来更好，一些因为同形异义字符url引用而变得不那么吸引人。</p><p id="25a8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">来自<a class="ae lb" href="https://www.reddit.com/" rel="noopener ugc nofollow" target="_blank"> Reddit </a>和<a class="ae lb" href="https://news.ycombinator.com/" rel="noopener ugc nofollow" target="_blank">黑客新闻</a>的例子:</p><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pe"><img src="../Images/0b1c82375723813525f212d026f59611.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q0W0vm2hNAnVDXX4bM6hTw.png"/></div></div></figure><figure class="nq nr ns nt gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pf"><img src="../Images/f14468f36b2cbcbb93fc490c049034d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3XN7qNf6H5tdLUCQm6V7dw.png"/></div></div></figure><p id="d4ce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最终，没做多少工作，我就拥有了数百名独立访客(不包括机器人和安全扫描仪，也不包括我发帖的平台)。</p><h1 id="bad4" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">我们能对来访者做些什么？</h1><p id="7d52" class="pw-post-body-paragraph ju jv iq jw b jx mv jz ka kb mw kd ke kf mx kh ki kj my kl km kn mz kp kq kr ij bi ks translated">它的外观和行为就像任何谷歌单页应用程序一样。<br/>正如链接中所解释的，我正在与用户进行SSL握手。<br/>最初的google应用程序已提供，它的功能与预期一致，但我暴露在用户与该域的流量中。因此，我可以改变谷歌回复的正文。这是一种中间人攻击，利用<a class="ae lb" href="https://en.wikipedia.org/wiki/IDN_homograph_attack" rel="noopener ugc nofollow" target="_blank"> IDN同形异义攻击</a>来获得一些牵引力。</p><p id="7434" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们想要得到的最珍贵的数据可能是登录凭证或令牌。谷歌使用域名<strong class="jw ir">accounts.google.com</strong>进行认证。</p><p id="81c3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">例如，我可以覆盖HTML中所有的<strong class="jw ir"> &lt;和&gt; </strong>标签。我们可以将它们指向一个定制的钓鱼登录页面，在<a class="ae lb" href="https://ɢoogletranslate.com" rel="noopener ugc nofollow" target="_blank"><strong class="jw ir">【ɢoogletranslate</strong></a><strong class="jw ir">中，而不是指向<a class="ae lb" href="http://google.com/" rel="noopener ugc nofollow" target="_blank">google.com</a>(例如<a class="ae lb" href="http://accounts.google.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ir">accounts.google.com</strong></a>)的一个子域。com </strong>域。</p><p id="3913" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以通过覆盖页面中的链接，并将它们指向<a class="ae lb" href="https://accounts.ɢoogletranslate.com" rel="noopener ugc nofollow" target="_blank">accounts.ɢoogletranslate.com</a>(登录按钮的HTML标签的href属性)来窃取用户的登录凭证。</p><p id="2f12" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">人们还可以在HTTP主体中注入恶意的<strong class="jw ir"> &lt;脚本&gt; </strong>标记，并在客户端的浏览器上执行JavaScript/其他代码。大多数访问链接的用户代理都是很久没有更新的旧浏览器。<br/>我的访问日志中的许多Chrome、Firefox和Safari用户代理都是易受1天攻击(包括沙盒逃逸)的设备。</p><h1 id="4e8a" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">为了防止这种攻击，可以做些什么？</h1><ol class=""><li id="c3bb" class="lj lk iq jw b jx mv kb mw kf nm kj nn kn no kr lo lp lq lr bi translated">怀疑链接中域名内的大写/奇怪字母。</li><li id="c66d" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">2016年，同样的事情发生在oogle.com的ɢ身上，然而'ɢoogle'顶级域名仍在出售。oogle.com的ɢ被列入黑名单，但这不是解决问题的正确方法。每个包含“ɢ <a class="ae lb" href="http://oogle.com/" rel="noopener ugc nofollow" target="_blank"> oogle </a>”甚至“oogle”字样的域名都应该被域名注册商和浏览器禁止。</li><li id="5e59" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">谷歌域名和其他域名注册商的自动推荐域名帮助了社会工程攻击——他们甚至不需要想出域名。🤦🏻‍♂️</li><li id="1120" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">从具有单应域的LetsEncrypt请求SSL证书的能力。</li><li id="91ce" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated"><a class="ae lb" href="http://translate.google.com/" rel="noopener ugc nofollow" target="_blank">Translate.google.com</a>的javascript在页面上运行，而它在oogletranslate.com<a class="ae lb" href="http://oogletranslate.com/" rel="noopener ugc nofollow" target="_blank">的ɢ</a>下服务。javascript应该对此进行检查(window.location应该是合法的Google域),并阻止脚本的其余部分被加载。该服务还可以通过验证请求的<strong class="jw ir">引用方</strong>返回一个HTTP错误响应，在我们的例子中，引用方是:<a class="ae lb" href="https://xn--oogletranslate-u5f.com/" rel="noopener ugc nofollow" target="_blank">https://xn-oogletranslate-u5f.com/</a>。</li><li id="ce24" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">对于系统管理员—在IDS/IPS中实施规则，对网络流量进行静态分析。<a class="ae lb" href="https://en.wikipedia.org/wiki/Snort_(software)" rel="noopener ugc nofollow" target="_blank"> Snort </a>、<a class="ae lb" href="https://en.wikipedia.org/wiki/Zeek" rel="noopener ugc nofollow" target="_blank"> Zeek </a> (Bro)和<a class="ae lb" href="https://en.wikipedia.org/wiki/Suricata_(software)" rel="noopener ugc nofollow" target="_blank"> Suricata </a>有针对同型主机的警报和规则。确保你的规则是最新的。恶意主机一直被列入黑名单。</li></ol><h1 id="2c2d" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">谷歌的回应</h1><p id="1d0b" class="pw-post-body-paragraph ju jv iq jw b jx mv jz ka kb mw kd ke kf mx kh ki kj my kl km kn mz kp kq kr ij bi translated">对我来说这并不意外。谷歌很重视我的安全报告。</p><blockquote class="lc ld le"><p id="cdcc" class="ju jv lf jw b jx jy jz ka kb kc kd ke lg kg kh ki lh kk kl km li ko kp kq kr ij bi translated">感谢您提供的大量材料、其背后的想法，以及在创建这份报告时用于保护这些域名的实际资金。同形攻击在它们的社会工程应用中总是令人感兴趣的，但更具挑战性的是部署不仅欺骗用户，而且欺骗基础设施的攻击。您的提交有一些考虑因素…</p></blockquote><p id="bc05" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">实际上我们还在讨论。我有一些攻击场景需要澄清和解释，但从那时起，我将POC向前推进了一步。</p><p id="d20c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这个问题不是谷歌特有的。互联网可以采取一些小步骤来防止未来发生这种攻击。在找到解决方案之前，每个大公司或服务都必须通过在相似的域名上花费大量金钱来保护他们的域名和资产。</p><p id="4300" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我希望你同意——对于任何具有基本linux和网络知识的人来说，重现这种攻击的步骤都非常简单。<br/>我没变什么魔术，也不是第一个(4年过去了，我只是好奇)。有些攻击真的很难阻挡..我认为Gmail会更有趣(我欠ɢ一个人情)。邮箱)。</p><p id="c01c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">此处显示了一个成功的概念验证，<br/>如需了解更多信息，请随时联系我。</p><figure class="nq nr ns nt gt nu"><div class="bz fp l di"><div class="pg oc l"/></div></figure></div></div>    
</body>
</html>