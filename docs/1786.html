<html>
<head>
<title>XSS Attack! TryHackMe Writeup/Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">XSS进攻！TryHackMe记录/演练</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/xss-attack-tryhackme-writeup-walkthrough-2fd20895b17f?source=collection_archive---------1-----------------------#2022-01-09">https://infosecwriteups.com/xss-attack-tryhackme-writeup-walkthrough-2fd20895b17f?source=collection_archive---------1-----------------------#2022-01-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2992fd4d076784e8c42ccfb45c57e38f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*db8Ohx4CaENaV2pgywagaw.png"/></div></div></figure><h1 id="91de" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="8773" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是一个简单的<a class="ae lu" href="https://tryhackme.com/room/xssattack1u" rel="noopener ugc nofollow" target="_blank">房间</a>，教我们关于<a class="lv lw ep" href="https://medium.com/u/c4af1cf135f5?source=post_page-----2fd20895b17f--------------------------------" rel="noopener" target="_blank">制作的</a>XSS，随时可以在<a class="ae lu" href="https://twitter.com/Nouureldin_Ehab" rel="noopener ugc nofollow" target="_blank">推特</a>或<a class="ae lu" href="https://www.linkedin.com/in/noureldin-ehab-a57940190/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上问我任何问题</p><p id="2618" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">注意:要访问OWASP十大果汁店，请在浏览器中键入try hack me machine IP，并确保您已连接到try hack me网络</p><h1 id="91b9" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">任务1基本XSS</h1><p id="54dd" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在我们做任何事情之前，我们需要使用网站来了解它是如何工作的，用户的行为是什么，以及如何以恶意的方式使用这些无辜的行为。<br/>由于我们正在寻找XSS注射，我们需要寻找输入点(搜索字段，评论字段，表单字段，甚至上传功能)</p><p id="ae1e" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">但是等一下，XSS到底是什么意思？！<br/> 根据<a class="ae lu" href="https://portswigger.net/web-security/cross-site-scripting" rel="noopener ugc nofollow" target="_blank">burp suite Academy</a><strong class="ky ir"/>跨站脚本(也称为XSS)是一个web安全漏洞，它允许攻击者破坏用户与易受攻击的应用程序的交互。</p><p id="1a6d" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated"><strong class="ky ir">它是如何工作的？<br/> </strong>跨站脚本的工作原理是操纵易受攻击的网站，使其向用户返回恶意JavaScript。当恶意代码在受害者的浏览器中执行时，攻击者可以完全破坏他们与应用程序的交互。(<a class="ae lu" href="https://portswigger.net/web-security/cross-site-scripting" rel="noopener ugc nofollow" target="_blank">博普塞特学院</a>)</p><p id="d91d" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">现在我们知道了什么是XSS，让我们寻找输入点</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mc"><img src="../Images/51f26990326b17a3ec787995cf7735c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*79e8eQPclgRwxPqSD2NtpQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">搜索字段</figcaption></figure><p id="e81a" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">现在我们需要尝试一个基本的有效载荷，看看是否有任何清理(我将使用<strong class="ky ir">' "&gt;&lt;img src = x&gt;</strong>)<br/><strong class="ky ir">这个有效载荷将允许我们搜索</strong></p><ul class=""><li id="bba4" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated">JS注射液<br/>和"</li><li id="d67d" class="ml mm iq ky b kz mu ld mv lh mw ll mx lp my lt mq mr ms mt bi translated">HTML标签属性插入<br/> '" &gt;</li><li id="87f4" class="ml mm iq ky b kz mu ld mv lh mw ll mx lp my lt mq mr ms mt bi translated">HTML注入<br/>T42【img src = x&gt;</li></ul><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/c1714237a526ec8ecf8688dae29e8e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZVXKCXcTSnemwy1XXHRsuQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">" &gt;<img src="x"/>在搜索栏中</figcaption></figure><p id="7c74" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">正如我们看到的，它被反射</p><ul class=""><li id="2378" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated">第一次反射发生在哪里？</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="bc22" class="nf jz iq nb b gy ng nh l ni nj">Search</span></pre><ul class=""><li id="4540" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">什么参数导致了反射？</strong></li></ul><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/bc13185a165d2debc4ddd56ca1c29de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xFLAtGRALQER7W1VHZ4tJg.png"/></div></div></figure><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="533e" class="nf jz iq nb b gy ng nh l ni nj">q</span></pre><p id="1d1f" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated"><strong class="ky ir">XSS攻击有哪些类型？</strong>(根据<a class="ae lu" href="https://portswigger.net/web-security/cross-site-scripting" rel="noopener ugc nofollow" target="_blank">博普斯特学院</a>)</p><p id="271d" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">XSS攻击主要有三种类型。这些是:</p><ul class=""><li id="9b2e" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><a class="ae lu" href="https://portswigger.net/web-security/cross-site-scripting#reflected-cross-site-scripting" rel="noopener ugc nofollow" target="_blank">反映了XSS </a>，其中恶意脚本来自当前HTTP请求。</li><li id="8ce7" class="ml mm iq ky b kz mu ld mv lh mw ll mx lp my lt mq mr ms mt bi translated"><a class="ae lu" href="https://portswigger.net/web-security/cross-site-scripting#stored-cross-site-scripting" rel="noopener ugc nofollow" target="_blank">存储了XSS </a>，这里的恶意脚本来自网站的数据库。</li><li id="5faf" class="ml mm iq ky b kz mu ld mv lh mw ll mx lp my lt mq mr ms mt bi translated"><a class="ae lu" href="https://portswigger.net/web-security/cross-site-scripting#dom-based-cross-site-scripting" rel="noopener ugc nofollow" target="_blank">基于DOM的XSS </a>，其中漏洞存在于客户端代码而非服务器端代码中。</li><li id="d913" class="ml mm iq ky b kz mu ld mv lh mw ll mx lp my lt mq mr ms mt bi translated">这是什么类型的XSS？反射还是储存XSS？</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="4af8" class="nf jz iq nb b gy ng nh l ni nj">Reflected</span></pre><ul class=""><li id="5810" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated">这是什么类型的XSS？基于DOM还是基于源代码的XSS？</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="acab" class="nf jz iq nb b gy ng nh l ni nj">Source based</span></pre><p id="97b7" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">现在我们需要利用它</p><p id="944e" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">你可以在这个<a class="ae lu" href="https://github.com/swisskyrepo/PayloadsAllTheThings" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>上找到有效载荷，但是在明白你为什么要使用它之前，千万不要使用它</p><ul class=""><li id="63e8" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">什么是有效载荷？</strong></li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="43b1" class="nf jz iq nb b gy ng nh l ni nj">&lt;img src=x onerror=alert()&gt;</span></pre><ul class=""><li id="ba30" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">当我们看到一个警告弹出窗口时，我们应该停止还是继续测试，看看我们是否不能利用它？</strong></li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="3d88" class="nf jz iq nb b gy ng nh l ni nj">Keep Digging</span></pre><p id="5f61" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">我们将在下一个问题中知道为什么我们需要继续挖掘</p><p id="4b6c" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">我们在寻找什么？<br/>  A)窃取cookie或页面上的任何数据<br/> B)窃取cookie、CSRF令牌<br/> C)窃取cookie<br/>D)窃取cookie、CSRF令牌或页面上的任何数据<br/> E)窃取CSRF令牌或页面上的任何数据</p><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="4a02" class="nf jz iq nb b gy ng nh l ni nj">D) To steal the cookies, CSRF tokens, or any data on the page</span></pre><ul class=""><li id="7c95" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">你能找到一个包含以下元素的工作攻击向量吗:</strong> &lt;脚本&gt;标签<strong class="ky ir"><br/></strong>&lt;/脚本&gt;标签<br/> alert()</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="123d" class="nf jz iq nb b gy ng nh l ni nj">&lt;script&gt;alert()&lt;/script&gt;</span></pre><p id="58f6" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated">(这是最基本的有效载荷)</p><ul class=""><li id="3d7b" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">你能找到一个包含以下元素的工作攻击向量吗:</strong>&lt;img&gt;tag<br/>confirm()<br/>onclick事件处理程序</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="7e04" class="nf jz iq nb b gy ng nh l ni nj">&lt;img src=x onerror=confirm()/&gt;</span></pre><ul class=""><li id="66a7" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">XSS发生在什么背景下？<br/> </strong> A) JS注入<br/> B) CSS注入<br/> C) HTML注入<br/> D) LDAP注入</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="7ed1" class="nf jz iq nb b gy ng nh l ni nj">C</span></pre><ul class=""><li id="1f6b" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir">这个问题是在什么背景下发生的？<br/> </strong> A) JS上下文<br/>B)HTML Li<br/>C)HTML标签属性插入<br/> D) CSS注入<br/> E) LDAP注入</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="4423" class="nf jz iq nb b gy ng nh l ni nj">B</span></pre><ul class=""><li id="4eca" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated">你还能帮我找到DVWA的DOM XSS章节中易受攻击的参数的名称吗？</li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="328d" class="nf jz iq nb b gy ng nh l ni nj">Default</span></pre><ul class=""><li id="4d97" class="ml mm iq ky b kz lx ld ly lh mn ll mo lp mp lt mq mr ms mt bi translated"><strong class="ky ir"> DOM Source/DOM Sink？</strong></li></ul><pre class="md me mf mg gt na nb nc nd aw ne bi"><span id="f4bc" class="nf jz iq nb b gy ng nh l ni nj">DOM Sink</span></pre><h1 id="d896" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">/etc/外卖</h1><p id="59aa" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我了解了多姆·XSS</p><h1 id="3600" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">时事通讯</h1><p id="bc3d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我将分享我的学习之旅，网络安全新闻，新简历和学习资源，以及更多，请随时<a class="ae lu" href="https://www.getrevue.co/profile/Noureldin_Ehab" rel="noopener ugc nofollow" target="_blank">订阅</a>😊请不要忘记喝水🌊</p><h1 id="c545" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">⭐I喜欢与不同的人联系，所以如果你想打招呼，我会很高兴见到你！:)</h1><p id="28ef" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><a class="ae lu" href="https://www.linkedin.com/in/noureldin-ehab-a57940190/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir"><br/></strong><a class="ae lu" href="https://twitter.com/Nouureldin_Ehab" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Twitter</strong></a></p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="c5bb" class="pw-post-body-paragraph kw kx iq ky b kz lx lb lc ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt ij bi translated"><strong class="ky ir"> Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和充满力量的讨论会议。</strong> <a class="ae lu" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">查看更多详情，在此注册。</strong> </a></p><div class="ns nt gp gr nu nv"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">iwcon.live</p></div></div><div class="oe l"><div class="of l og oh oi oe oj jw nv"/></div></div></a></div></div></div>    
</body>
</html>