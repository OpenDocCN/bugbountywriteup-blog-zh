<html>
<head>
<title>How I pranked my friend using DNS Spoofing?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何利用DNS欺骗来捉弄我的朋友的？</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-i-pranked-my-friend-using-dns-spoofing-6a65ff01da1?source=collection_archive---------0-----------------------#2018-07-20">https://infosecwriteups.com/how-i-pranked-my-friend-using-dns-spoofing-6a65ff01da1?source=collection_archive---------0-----------------------#2018-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在谁不喜欢一个伟大的恶作剧故事？你知道黑客的整个想法最初是由恶作剧者开始的，他们试图做一些疯狂的事情，并通过修补东西来让他们做一些奇怪的事情。这篇文章类似于我用DNS欺骗捉弄我朋友的那篇文章。</p><blockquote class="kl km kn"><p id="0f1a" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">DNS欺骗是计算机安全黑客攻击的一种形式，它将损坏的<a class="ae ks" href="https://en.wikipedia.org/wiki/Domain_Name_System" rel="noopener ugc nofollow" target="_blank">域名系统</a>数据引入<a class="ae ks" href="https://en.wikipedia.org/wiki/DNS_resolver" rel="noopener ugc nofollow" target="_blank"> DNS解析器</a>的<a class="ae ks" href="https://en.wikipedia.org/wiki/DNS_cache" rel="noopener ugc nofollow" target="_blank">缓存</a>，导致<a class="ae ks" href="https://en.wikipedia.org/wiki/Name_server" rel="noopener ugc nofollow" target="_blank">域名服务器</a>返回不正确的结果记录。这导致<a class="ae ks" href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" rel="noopener ugc nofollow" target="_blank">流量被转移</a>到攻击者的计算机(来源维基百科)</p></blockquote><p id="de17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种攻击的唯一要求是用户应该在您的网络上。所以，我和我的朋友使用同一个局域网连接。当他忙着看电影的时候，我给他留了这个戏法。我启动了我的Kali机器，并开始了DNS欺骗的过程。</p><h1 id="8ad4" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">我们开始吧！</h1><p id="393b" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">算出你自己机器的IP地址和你连接到互联网的接口。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/c53839a279fe0a1a7a01a394bc291656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33FFM8twmo3eq6CS0oTgaw.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">系统的IP地址</figcaption></figure><p id="b8e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦知道了自己机器的IP地址和接口，算出网关IP地址。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mm"><img src="../Images/8bae235869ec654f24d4a22e279f5c81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVObh1GNP0uF9M5Y5R67tg.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">网关IP地址</figcaption></figure><p id="ecc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，继续扫描网络上的系统。这将帮助您找到您想要定位的设备及其IP地址。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/e0abc1610ea2c505e7a7a4df84bb5812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*LwIpvruoo0bdCvSDolY-XA.png"/></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">扫描您的网络</figcaption></figure><p id="8f28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦扫描完成，你就会知道受害者的IP地址。</p><p id="9ac2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在继续，在终端中输入这个。</p><blockquote class="kl km kn"><p id="c315" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">gedit /etc/ettercap/etter.conf</p></blockquote><p id="b06a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将打开<a class="ae ks" href="https://www.ettercap-project.org/" rel="noopener ugc nofollow" target="_blank"> ettercap </a>配置文件，我们将提前使用该工具来执行欺骗过程。打开配置文件后，继续将ec_uid和ec_gid的值从默认值更改为零。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/b6e09d5671373c8deacc2e763f9858fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*FW7V9idyApJIXXsdJHZlpg.png"/></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">将默认值更改为零</figcaption></figure><p id="6ec2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦完成，继续往下走，直到你看到下图。默认情况下，iptables下的redir_command_on和redir_command_off将使用#符号进行注释，请移除该符号以取消注释。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mp"><img src="../Images/cf6b1e0e890e833accd4ed35db02d8f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x6R0TnlmDaWGxBxtZiAtQw.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">取消注释redir _ command _ on &amp; redir _ command _ off</figcaption></figure><p id="4427" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你做了上面的修改，继续保存它，然后关闭它。启动ettercap ( GUI版本)，点击嗅探，然后统一嗅探，这个下面的框会弹出去选择你的网络接口。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mq"><img src="../Images/023797682f8a82388d772e5d1636adcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UCdoz3VTtXlGElmx1AUijg.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">选择网络接口</figcaption></figure><p id="7700" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你点击“确定”，嗅探过程开始。你必须暂时停止它。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mr"><img src="../Images/1dcd7d069822f72e4f4cfe7fdba2276b.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*cptu88Yb6KGmqFrTRKAMXQ.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">扫描您的网络</figcaption></figure><p id="28d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你这样做，然后继续使用ettercap扫描主机，该选项出现在“主机”选项卡下。一旦扫描完成，检查“主机列表”以获得ettercap中的IP地址。现在我们需要分配目标1和目标2。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ms"><img src="../Images/1ad37e2948d362c106816de116165aaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*59aLs742PfKAiK6S1GNFKQ.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">分配目标1和2</figcaption></figure><p id="9304" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">受害者(我们攻击的系统)的IP地址是目标1，而网关路由器的IP地址是目标2。一旦这被分配，然后进行到“Mitm”标签下的“ARP中毒”,并选择嗅探远程连接。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/7ed8b0ebcaf5367a01f88ead7369d52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*5buZl53_sadCxouoZbonig.png"/></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">选择嗅探远程连接</figcaption></figure><p id="fa97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成上述步骤后，进入插件，双击“dns_spoof”插件将其激活。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/ea468aed3c88bde86b862b436d3dadf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*Gb77l47kr4OFjm5O6bIhbA.png"/></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">dns_spoof插件</figcaption></figure><p id="84ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在到最后一个过程，这是最重要的。在这一步中，我们需要设置特定网站的重定向，我们需要将流量重定向到我们在机器上设置的页面。继续在终端中键入以下内容。</p><blockquote class="kl km kn"><p id="e03a" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">gedit /etc/ettercap/etter.dns</p></blockquote><p id="32d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将允许我们操纵dns表，使我们能够将流量从受害者的系统重新路由到我们本地托管的网站。在这里，我添加了facebook.com、*.facebook.com、twitter.com等网站，这些网站将被重定向到我在自己机器上托管的页面。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mv"><img src="../Images/359fe2092b223d588991718a5a6f39d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L_t6fD9_Nim93zaLOWNGOw.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">DNS表</figcaption></figure><p id="f4ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在这个过程已经完成了，更改给定位置/var/www/html/index.html中的html代码并插入您想要的内容。完成所有这些后，在终端中键入以下内容。</p><blockquote class="kl km kn"><p id="41a5" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">服务apache2启动</p></blockquote><p id="5f12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">apache服务一启动，就返回ettercap并启动嗅探过程。现在，您的攻击已经完成，受害者所要做的就是访问您在DNS表中包含的网站。</p><h1 id="e671" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">愚弄你！</h1><p id="f53a" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">现在，在我的朋友完成了他的电影并打开了一个网站后，这个特别的通知在那里迎接他。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mw"><img src="../Images/aec3c36ddbe13b1149fc109a395d8bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T95stOU3us8B_Ou2MpL43Q.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">哈哈哈！</figcaption></figure><p id="d6ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的朋友震惊了一会儿，然后意识到我对他恶作剧。</p><h1 id="38b1" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">道德的</h1><p id="3467" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">像这样的攻击可以在更大的规模上进行，如果精心构建，它们可能是致命的，因为它可能是任何银行网站登录页面或您的社交网站登录凭据。攻击者可以通过将你重定向到他们自己的网站来获取你的数据，这可能是致命的。</p><p id="fb56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢，请鼓掌让我们合作吧。获取、设置、破解！</p><p id="2348" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">网址:【aditya12anand.com】T2|捐赠:【paypal.me/aditya12anand】T4</p><p id="ca8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">电报:<a class="ae ks" href="https://t.me/aditya12anand" rel="noopener ugc nofollow" target="_blank">https://t.me/aditya12anand</a></p><p id="4b3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">推特:<a class="ae ks" href="https://twitter.com/aditya12anand?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">twitter.com/aditya12anand</a></p><p id="b543" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">领英:<a class="ae ks" href="https://www.linkedin.com/in/aditya12anand/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">linkedin.com/in/aditya12anand/</a></p><p id="f4b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">电子邮件:aditya12anand@protonmail.com</p><blockquote class="kl km kn"><p id="7a04" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">注:由于缺乏适当的证书，这种攻击在HTTPS网站上不起作用。它抛出了如下所示的错误。我确信有一种方法可以绕过它，只是想知道如何去做。如果你知道如何绕过它，请分享它。</p></blockquote><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mx"><img src="../Images/7c7b2c4b9e5e2b62af6dd5b68f7271c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRaZWDLRGAuYdBhG_bVqzQ.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk translated">出错信息</figcaption></figure></div></div>    
</body>
</html>