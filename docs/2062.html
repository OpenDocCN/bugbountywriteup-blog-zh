<html>
<head>
<title>Api endpoint- Revealed Transaction Details of about Millions of users</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Api端点-泄露了大约数百万用户的事务细节</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/api-endpoint-revealed-transaction-details-of-about-millions-of-users-9d5a5324547f?source=collection_archive---------0-----------------------#2022-05-12">https://infosecwriteups.com/api-endpoint-revealed-transaction-details-of-about-millions-of-users-9d5a5324547f?source=collection_archive---------0-----------------------#2022-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b2ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天我将谈论我的一个发现，它揭示了数百万用户的交易细节…..</p><p id="ffb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们开始…了解什么是api？</p><p id="6466" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Api是应用程序编程接口的缩写，它用于与另一个应用程序通信，而不与其他应用程序共享任何系统密码…简而言之</p><p id="e67c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我在测试应用支付系统，当然，我喜欢测试他们..在测试过程中，我注意到当我通过burp取消交易并拦截请求时，有api进入请求，处理内部存储数据库和普通webapp之间的所有事情，我注意到即使我取消或完成了交易，他们也在为每个支付请求创建交易id...</p><p id="800d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我是如何变得脆弱的？</p><ol class=""><li id="016e" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">我刷新了我的取消事务页面，看到api请求在打嗝，这个端点正在通过</li></ol><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ku"><img src="../Images/6b76da694f48e89f634e1bd63cbeb511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L_pmyVeHqE82Crd7wNY_fw.png"/></div></div></figure><p id="c916" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.那么接下来呢？是的，我删除了编码部分，并发送了空值，收到了400错误请求，但回应中有一些提示{必须提供txn_id，这让我想起}</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi lg"><img src="../Images/01a0ccbbf998471fc84986157e12b1e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zhphXxZXI5VV6mLs2QgfuQ.png"/></div></div></figure><p id="e6ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.之后我改了GET /api/v1/txnstatus/？internal _ txn _ id = 4a 0174 e 87 f6d 45468 EFA 8 DC 34657118 a<strong class="jp ir">{ To GET/API/v1/txn status/？txn_id=randomdigit} </strong></p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi lh"><img src="../Images/689ecdd77247b090ed2473a405c900d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jL_tssGyB6AbrMhy_oIVEw.jpeg"/></div></div></figure><p id="088f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我得到的只是用户银行账户的详细信息，他们的手机号码以及其他一些非有益的信息😁</p><p id="1694" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">影响:<br/>他们使用了事务id的数值，并在另一个名为<strong class="jp ir"> {api/v1/txnstatus/？txn_id </strong>因为没有认证持有人，我可以检索数百万的用户交易细节</p><p id="3776" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">他们采取的缓解措施:<br/>在与支付相关的api端点上实现了Jwt身份验证载体。</p><p id="34b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢:)<br/>我希望你喜欢边喝咖啡边阅读</p><figure class="kv kw kx ky gt kz"><div class="bz fp l di"><div class="li lj l"/></div></figure><p id="4a37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在推特上联系我:<br/><a class="ae lk" href="https://mobile.twitter.com/aadesh_namdevv" rel="noopener ugc nofollow" target="_blank">https://mobile.twitter.com/aadesh_namdevv</a></p></div></div>    
</body>
</html>