<html>
<head>
<title>Openzeppelin Ethernaut Part — 0X00</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Openzeppelin以太网部分— 0X00</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/openzeppelin-ethernaut-part-0x00-be38d7113110?source=collection_archive---------1-----------------------#2022-10-27">https://infosecwriteups.com/openzeppelin-ethernaut-part-0x00-be38d7113110?source=collection_archive---------1-----------------------#2022-10-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="db1c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以太英雄是一款基于Web3/Solidity的战争游戏，灵感来自overthewire.org，在以太坊虚拟机上运行。每一层都是需要“黑掉”的智能合约。</p><p id="6730" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">你好，以太者</em> </strong>是<a class="km kn ep" href="https://medium.com/u/4e5199c3ee0a?source=post_page-----be38d7113110--------------------------------" rel="noopener" target="_blank">齐柏林</a>首次挑战以太者系列。这篇博客将介绍设置部分以及如何破解你的第一份智能合同。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/075467efe2649f29d2484d2f1910c141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iv9f3aRtyNcnE5-a0uzPlw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">Openzeppelin以太号</figcaption></figure><h1 id="bf5a" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置元掩码Wallet</h1><p id="3cac" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">与普通钱包类似，Metamask钱包用于存储加密货币。它是最知名和用户友好的加密货币钱包之一，也可用于认证和访问分散的应用程序。Metamask的安装非常简单。去Metamask <a class="ae mh" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">官方网站</a>按照步骤操作，也可以按照这个<a class="ae mh" href="https://www.one37pm.com/nft/how-to-set-up-metamask-wallet" rel="noopener ugc nofollow" target="_blank">博客</a>在自己喜欢的浏览器中设置Metamask。</p><p id="a7d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成功设置后，您的Metamask钱包如下所示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mi"><img src="../Images/c696a6c62e36d557b43222920c0032b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E0FVAaGlGhlvtHbpw9JpBA.png"/></div></div></figure><p id="a53f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，metamask wallet配置在以太坊主网络上，这是主要的公共以太坊生产区块链，实际价值交易在此发生。简单来说，当人们讨论ETH价格时，他们正在谈论mainnet ETH。而以太网挑战在5个不同的测试网络上可用。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mj"><img src="../Images/554e51712cedf18156843b697d8ff61b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UdHJRJzw-IgSu1ItFiRvIQ.png"/></div></div></figure><p id="6e5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要将元掩码网络切换到这些测试网络中的任何一个，请遵循以下4个步骤。</p><blockquote class="mk ml mm"><p id="95a6" class="jn jo kl jp b jq jr js jt ju jv jw jx mn jz ka kb mo kd ke kf mp kh ki kj kk ij bi translated">打开Metamask →设置→高级→启用显示测试网络。</p></blockquote><p id="b5d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">启用测试网络后，从右上角切换到“<a class="ae mh" href="https://goerli.net/" rel="noopener ugc nofollow" target="_blank">歌尔力测试网络</a>”。您也可以在元掩码上选择任何其他测试网络，但您必须在以太网挑战中选择相同的网络。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mq"><img src="../Images/0ecf6e3e1940171430538e7f5b06e7de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9g32n2wvSGCamng4sCEjrg.png"/></div></div></figure><p id="7448" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成功切换到歌尔力测试网后，我们再尝试在歌尔力测试网上弄点ETH。有许多水龙头，你可以从那里得到ETH。这里是<a class="ae mh" href="https://goerlifaucet.com/" rel="noopener ugc nofollow" target="_blank">炼金</a>龙头，24小时后出0.1 ETH。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mr"><img src="../Images/a1e8229f76738eaeabe094f5c37155db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y5irqYDjSNnN6xMKqNRy5Q.png"/></div></div></figure></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="c290" class="le lf iq bd lg lh mz lj lk ll na ln lo lp nb lr ls lt nc lv lw lx nd lz ma mb bi translated">使用铸造解决挑战</h1><p id="38ee" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">现在，我们已经成功地设置了与Goerli测试网络的metamask钱包，让我们尝试解决我们的第一个可靠性挑战。转到“<strong class="jp ir">Hello ether naut”</strong>挑战，向下滚动页面，然后单击“获取新实例”。这将打开一个弹出窗口，单击确认按钮，它将在链上部署合同。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/00217cc0a9d7542b4d9279dcfee2d606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hponC-BEio7Kd_NILQWkxQ.png"/></div></div></figure><p id="2326" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开控制台，等待事务被挖掘并复制实例地址。我们将使用实例值与契约进行交互。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nf"><img src="../Images/fee2d1c3fa629469988123cf1cd96613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VEbFTHIVH_vmvRjheMG9fQ.png"/></div></div></figure><p id="3438" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了解决这些挑战，我将使用Foundry。这是一个智能合同开发工具链。安装非常简单。将以下命令复制到您的终端上，并运行“foundryup”。gitpod上也有。要直接从浏览器访问它，请点击<a class="ae mh" href="https://gitpod.io/#https://github.com/smartcontractkit/foundry-starter-kit" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="357b" class="nl lf iq nh b gy nm nn l no np">curl -L https://foundry.paradigm.xyz | bash</span></pre><p id="baae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在他们的官方书籍中找到更多关于铸造厂的信息。</p><div class="nq nr gp gr ns nt"><a href="https://book.getfoundry.sh/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">铸造书籍</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">Foundry是一个智能合同开发工具链。Foundry管理您的依赖项，编译您的项目，运行…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">book.getfoundry.sh</p></div></div><div class="oc l"><div class="od l oe of og oc oh ky nt"/></div></div></a></div><p id="14be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们尝试使用<strong class="jp ir"> <em class="kl">转换与智能契约进行交互。</em> </strong> Cast是一个铸造厂的命令行工具，用于执行以太坊RPC调用。从命令行，我们可以进行智能契约调用、发送事务或检索任何类型的链数据。为了在链上执行RPC调用，我们需要某种能够代表我们在以太坊链上进行调用的桥。</p><p id="eee7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mh" href="https://www.alchemy.com/" rel="noopener ugc nofollow" target="_blank">炼金术</a>提供了API密匙，我们可以用它来与以太坊链进行交互。这里是Elan Halpern 关于如何为应用程序创建API密钥的博客<a class="ae mh" href="https://medium.com/alchemy-api/getting-started-with-ethereum-development-using-alchemy-c3d6a45c567f" rel="noopener">。此外，在创建应用程序时，不要忘记选择<em class="kl"> Goerli </em>作为网络。复制API密钥并将其导出到您的终端。</a></p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="0989" class="nl lf iq nh b gy nm nn l no np">export ETH_RPC_URL=https://eth-goerli.g.alchemy.com/v2/&lt;API_KEY&gt;</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/0f9a2f95687dcb31d0aeb1184e2a805f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWwySw29NiyRODStCM3UmQ.png"/></div></div></figure><p id="9f9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个挑战也提示我们要研究info()函数。让我们使用强制转换来调用info函数。</p><pre class="kp kq kr ks gt ng nh ni nj aw nk bi"><span id="a412" class="nl lf iq nh b gy nm nn l no np">cast call 0x7520cce24AdF1a50dc8Fd2945d4a5EF59D7560DA "info()(string)"</span></pre><ul class=""><li id="89a6" class="oj ok iq jp b jq jr ju jv jy ol kc om kg on kk oo op oq or bi translated"><strong class="jp ir"> cast </strong>:执行以太坊RPC调用的命令行工具。</li><li id="fe1a" class="oj ok iq jp b jq os ju ot jy ou kc ov kg ow kk oo op oq or bi translated"><strong class="jp ir">调用</strong>:调用合约函数。</li><li id="8543" class="oj ok iq jp b jq os ju ot jy ou kc ov kg ow kk oo op oq or bi translated"><strong class="jp ir">0x 7520 CCE 24 ADF 1 a 50 DC 8 FD 2945d 4 a5 ef 59d 7560 da</strong>:部署智能合约的联系地址。</li><li id="7f2b" class="oj ok iq jp b jq os ju ot jy ou kc ov kg ow kk oo op oq or bi translated"><strong class="jp ir"> info() </strong>:已部署契约中的函数名。</li><li id="9d10" class="oj ok iq jp b jq os ju ot jy ou kc ov kg ow kk oo op oq or bi translated"><strong class="jp ir"> string </strong> : Contract给出十六进制格式的输出，而不是在后面的步骤中将其转换为ASCII，我们可以传递string命令以给出ASCII格式的输出。</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ox"><img src="../Images/da9be1bb4d029dc714d24115cff2eb0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7GZIXa4erAzFXI9XAZtyg.png"/></div></div></figure><p id="1ed3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们已经获得了密码，让我们尝试提交authenticate()函数。为了在链上发送事务，我们需要一个元掩码私钥。要获取元掩码私钥，请单击元掩码扩展→元掩码上的三个点→帐户详细信息→导出私钥。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oy"><img src="../Images/1f4f98a6e66af51a1c71c8a9c59cf555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wcxjKCdPJ_9Qe13IELGUVg.png"/></div></div></figure><p id="59e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们将事务发送到链上。返回ethernaut challenge，点击<em class="kl">“提交实例”。</em>会弹出一个对话框。对于我的交易，请单击“确认”并等待一段时间。解决挑战后，我们现在可以访问合同源代码。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oz"><img src="../Images/decea41784dce1d42fcba8341e107cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PRkoQFIZckAuBa99BfWCuA.png"/></div></div></figure><p id="95ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了源代码，因此我们可以在铸造厂编写代码来调用和发送事务，而不是手动执行事务。在下一篇博客中，我们将讨论如何在foundry中编写代码，以及如何自动化整个过程。</p><p id="f011" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个契约中的漏洞是将密码(<a class="ae mh" href="https://docs.soliditylang.org/en/v0.8.17/structure-of-a-contract.html?highlight=state%20variable#state-variables" rel="noopener ugc nofollow" target="_blank">状态变量</a>)定义为<strong class="jp ir"> <em class="kl">公共</em> </strong>。任何定义为public的状态变量或函数都可以被任何联系人和帐户调用。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pa"><img src="../Images/49246685c2bfb32c5a7ad2211482865f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mKVarsQLyHJVu2sv6hozzw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">你好以太网合同</figcaption></figure></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="c0f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">感谢阅读！如果你喜欢这个博客，请点击</em><strong class="jp ir"><em class="kl"/></strong>👏<strong class="jp ir"> <em class="kl">按钮和</em> </strong> <em class="kl">分享它来帮助别人！欢迎留言</em>💬<em class="kl">下图。有反馈？下面我们连线上</em> <a class="ae mh" href="https://twitter.com/inc0gnito_" rel="noopener ugc nofollow" target="_blank"> <em class="kl">推特</em> </a> <em class="kl">。</em></p></div></div>    
</body>
</html>