<html>
<head>
<title>AngstromCTF 2018 WEB Writeups — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AngstromCTF 2018网络评论—第1部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/angstromctf-2018-web-writeups-part-1-944b57b3f1b5?source=collection_archive---------1-----------------------#2018-03-26">https://infosecwriteups.com/angstromctf-2018-web-writeups-part-1-944b57b3f1b5?source=collection_archive---------1-----------------------#2018-03-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5f42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">欢迎来到AngstromCTF 2018由Abdelkader [337 HackXore]撰写的文章</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/bf4e19519cbe45c7cf030d975c32fbc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7sVaLcS-0hkZXOwH_quZVw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">AngstromCTF 2018网络评论—第1部分</figcaption></figure><p id="e1d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AngstromCTF 2018从2018年3月16日星期五20:00 UTC开始，到2018年3月22日星期四结束。我遇到了一个简单、中等和一些困难的问题。这次CTF竞赛是由Darkside团队(来自华盛顿州DC地区的一个高中团队)组织的。</p><p id="c1c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于网络挑战，它们都从容易到困难，最后我解决了所有的问题。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/755cc3c6db5a5ac6d90255d96a2c3642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NLXnNCEXL5J1hDM-U0nTbA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">百分之百搞定！</figcaption></figure><h1 id="31be" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">来源我1[20分]</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ma"><img src="../Images/709e89240b57a1cf17f674f66f4423c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PW5D9MLUbgHa8dxxH9-lsg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae mb" href="http://web.angstromctf.com:6999/" rel="noopener ugc nofollow" target="_blank">http://web.angstromctf.com:6999/</a></figcaption></figure><p id="d7bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这次挑战中，为参赛者提供了一个登录页面。他们必须绕过它去得到旗子，这是这个任务的解决方案。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/cc5138edb990487dd1da8160f2d54c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*gH2mjo_Af23eJWCi_PNt7g.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Source Me 1的登录页面</figcaption></figure><p id="ded7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后它将读取html标签/注释之间的用户名/密码。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi md"><img src="../Images/71299cd257fa50c3b0fdf06c0ed65578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*6w4DhIFigAIc1WiKaJhzww.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Source Me 1的登录代码源码</figcaption></figure><p id="e7f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用admin/f7s0jkl登录以获取您的旗帜！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi me"><img src="../Images/aa897c52ce0044ff5cf7193df254264a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*Wj8oyf3U-B66E7xmM72qyw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">来源我1的是0wned！</figcaption></figure><p id="6cbd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标志为:actf{source_aint_secure} </strong></p><h1 id="46e7" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">给我[30分]</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mf"><img src="../Images/3b788bafa03b359fb39ecaf0a85b52e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rSru_-S5F4eftnNkXU2mpg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">【http://web.angstromctf.com:3005/ T4】</figcaption></figure><p id="00cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这次挑战中，参赛者被提供了一个带有提交按钮的页面，以验证带有旗帜的页面。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/313ba22225da31112800c67bc980638d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*rGhEDJ3pqpnyWgLhFvXtrQ.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">获取我的挑战页面</figcaption></figure><p id="2215" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们点击提交按钮时，我们无法验证到标志页，它将我们重定向到另一个页面，告诉我们我们没有被授权！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/96ef8f7a9208976feefe96ed4a16e9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*8QQ8YuaYVzPt2JN3mDC1Jg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">嗯…我们没有被授权！</figcaption></figure><p id="6b19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯……好的，我看到有一个可以修改的认证参数:</p><blockquote class="mi mj mk"><p id="1b6d" class="jn jo ml jp b jq jr js jt ju jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj kk ij bi translated"><strong class="jp ir"> /？auth=false </strong></p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/68ee9d0b3f0db59226547831b271123a.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*Yqt5w5VKNpgiFuCC28VDIg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">耶…我们被授权了！</figcaption></figure><p id="0680" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">耶…我们将其修改为true，并使其获得授权，参数值变为:</p><blockquote class="mi mj mk"><p id="5db7" class="jn jo ml jp b jq jr js jt ju jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj kk ij bi translated"><strong class="jp ir"> /？auth=true </strong></p></blockquote><p id="7c07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标志为:actf{why_did_you_get_me} </strong></p><h1 id="c3c0" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">续集[50分]</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/fd6d5188302609db8067f84fe57c1cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BEPd_UOjnqqhRnPRtXTfAA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae mb" href="http://web2.angstromctf.com:2345/" rel="noopener ugc nofollow" target="_blank">http://web2.angstromctf.com:2345/</a></figcaption></figure><p id="fd05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这次挑战中，为参赛者提供了一个登录页面。他们必须绕过它去得到旗子，这是这个任务的解决方案。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/36aec6c842c7605ba2e57d4e839ac8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7qzpEd5MFy8Z74jw2gtUQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Sequel的登录页面</figcaption></figure><p id="9095" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯…根据任务的名称，我猜这是SQL注入，让我们试着检测一下！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ms"><img src="../Images/07148ff740e4b085cf7b91d188365b8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nLlBPTwAy9gPrl200ywKUA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">已检测到SQLi！</figcaption></figure><p id="2a97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我是对的…在我登录后:</p><blockquote class="mi mj mk"><p id="84af" class="jn jo ml jp b jq jr js jt ju jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj kk ij bi translated">管理员'/*</p></blockquote><p id="d4b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据上面显示的错误，我检测到此登录中存在SQL注入漏洞。</p><p id="9ee9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们尝试绕过这个登录来获取标志！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/fcd0b862688855e4eeeac1e4ae36ba25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQOIMP0oD_L3LB7TX4p94w.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">尝试绕过登录(SQLi)</figcaption></figure><p id="fb98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我试过了:</p><blockquote class="mi mj mk"><p id="13c3" class="jn jo ml jp b jq jr js jt ju jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj kk ij bi translated">或" ='/'或" = '</p></blockquote><p id="7e5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我发现这是SQLi漏洞后，我从第一次尝试就绕过了它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mu"><img src="../Images/7dba716f018817ef35ef69f11c8d3d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IuZk9SaxKlyUOlzb9QfvWA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">登录已被绕过！(SQLi)</figcaption></figure><p id="ad38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标志为:actf { SQL _ injection _ more _ like _ prequel _ injection }</strong></p><h1 id="be80" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">来源我2[50分]</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/76c26f41bf18ebfb4f14b172f1323261.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zF3fnDvrxMmYgheovIX3lg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae mb" href="http://web.angstromctf.com:7000/" rel="noopener ugc nofollow" target="_blank">http://web.angstromctf.com:7000/</a></figcaption></figure><p id="4b87" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">又一次登录！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/3b2c8a06ef551e84ae8d07eb63c51b97.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*JkdnxZy0QSuh0APbGQ-_bQ.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Source Me 2的登录页面</figcaption></figure><p id="1a45" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像<strong class="jp ir">Source Me 1</strong>we<strong class="jp ir">T3】都要登录才能获得旗帜！</strong></p><p id="8b07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">View-Source它会在那里找到一个JavaScript代码！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/19fb990b976b702f33f32ea139fde56c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z3DcIq2GXA10SkD4KYzRJA.png"/></div></div></figure><p id="84c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你必须阅读它才能理解它。我将得到md5()函数，它在md5算法中对密码进行哈希运算，并且有一个条件检查，如果我的密码正确，它会将我重定向到标志页，要想正确，它必须是这样的:</p><pre class="km kn ko kp gt my mz na nb aw nc bi"><span id="beab" class="nd ld iq mz b gy ne nf l ng nh"><strong class="mz ir">md5(password) = “bdc87b9c894da5168059e00ebffb9077”</strong></span></pre><p id="1f61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们尝试在<a class="ae mb" href="https://hashkiller.co.uk/md5-decrypter.aspx" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ml">hash killer</em></strong></a><strong class="jp ir"><em class="ml">中破解这个md5 hash。</em>T13】</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ni"><img src="../Images/a38be83acc9d538367fde51af9a33fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bAu_AagnzkaF8IJOXHhTcg.png"/></div></div></figure><pre class="km kn ko kp gt my mz na nb aw nc bi"><span id="47ad" class="nd ld iq mz b gy ne nf l ng nh"><strong class="mz ir">md5(“password1234”) = “bdc87b9c894da5168059e00ebffb9077”</strong></span></pre><p id="62ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，密码是:</p><blockquote class="mi mj mk"><p id="cb42" class="jn jo ml jp b jq jr js jt ju jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj kk ij bi translated"><strong class="jp ir">“密码1234”</strong></p></blockquote><p id="064c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们尝试使用:admin/password1234登录</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nj"><img src="../Images/0d9544adcb401879df35e2e99c7d61e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EbOZ5wcjG_1rNj0rRgCCJg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">欢迎，管理员！</figcaption></figure><p id="c450" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标志为:actf { MD5 _ hash _ browns _ and _ pasta _ sauce }</strong></p><p id="d9b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是这些文章的第一部分，还有更多关于我在<a class="ae mb" href="https://medium.com/@Abdelkad3r/angstromctf-2018-web-writeups-part-2-6c1ee586aa64" rel="noopener"> AngstromCTF 2018网络文章第二部分</a>中解决的4个遗留问题的文章。</p></div></div>    
</body>
</html>