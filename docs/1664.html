<html>
<head>
<title>HacktoberFest2k21 vulnerability: How users metadata can be changed via Auth JWT tokens leaking from waybackurls</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HacktoberFest2k21漏洞:如何通过从waybackurls泄漏的身份验证JWT令牌来更改用户元数据</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/hacktoberfest2k21-vulnerability-how-users-metadata-can-be-changed-via-auth-jwt-tokens-leaking-from-3028f8ad6991?source=collection_archive---------0-----------------------#2021-11-03">https://infosecwriteups.com/hacktoberfest2k21-vulnerability-how-users-metadata-can-be-changed-via-auth-jwt-tokens-leaking-from-3028f8ad6991?source=collection_archive---------0-----------------------#2021-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c022" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你好，了不起的读者们👨‍💻✌✌,</p><p id="b23c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是我的第六篇文章，我将解释我是如何通过auth JWTtokens从waybackurls日志和<strong class="jp ir"> <em class="kl">视频POC中泄漏的内容来更改用户元数据的，这些内容在最后一篇文章</em> </strong>中提供。</p><p id="529b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们开始吧，</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><p id="da0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">别担心我不会用<strong class="jp ir">redacted.com</strong>🤣所以先访问<a class="ae kt" href="http://hacktoberfest.digitalocean.com" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">hacktoberfest.digitalocean.com</strong></a>，把你的账号链接到<strong class="jp ir"> GitLab </strong>或者<strong class="jp ir"> GitHub </strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ku"><img src="../Images/0440e2fa1738dc18acc971082c381091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BrqjeYXwLBLI3tLfuLQhoQ.png"/></div></div></figure><p id="4331" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在只需捕获burpsuit中的概要文件，检查处理用户元数据的请求，并将其发送到<strong class="jp ir">中继器</strong>作为备份，如下所示。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lb"><img src="../Images/20f7a8108b57f718e15dd5befb6417b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KjYD5hBiwEd7ZB0Le3MP1g.png"/></div></div></figure><p id="ff5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在在请求中，您可以观察到在<strong class="jp ir">授权头</strong>中只使用了JWT，授权jwt已经在有效载荷部分包含了一个<strong class="jp ir">用户ID </strong>，如下所示:</p><p id="828a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用<a class="ae kt" href="http://jwt.io" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> jwt.io </strong> </a>来分析jwt</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lc"><img src="../Images/2ba6f90e0cbc3ad8e6b7bfd4d97b24fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zMGEUMPsXXmGCiJX7SAToA.png"/></div></div></figure><p id="cff3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这意味着我们只需要一种方法来找到/建立这些令牌，以改变用户/受害者帐户元信息。</p><p id="11a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这一点上，我尝试了一些谷歌，Github呆子，但没有工作后，当我使用<strong class="jp ir"> waybackurls工具。</strong></p><p id="d43a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简单的命令:</p><pre class="km kn ko kp gt ld le lf lg aw lh bi"><span id="add8" class="li lj iq le b gy lk ll l lm ln"><strong class="le ir">waybackurls hacktoberfest.digitalocean.com</strong></span></pre><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><p id="645e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在回程中发现了URL，其中<strong class="jp ir">用户认证JWT令牌</strong>正在被使用，如下所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lo"><img src="../Images/35ccd167455b9fe3b97e625ab8e7aabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fQa97ehQoSeSbmWWZPFRSA.png"/></div></div></figure><p id="daa8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如上所示，在jwt分析部分中，我可以很容易地获得<strong class="jp ir"> JWT有效载荷</strong>部分中的<strong class="jp ir"> user_id </strong>，并且现在可以在请求中使用。</p><p id="ffe9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，当我分别在<strong class="jp ir">授权头</strong>和<strong class="jp ir">请求URL端点</strong>中使用此JWT和user_id时，我的请求得到了<strong class="jp ir"> 200OK </strong>响应，受害者<strong class="jp ir">元数据</strong>发生了变化。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lp ks l"/></div></figure><p id="90e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我甚至用一个受害者账户样本演示了它，它的工作方式与waybackurls JWT的样本一样。</p><p id="5cf6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">查看视频，更清楚地了解漏洞:</strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lq ks l"/></div></figure><p id="bc55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个<em class="kl"> POC展示了链接多个漏洞的力量</em>和<em class="kl">为什么侦察有时很重要。</em></p><p id="1a8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">感谢观看概念验证</strong>😍。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><p id="71b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里订阅我的频道👩‍💻:<a class="ae kt" href="https://www.youtube.com/channel/UCq7-Qf45etdk0qc35I_n7PQ?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank">订阅_ _此处</a></p><p id="f6a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">通过LinkedIn联系我</strong>:【https://www.linkedin.com/in/anurag-verma-650b771a2 T2】</p><p id="2438" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">在Instagram上联系我</strong> : varmaanu001</p></div></div>    
</body>
</html>