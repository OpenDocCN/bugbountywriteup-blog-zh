<html>
<head>
<title>Vulnerabilities that shook the internet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动摇互联网的漏洞</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/vulnerabilities-that-shook-the-internet-4cb82a22d3ff?source=collection_archive---------1-----------------------#2022-05-01">https://infosecwriteups.com/vulnerabilities-that-shook-the-internet-4cb82a22d3ff?source=collection_archive---------1-----------------------#2022-05-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/3ac96f82319c2cddfbbd455c5e3e3d60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V6k1ntnSRUjmG6aWTL8EFA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">来自Pexels的马体·米罗什尼琴科的照片</figcaption></figure><h1 id="fc02" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">简介</strong></h1><p id="14d4" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">每个月的每一天都会报告大量的安全漏洞，其中许多会对您的应用程序、网站和网络基础设施造成严重后果，其中许多会导致远程代码执行，例如log4j漏洞。在这篇博文中，我们将讨论一些在公司中经常被滥用的漏洞，如果被成功利用，这些漏洞有可能接管整个组织。如果您正在开发应用程序或为企业进行渗透测试，您可能会遇到这些漏洞之一。</p><h1 id="ba1d" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">什么是CVE？</strong></h1><figure class="mc md me mf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mb"><img src="../Images/669cd061d997ba8708471892b9edbf01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fo1_I3imkAYwzhdPrzgI7Q.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><a class="ae mg" href="https://www.ondeso.com/wp-content/uploads/2020/09/cve-summary-freebie-ondeso.pdf" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="1231" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">假设，研究人员能够在2020年、2021年和2022年发现一些与应用程序app1相关的不同漏洞，这些应用程序可能是开源的，或者可能会影响许多不同的用户。你认为我将如何向你解释漏洞是什么，利用它们需要什么条件以及它们的利用代码(如果有的话)。我不能简单的说是2020年或者2021年发现的。那些年里发现了很多。这就是为什么我们有CVE。</p><p id="830d" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated"><strong class="lf iu"> CVEs代表常见漏洞和暴露</strong>。按照其通常的定义，“<strong class="lf iu">是一系列公开披露的计算机安全缺陷</strong>”它由MITRE Corporation维护，当我们提到CVE时，通常会将其与数字联系起来。</p><pre class="mc md me mf gt mm mn mo mp aw mq bi"><span id="5a78" class="mr kh it mn b gy ms mt l mu mv">The format of a CVE is <strong class="mn iu">CVE-YYYY-ID</strong></span></pre><p id="60c8" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">例如，如果在1999年总共发现了4个漏洞，我们可以将它们写成CVE-1999–1，CVE-1999–2，CVE-1999–3，CVE-1999–4。只有那些有可能影响大量网站或互联网用户的漏洞才会被授予CVE编号。假设您正在向某个网站报告跨站点脚本(XSS ),并且XSS仅在该特定网站上执行。因此，这不能添加到CVE；但是，如果你在JavaScript库中发现了一个被大量网站使用的XSS，这个XSS会影响大量网站，将来需要足够的跟踪；因此，我们将给它一个CVE奖。</p><h1 id="dd21" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak"> 1。log4j 2021–44228</strong></h1><p id="71d9" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">Apache Log4j是一个用Java编写的日志软件，由Apache软件基金会开发。它是用Java编写的，是一个可以在Java日志系统中找到的包。它包含在许多不同的Java日志框架中。已在Java日志记录包log4j中发现一个零日漏洞，该漏洞可能允许远程代码执行。</p><p id="dae2" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">日志库通常将消息写到日志文件或数据库中。在将字符串写入日志文件之前，通常会对其进行处理。例如，指定为<strong class="lf iu"> $variable </strong>的变量可以扩展为日期、时间或用户名。＄{ user . username }表达式可以通过使用诸如<strong class="lf iu">log . info("＄{ user . username } not found ")</strong>之类的表达式，用当前用户的实际用户名来更改。这类似于在PowerShell中使用$()来扩展和解析文本。</p><p id="c668" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">大多数网站通常会记录一些常见的标题，如用户代理或自定义标题，如X-Forwarded-For等。在某些情况下，应用程序会在日志中写入用户的信息，如电子邮件、他们的姓名等，以便进行日志跟踪，如果您在这些日志中添加了有效负载，也可能会被利用。</p><p id="3494" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">漏洞脚本已经在线提供，防止log4jshell的最简单方法是更新到Log4j 2 . 16 . 0或更高版本。</p><h1 id="f516" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak"> 2。弹簧壳CVE-2022–22965</strong></h1><p id="d46f" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">Spring Framework的非正式名称是Spring Framework，它是一个开源应用程序框架，为基于Java的web应用程序的开发提供基础设施支持。2022年3月，该框架中的两个远程代码执行漏洞被发现。框架中称为“Spring Cloud Functions”的组件容易受到第一个漏洞的攻击，第一个漏洞会影响“Spring Core”中的一个组件，它也被称为框架的“心脏”。</p><p id="c5d0" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">对于易受此问题攻击的服务器来说，许多东西需要放在正确的位置。</p><p id="8e03" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">例如，JDK 9+需要安装在服务器上，运行有漏洞的Spring框架版本，Apache Tomcat作为服务器运行。<strong class="lf iu">Spring框架的易受攻击版本是5.2、5.2.0到5.2.19以及5.3.0到5.3.17之前的版本</strong></p><p id="a9fd" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">利用这个漏洞非常容易，而且漏洞代码也可以在网上找到。如果使用此框架创建的web应用程序以root或管理员身份运行，这可能会导致攻击者获得web服务器的管理权限。</p><h1 id="f57d" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak"> 3。LFI和RCE在阿帕奇CVE-2021–41773和CVE-2021–42013</strong></h1><p id="d758" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">2021年发布的Apache 2 . 4 . 49版易受本地文件包含漏洞的攻击，这可能导致远程代码执行。它被指定为CVE编号2021–41773，该公司很快在最近的版本2.4.50中发布了一个补丁。然而，人们发现，更新版本也容易受到同样的弱点，所有用户必须做的是编码他的有效载荷两次，以规避这一问题。这被指定为CVE编号2021–42013。他们很快推出了另一个更新，幸运的是包含了对这些漏洞的修复。</p><p id="412a" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">由于大量的web应用程序使用Apache，这些漏洞被攻击者广泛利用。该漏洞可以在互联网上找到。</p><p id="4b77" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">补救措施是将其更新到2.4.51</p><h1 id="f0c5" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak"> 4。Windows后台打印程序远程代码执行漏洞CVE-2021–34527</strong></h1><p id="fc1b" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">这是过去和现在都被攻击者严重利用的漏洞之一。</p><p id="34a7" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">在计算中，打印机假脱机程序是一个简单的程序，它管理从计算机发送到打印机或打印服务器的纸张打印任务。启用打印队列或缓冲区，可以在其中存储多个打印作业，直到它们被打印机或打印服务器检索到。</p><p id="727b" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">当大量打印作业被提供给单个打印机时，使用打印机假脱机程序。众所周知，计算机打印机在打印时速度很慢，因此其他打印作业被放在缓冲区或打印队列中以节省时间。当打印机准备好下一个作业或文档时，它会从打印队列中获取任何未完成的打印作业，并一次打印一个作业，直到所有文档都打印完毕。</p><p id="5cfd" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">事实证明，攻击者可以使用Print Spooler在系统上执行特权命令。当Windows后台打印程序服务不正确地执行特权文件操作时，会出现这种情况。攻击者可以利用此漏洞安装程序、查看、更改或删除数据，甚至创建具有完全管理员/系统权限的新帐户。</p><p id="30da" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">自从它的漏洞利用代码公开以来，它的漏洞利用呈指数级增长。</p><p id="fd83" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">确保您的服务器安装了最新的补丁程序。</p><h1 id="3803" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak"> 5。Microsoft Exchange Server远程代码执行漏洞CVE-2021–26855</strong></h1><p id="e6b8" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">Microsoft Exchange Server是一个邮件服务器，是微软的<strong class="lf iu">电子邮件、日历、联系人、日程安排和协作平台。</strong>它只能在Windows Server操作系统上运行。</p><p id="1d4e" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">这种攻击需要恶意用户建立到Exchange server端口443的不可信连接。如果攻击者能够让管理员打开恶意文件，也会触发这种情况。建议管理员在面向外部的Windows服务器上安装更新。</p><h1 id="3147" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak"> 6。baigo CMS v 3.0-alpine-2 CVE-2022–26607</strong></h1><p id="755d" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">Baigo是一个用PHP编写的内容管理系统。在Baigo CMS v3.0-alpine-2中发现了一个远程代码执行漏洞，当恶意制作的PHP文件上载到CMS时，该漏洞允许无限制的文件上载。该漏洞的技术细节和易受攻击的功能目前还不清楚。</p><p id="9b5f" class="pw-post-body-paragraph ld le it lf b lg mh li lj lk mi lm ln lo mj lq lr ls mk lu lv lw ml ly lz ma im bi translated">由于该漏洞目前未被利用，因此市场上存在对该漏洞的需求。截至这个<a class="ae mg" href="https://vuldb.com/?kb.exploitprices" rel="noopener ugc nofollow" target="_blank">网页</a>，其漏洞可能定价在0美元到5000美元之间。</p><h1 id="6099" class="kg kh it bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">结论</strong></h1><p id="dbd1" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">在这篇博客文章中，我们讨论了互联网上一些最常见的服务和应用。讨论的所有漏洞都已经分配了一个CVE，它们的漏洞利用都可以在网上找到，只有Baigo例外，由于漏洞利用处于保密状态，它尚未公开披露。除了这些，我们将在后续的博客中了解列表中的其他内容。</p></div></div>    
</body>
</html>