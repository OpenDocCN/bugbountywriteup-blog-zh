# 代理 Sudo | TryHackMe 演练

> 原文：<https://infosecwriteups.com/agent-sudo-tryhackme-walkthrough-51f498173149?source=collection_archive---------0----------------------->

![](img/6b658d7ea18610d6e37b9cf88d76a83a.png)

整理来自 TryHackMe 的一些 CTF 房间，磨砺一下黑客技术，*。因此，今天我将解释关于解决代理 Sudo 房间的演练。*

***让我们抓住那个特工……***

## *列举*

*1.有多少个开放的港口？*

> *3*

*![](img/7e1f3fcef26d6cc42147158d69fc7619.png)*

*2.你如何将自己重定向到一个秘密页面？*

> *用户代理*

*![](img/73b6c3f3658cb892bcc3bf284237665a.png)*

*我从网页上找到了线索。让我们截取连接，并用 **C.** 更改用户代理*

*![](img/60a04b9bc01f478910a3e09c920d6a45.png)*

*是的，我们做到了。*

*![](img/62dff2ea6940d5d32c65063eb17c1a38.png)*

*这是重定向页面的输出。*

*![](img/1644711045859cad9bbba4930afe93c6.png)*

## *哈希破解和暴力破解*

*在枚举步骤中，FTP 服务在端口 22(默认端口)上处于活动状态。
所以，有了之前的线索，导致密码较弱，我有兴趣用**九头蛇**蛮力破解密码。*

*是的，答对了。*

> *FTP 密码= ***水晶****

*![](img/ac2595907ca3a30827988139c4302bd9.png)*

*尝试使用 FTP 登录到服务器。*

*![](img/707cfc3ac84a6c7e9e560a6bce2a1d9b.png)*

*有 3 个文件，很有意思。*

*![](img/0d85f7baebb83dd3e6e86bdbfc136f5e.png)*

*喔，我们有一些隐写术文件。
然后用 binwalk 分析，我得到**cutie.png**有几个隐藏文件。*

*![](img/8a98a58d0119a5b36752ec44dba1d8be.png)*

*尝试解压文件，有一个名为 8702.zip 的压缩文件
然后把 zip 文件转换成 John hashes，用**开膛手 John 破解。***

*![](img/eea50f13d3654480056a26d07c80812f.png)*

*最后，zip 文件的密码是**外星人***

*![](img/13151ef16158f60547467d2f894fad63.png)*

*然后尝试打开该文件。*

*![](img/e09b1be1f5d70141b052c515bba3f101.png)*

*这就像一个秘密信息，但 QXJlYTUx 似乎与众不同。*

*![](img/e3be7c430d6c158ec3c8d093c2c83484.png)*

*尝试一些解码器，base64 就是答案。隐写密码是 **Area51** 。*

*![](img/94c02317067c7dff0be73f607d731562.png)*

*用 **steghide** 从另一个 png 文件中提取消息。*

*另一名特工的名字是**詹姆斯**。*

*![](img/503461da00424eff03226c189ce16c5e.png)*

*尝试使用**詹姆斯** : **黑客规则登录服务器！**，我在服务器上。*

*![](img/66b2215c3ef756e978a78311b5152f46.png)*

*用谷歌图片搜索图片。*

*![](img/a3a470ff4faa6b6323272515214abdca.png)**![](img/3728bc79640dd02168fd6f93346e9c19.png)*

## ***权限提升***

*对于 priv esc，我使用自动化程序。*

*![](img/077d8b28c91011057de5e3c6c4cbe3ac.png)*

*看到须藤版了吗？让我们检查一下..*

*![](img/cd5e53bc034180351577cf3121ecf59a.png)*

*使用 CVE-2019–14287， **sudo.sh** 的脚本利用机器*

*![](img/1ab474ed4d7fa0e4123f9c746b36cbb2.png)*

*我们找到了根。*

*![](img/d53816e2718422f2e8a63e09ec914a98.png)**![](img/0a74face549337aae812d216fb41b636.png)*

## *结论*

*这个房间是一个在道德黑客或渗透测试中练习很多技巧的令人惊奇的房间。从枚举、破解和暴力破解开始，寻找漏洞并获取特权用户。*

> *不断前进，做专家。*

*感谢阅读。*

*Infosec Writeups 团队刚刚完成了我们的第一次虚拟网络安全会议和网络活动。我们有 16 位出色的演讲者，他们主持了非常有价值和鼓舞人心的会议。要查看演讲者和主题列表，请点击此处。*

*[](https://iwcon.live/) [## IWCon2022 — Infosec 书面报告虚拟会议

### 与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…

iwcon.live](https://iwcon.live/)*