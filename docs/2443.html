<html>
<head>
<title>It’s the Little Things : Breaking an AI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这是小事:打破一个人工智能</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/its-the-little-things-breaking-an-ai-40c30ae85f37?source=collection_archive---------0-----------------------#2022-10-13">https://infosecwriteups.com/its-the-little-things-breaking-an-ai-40c30ae85f37?source=collection_archive---------0-----------------------#2022-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f61a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个微小观察的故事导致了一个重要的发现。</p><p id="b64f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">TL；dr——提供人工智能路径遍历有效载荷，并获取本地文件作为回报。</p><h1 id="b8f1" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">介绍</h1><p id="df6a" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">关于人工智能接管地球并导致体力劳动失业的争论没完没了。嗯，至少不是今天！让我们来探索一下，在一个AI模型中，不可信的用户输入是如何导致本地系统文件泄露的！</p><p id="becb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几个月前，我偶然发现了CatCorp，一家将NLP模型构建为API服务的公司，这可以被视为软件即服务(SaaS)经济的下一个上升趋势。</p><p id="7705" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">应用程序非常简单。登录后，你会看到一个仪表盘，用来创建和训练你自己的人工智能模型。创建模型包括选择模型类型和大小，然后输入数据分隔符和您的训练数据。这可以通过上传一个. txt文件来完成，该文件包含要提供给AI/应用程序的数据，也可以引用一个指向预先上传的。txt文件托管在您想要的网站上。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/f9f8598716b2c3ad54e310c572eb1167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*fneJrWTWCV21WAHpZXM1qA.png"/></div></figure><p id="802b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">数据上传后，处理就开始了。这是一个5阶段的过程。</p><p id="8a68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">数据处理&gt;微调&gt;导出模型&gt;部署API &gt;就绪。</p><p id="c1ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，这需要一段时间。</p><p id="16cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它们还提供了一个<strong class="jp ir">特性</strong>来<strong class="jp ir">查看</strong>通过所述过程发生的<strong class="jp ir">日志</strong>。</p><h1 id="4777" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">发现和开发</h1><p id="e2c0" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在修补应用程序时，我深入研究了模型创建特性和到您的。txt 组件引发了我的兴趣。我开始模糊周围，并馈入一个基本的路径遍历有效载荷，如<strong class="jp ir"> /../../../etc/doesnotexist </strong>只是为了检查服务器如何响应。</p><p id="d435" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们开始之前，让我们绕一个弯来看看这个请求实际上是什么样子的</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/f17f34a18d100de2da9ac86c555e4c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*1sTg3rR1cQZ8GxQtWKA2Tg.png"/></div></figure><p id="43fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个非常基本的请求，传入名称、路径(链接到。txt)和模型创建所需的其他相关属性。现在，让我们回过头来看看那些引起我兴趣的回复吧！</p><h1 id="9072" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">请求/响应A(有效路径)</h1><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/ab59c20b4e18cce7b451033daa06b5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*M5oadPicQt7u5vxigzw7Kg.png"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">请求A</figcaption></figure><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mc"><img src="../Images/31014f247b137077ba0997cfe5b5c1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEutfCoIiReTU80BcN3Qrw.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">回应A</figcaption></figure><h1 id="eaac" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">请求/响应B(无效路径)</h1><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/b077f9c716f8c2682892241fc546fbb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*WC2t5Ycf8hiF8b1SJBF0iQ.png"/></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">请求B</figcaption></figure><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mi"><img src="../Images/f172121e96c11f3ea97dbfe11858d18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qyi5HM1G95E66F8BUQVpJA.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">回应B</figcaption></figure><p id="fb1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仔细观察响应，我们发现一个常见的linux详细错误，表明应用程序确实在<strong class="jp ir">遍历</strong>目录并试图获取所请求的文件！</p><p id="8db8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">酷！但是，我们实际上如何披露这些文件呢？！提供任何有效文件，比如说<strong class="jp ir"> /etc/hosts </strong>或<strong class="jp ir"> /etc/passwd </strong>抛出一个需求错误，如<strong class="jp ir">响应A </strong>所示。我在这个问题上被困了几个小时。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="664e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尽管我确实有一个成功的响应显示了本地文件的内容，但是我不记得是怎么做到的了！谢天谢地，我没有关闭我的打嗝会议，一个简单的搜索揭示了这里的罪魁祸首。这都是关于一个单独的数据分隔符，即:<strong class="jp ir"> (/) </strong>。</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="ml mk l"/></div></figure><p id="e83f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你能相信吗？一个单一的字符是所有决定这将是一个关键与否！</p><p id="1bed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是它的工作原理</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mm"><img src="../Images/15b6d6b4f1b4f584c1603bc2e273d1ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FTmyBmyhqJy3z9G7znUSqg.png"/></div></div></figure><p id="a1f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如屏幕截图中所显示的，我们所要做的就是传递一个微小的分隔符，它为我们通过一个甜蜜的旁路漏洞提取本地文件的一部分做好了准备！</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mn"><img src="../Images/2d7cdb880ccdc78147911607aa48d4cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vIrvR6hME_OyJPJzMGz5dQ.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">新响应</figcaption></figure><p id="e7c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是新的回应。请注意，当提供有效的文件名时，它与最初的响应有什么不同。这强调了像上述问题那样寻找微小线索的必要性。</p><p id="6f55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续，一旦请求成功，我们可以简单地重新访问仪表板，点击创建的AI模型并<strong class="jp ir">查看</strong><strong class="jp ir">日志</strong>，这将为我们带来所请求文件<em class="mo">(此处/etc/passwd) </em>的部分内容，如下面的截图所示。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mp"><img src="../Images/ec411b358d1c2bd652bfcbf6f06f7c30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uoXap-6xTQpW-kTUlyRgKg.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk translated">正在公开/etc/passwd的内容</figcaption></figure><p id="a35c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这个星球上的任何一个黑客来说，这都是一个极度兴奋的景象，足以让vuln被认为是一个关键！</p><h1 id="3a78" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">原因？/可能的解释</h1><blockquote class="mq mr ms"><p id="0e08" class="jn jo mo jp b jq jr js jt ju jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj kk ij bi translated">我最大的猜测是提供的分隔符，以某种方式打破/中断了输入流，结果部分呈现了文件内容，作为错误/警告消息的一部分。</p></blockquote><p id="fe4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天到此为止，各位！一会儿见。</p><p id="bb2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个bug是与https://twitter.com/_rajesh_ranjan_合作的</p><p id="6c9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">时间线:- </strong></p><p id="cde1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">报告日期:2022年8月20日</p><p id="2af4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">获奖日期:2022年9月16日</p><p id="e45b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">外卖:- </strong></p><p id="3cec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意你的打嗝记录，留意哪怕是最小的输入字段！</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mx"><img src="../Images/768840d5ad4ea2d39e8508e03043e325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hIjx1_QpN2wGrKeWN2pkZg.png"/></div></div></figure><p id="8cf1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在DMs系统中，欢迎任何反馈:-<a class="ae mw" href="https://twitter.com/ThisIsDK999" rel="noopener ugc nofollow" target="_blank">https://twitter.com/ThisIsDK999</a></p><p id="cd46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安静点。✌️</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h2 id="2d79" class="nf km iq bd kn ng nh dn kr ni nj dp kv jy nk nl kz kc nm nn ld kg no np lh nq bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae mw" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>