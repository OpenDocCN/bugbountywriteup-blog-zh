<html>
<head>
<title>Amazon Web Services IAM Basics, The only guide you need!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亚马逊网络服务IAM基础，你需要的唯一指南！</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/amazon-web-services-iam-basics-the-only-guide-you-need-ad2697b6a38e?source=collection_archive---------2-----------------------#2020-11-21">https://infosecwriteups.com/amazon-web-services-iam-basics-the-only-guide-you-need-ad2697b6a38e?source=collection_archive---------2-----------------------#2020-11-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="aad4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以Covid锁定2.0！第一次锁定时，我花了很多时间研究云技术，因为当时我主要在这一领域进行咨询。选择的供应商是AWS，经过几周的阅读和学习，我获得了最后的证书——AWS安全专家。</p><p id="8b40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章将集中在关键和最基本的概念上。本主题介绍安全性、身份和访问管理概念。</p><p id="4990" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">什么是IAM？</p><blockquote class="kl km kn"><p id="b4b9" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">为了管理对这些服务的访问权限，AWS创建了IAM。IAM是一项<strong class="jp ir">全球</strong>服务，这意味着它覆盖一个账户内的所有地区。</p></blockquote><p id="1415" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AWS身份和访问管理(IAM)使您能够安全地管理对AWS服务和资源的<strong class="jp ir">访问</strong>。使用IAM，<strong class="jp ir">您可以创建和管理AWS <em class="ko">用户</em>和<em class="ko">组</em>，并使用<em class="ko">权限</em>来允许和拒绝他们对AWS资源的访问。</strong></p><p id="3b2a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">IAM是AWS帐户<strong class="jp ir">的一项功能，无需额外付费</strong>。您只需为您的用户使用其他AWS服务付费。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/2430c88d0836b685286bd0f88cfb1094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cts7JNUhV5W1ke1i5TelRQ@2x.jpeg"/></div></div></figure><p id="2546" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当提到基于云的提供商的安全性时，明智的做法可能是确保您知道谁负责云容器的哪些方面，您作为客户，以及云提供商将负责什么。这里有一个图表来解释这一点。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi le"><img src="../Images/6ba11b8d3b8b2becb3b159c4cab09e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*rc_nkFfAFvgge1jlF_HQug@2x.jpeg"/></div></figure><p id="5db0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尽管AWS负责调配和维护底层云基础设施，但您仍然需要执行一些安全配置任务，以确保您的云环境遵循最佳安全实践。长话短说AWS从底层到虚拟机管理程序，它们保护运行所有产品和服务的硬件、软件、设施和网络。当客户负责他们选择的服务的安全配置时，通常是EC2和S3桶配置。</p><h1 id="6f2b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">对IAM策略构成的基本但更深入的了解</h1><p id="a98a" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated"><strong class="jp ir">用户</strong></p><p id="ad61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">IAM中的用户是AWS帐户的用户，并且是使用AWS帐户的组织的用户。</p><p id="e595" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">IAM中的用户可以是开发人员、人力资源或使用AWS帐户的任何组织成员。</p><p id="146d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户可以通过<em class="ko"> AWS管理控制台访问</em>或<em class="ko">编程访问</em>。</p><p id="dd10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户可以在首次登录控制台后根据更改其密码</p><ul class=""><li id="151e" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">组织的云管理员授予的权限。</li></ul><p id="4235" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户使用用户名和密码登录AWS管理控制台。</p><p id="40d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户使用访问密钥id和秘密访问密钥通过编程访问AWS资源API。</p><p id="ebe4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以将策略附加到用户，以限制用户在AWS帐户中的操作。</p><p id="1b70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户可以添加到组中，也可以是AWS帐户的独立用户。</p><p id="e942" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">组</strong></p><ul class=""><li id="b398" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">组织中的组可以是用户的集合，如HR团队、开发团队、DevOps团队或数据分析师团队等。</li></ul><p id="ee91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AWS帐户中的组与组织中的组相同。</p><p id="e995" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AWS帐户中的组是在AWS帐户中执行相同操作的IAM用户的集合。</p><p id="b22d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:组织中的人力资源团队正在使用S3存储桶来存储简历。因此，IAM用户是在AWS IAM中创建的，并被添加到一个名为HR的组中，该组通过使用策略只能访问S3。</p><p id="8763" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以将策略附加到组中，以限制组中所有成员对AWS服务的访问。</p><p id="742a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:开发者IAM组的所有成员都可以启动虚拟机。</p><p id="5778" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">角色</strong></p><ul class=""><li id="c6b8" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">IAM角色是您可以在拥有特定权限的帐户中创建的IAM身份。IAM角色类似于IAM用户，因为它是一个AWS身份，权限策略决定该身份在AWS中可以做什么和不可以做什么。</li></ul><p id="d41c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，一个角色并不仅仅与一个人相关联，而是旨在被任何需要它的人所接受。</p><p id="57af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总的来说，任何AWS资源或个人都可以使用一个角色来执行与AWS资源相关的操作。它为人员或AWS资源提供临时凭证，由AWS内部每隔几分钟刷新一次。</p><p id="ca40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为角色附加一个策略，以定义角色可以对承担该角色的AWS资源执行的操作。</p><p id="1db9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:EC2实例可以承担访问S3的角色，下载web内容以服务用户。</p><p id="b4c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">政策</strong></p><p id="f751" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">策略是一种实体，当附加到身份或资源时，它定义它们的权限。策略作为JSON文档存储在AWS中，并作为IAM中基于身份的策略附加到主体。</p><ul class=""><li id="3da5" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">您可以将基于身份的策略附加到主体(或身份)，如IAM组、用户或角色。基于身份的策略包括AWS托管策略、客户托管策略和内联策略。</li></ul><p id="2c17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导入–您可以在您的帐户中导入受管策略，然后编辑该策略以根据您的特定要求进行自定义。受管策略可以是AWS受管策略，也可以是您之前创建的客户受管策略。</p><p id="af18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可视化编辑器–您可以在可视化编辑器中从头开始构建新策略。如果您使用可视化编辑器，您不必理解JSON语法。</p><ul class=""><li id="6f7e" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">JSON–在JSON选项卡中，您可以使用JSON语法创建策略。您可以键入一个新的JSON策略文档或粘贴一个示例策略。</li></ul><p id="e2d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">政策类型</strong></p><p id="0f39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AWS策略可分为3类，AWS管理/客户管理/内联策略。请记住，这些政策旨在限制对AWS资源的访问。</p><p id="cfd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AWS受管策略IAM中有许多AWS受管策略，它们主要用于限制对AWS资源的访问。唯一的缺点是，对于AWS帐户上的所有定制操作，没有AWS管理的策略。有客户管理的政策。这些策略可以跨用户、组和角色应用。</p><p id="5780" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">客户管理的策略—管理员可以创建自己的客户管理策略，其中包含特定的操作和条件。它可以使用可视化编辑器或JSON模板创建。例如:只允许将内容写入特定AWS S3存储桶中的特定文件夹。这些策略可以跨用户、组和角色应用。</p><p id="5970" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">内联策略—内联策略是嵌入在主体实体(用户、组或角色)中的策略。内联策略仅适用于该特定用户、组或角色。</p><h1 id="c723" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">AWS身份访问管理的功能</h1><ul class=""><li id="f367" class="mi mj iq jp b jq md ju me jy mr kc ms kg mt kk mn mo mp mq bi translated">对AWS资源的细粒度访问控制</li><li id="1d17" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">针对高特权用户的多因素身份认证</li><li id="6b0d" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">使用Web身份提供者管理移动应用程序的访问控制</li><li id="7d9c" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">与您的公司目录集成</li><li id="f2cc" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">管理和控制密码策略</li><li id="9656" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">创建用户、组、角色</li><li id="ec99" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">将自定义策略附加到用户、组和角色</li><li id="924e" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">启用和禁用AWS帐户中用于启动资源的区域</li></ul><p id="21c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">细粒度访问控制</strong></p><ul class=""><li id="7f7f" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">IAM使您的用户能够控制对AWS服务API和特定资源的访问。IAM还允许您添加特定的<br/>条件，例如一天中的时间，以控制用户如何使用AWS、他们的原始IP地址、他们是否正在使用SSL，或者他们是否已经使用多因素身份验证设备进行了身份验证。</li><li id="f42b" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">管理AWS帐户的管理员将能够创建用户和组，并附加自定义策略或AWS管理的策略，以限制用户在AWS管理控制台中或通过AWS服务API执行的操作。</li><li id="84b1" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">策略是具有特定元素的JSON文档。</li></ul><p id="02da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">多因素认证</strong></p><p id="7540" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AWS MFA是无需额外费用即可获得的黄金标准安全功能，可增强用户名和密码凭据。MFA要求用户通过提供有效的MFA代码来证明实际拥有硬件MFA令牌或支持MFA的移动设备。</p><ul class=""><li id="c89a" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">使用适用于android的play store或适用于IOS设备的app store中的以下移动应用程序在您的手机上安装以下应用程序，以授权对您的AWS帐户进行二级安全访问。(不要丢失您的设备！！)</li><li id="ecb3" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">android/iOS设备的谷歌认证器。</li><li id="3940" class="mi mj iq jp b jq mu ju mv jy mw kc mx kg my kk mn mo mp mq bi translated">windows设备的验证器。</li></ul><h1 id="9c4c" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">AWS最佳实践</h1><p id="3de4" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">这里有一个快速的提示和关于我们刚刚谈到的事情的最佳安全实践的概述。</p><p id="a446" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户—创建单个用户。<br/>组——管理组的权限。权限—授予最低权限。<br/>审核—打开AWS CloudTrail。<br/>密码—配置强密码策略。MFA —为特权用户启用MFA。<br/>角色——为Amazon EC2实例使用IAM角色。共享—使用IAM角色共享访问权限。<br/>轮换—定期轮换安全凭证。</p><p id="79c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">条件—通过条件进一步限制特权访问。Root-减少或删除root的使用。</p><p id="6a02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我认为这将结束这篇文章，因为我想把重点放在AWS IAM的基本标准，但基础做得正确！如果你喜欢我的这个解释，请给我一个掌声/赞，我会在以后关注更多的AWS文章。</p><p id="b890" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢你阅读汤姆</p></div></div>    
</body>
</html>