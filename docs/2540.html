<html>
<head>
<title>Russian roulette XSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">XSS俄罗斯轮盘赌</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/russian-roulette-xss-bbba6afd2570?source=collection_archive---------0-----------------------#2022-11-19">https://infosecwriteups.com/russian-roulette-xss-bbba6afd2570?source=collection_archive---------0-----------------------#2022-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="d2fd" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">故事</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/31bb2c0a2acce7ae0cc2b7a759d85e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7HVKKC0CQanXhyHmSy5oqA.jpeg"/></div></div></figure><p id="a799" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">这一切都发生在一周精疲力尽的学习中，在数据科学考试的前一天晚上，我必须记住各种复杂的数学公式。晚上10点，学习累了，还不觉得困，决定睡前在Synack上打猎1小时。这是那天晚上我做的最好的决定！</p><p id="9b81" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">选择Synack而不是其他平台的动机是我的朋友Conda进入了SRT，我记得那条推文！</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="bb59" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">我启动了我的LP+ ,然后我开始寻找新的目标。我注意到一个闪电战运行，所以我决定尝试一下。— Blitz是一种短期促销活动，根据您报告的严重程度，您可以获得额外的现金奖励。-</p><h1 id="10e3" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">狩猎</h1><p id="ed1f" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">我打开我的博客并登录网站，令我惊讶的是它是一种我不会说的外语<strong class="kz ir">(提示:外语网站较少被其他猎人测试，因为他们大多数人都懒得翻译内容)</strong>所以我有一个翻译扩展，让我可以理解每个部分是什么。就像每个猎人应该做的那样，我开始点击我眼前所有可能的按钮。测试了不同的功能，并对平台非常熟悉。</p><p id="67cd" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">回到Burpsuite，我有这段时间内所有HTTP请求的日志，API请求很有趣。因此，由于时间限制(上午8点考试)，我决定从这个网站处理货币交易的业务逻辑错误开始，尝试了所有不同的支付负金额的组合，用不同的金额取款，将帖子请求更改为GET等等……但都没有成功。我试图寻找IDOR，因为请求有数字id，但不幸的是，在cookies中计算了一个哈希值，不允许我这样做。</p><h1 id="b9bf" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">隐藏文件上传</h1><p id="154f" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">在网站的一个隐藏部分，你必须通过设置才能找到它，我注意到一个上传按钮，就像这样:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi md"><img src="../Images/e19caba9bdff9bbe8944049d850ef05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:76/format:webp/1*IhuiEpQ7M4BnimOh7uUOJw.png"/></div></figure><p id="7cac" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">这个按钮是关于把你的文档发送给网站的管理员，这样他们可以验证它们。另一件有帮助的事情是，这个按钮在发送我的文档后没有消失，这意味着我可以尽可能多地尝试重新发送它们，但只是在管理员批准我的文档之前。好攻击点！</p><p id="9d26" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">所以我像普通用户一样上传了一个虚拟文件，然后点击上传。我去了Burpsuite，看到了幕后发生的事情，文件在一个JSON POST请求中被发送到网站，其中包含两个密钥；<strong class="kz ir">文件名</strong>和<strong class="kz ir">数据</strong>，显然第一个是关于我们文档的名称，第二个包含我们文档的base64值。</p><h1 id="8955" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">最后一枪，俄罗斯轮盘赌</h1><p id="a318" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">在这里，我决定结束我的狩猎会话，并将我的盲XSS有效载荷添加到文件名中，因为…为什么不呢，对吗？即使它不工作，我仍然会熟悉该网站，并在第二天测试其他东西。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi me"><img src="../Images/dca0163d592bba743ca66c59a8b38ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V6vCiXzu7RAbWmLv28ickw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">那个XSS·亨特网址不是我的</figcaption></figure><h1 id="4476" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">SRT会员免责声明</h1><p id="dbc0" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">该目标允许包括第三方网站，如XSS亨特执行测试，<strong class="kz ir">阅读范围！！</strong>如果提到不允许包含第三方，您也不应该使用类似的网站。</p><h1 id="b151" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">第二天</h1><p id="3477" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">所以那天晚上，我发送完有效载荷后就去睡觉了，6点起床复习准备考试，去了大学，我考得很好！所以到目前为止，我是安全的，不会再为重考XD而学习，这意味着未来有更多的狩猎时间！</p><p id="cc6e" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">我的一天很正常，收件箱里什么都没有，回到家，离开学校休息一个小时，然后开始为下一次考试学习。通常我在学习的时候会关掉手机上的wifi，以免容易分心，所以当我完成时，我会关掉笔记本电脑，然后去刷牙。在路上，我决定打开手机上的wifi，查看我的通知……是的，你猜对了，令我惊讶的是，我连续收到5个gmail通知，说我的有效载荷在互联网:D的某个地方被发射了</p><p id="6476" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">我想都没想就改变了主意，去刷牙，开始跑向我的笔记本电脑，打开它，当我这样做的时候，我正在重新检查手机，如果它是一个假阳性，它似乎不是这样！现在，我必须非常迅速地报告，以避免陷入重复区。</p><h1 id="7872" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">报告</h1><p id="3dbc" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">晚上11点，我发送了一份非常快速的报告，包括PoC截图、cookies和步骤，然后提交了它。两天后，VO在报告上发送了一条消息，要求我在提交的报告中详细说明更多步骤，例如攻击者可以对cookies做什么，包括XSS·亨特的截图等等……我这样做是因为我知道这肯定不是一份重复的报告，所以这次我花了足够多的时间来写报告，并尽可能地具体，以便客户在阅读时能够理解每个小细节。</p><p id="1096" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">同一天晚上，我收到一封电子邮件，说明我的漏洞被接受了！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mj"><img src="../Images/32637d7a3c7cd2f819d40e21599ef488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jfxbu9GuAVQLArT5eU-QCA.png"/></div></div></figure><p id="c518" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">如果这意味着什么，这意味着Synack是一个非常专业和快速的平台，在这里你可以通过分类获得报酬，并在你的报告上获得专业的回复。我们以VO如此友好的回复结束了提交</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/059f9ad9038fe0c0c837a76958d788d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*TGZOYz58OQ48PeBdZB5EXw.png"/></div></figure><h1 id="480c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">最后的想法</h1><p id="402f" class="pw-post-body-paragraph kx ky iq kz b la ly lc ld le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu ij bi translated">事实上，我的朋友康达激励我越来越多地寻找和发现这个平台，考试期间很难，但我会尽力在考试后给它一些时间！下一个目标是现在达到更高的水平。</p><p id="d1a0" class="pw-post-body-paragraph kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">我还想为令人惊叹的平台<a class="ae lx" href="https://xsshunter.com/" rel="noopener ugc nofollow" target="_blank">马修·布莱恩特</a>XS亨特大声喊出来，看到它在2023年关闭真让人难过！谢谢你的努力！</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h2 id="c7a9" class="ms jo iq bd jp mt mu dn jt mv mw dp jx li mx my kb lm mz na kf lq nb nc kj nd bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae lx" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周时事通讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>