<html>
<head>
<title>Blocked User Can Send Notification Due to Logical Bug in Instagram | First Instagram Bug</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">由于Instagram中的逻辑错误，被阻止的用户可以发送通知|第一个Instagram错误</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/blocked-user-can-send-notification-due-to-logical-bug-in-instagram-first-instagram-bug-2bd09aa52f14?source=collection_archive---------1-----------------------#2020-03-14">https://infosecwriteups.com/blocked-user-can-send-notification-due-to-logical-bug-in-instagram-first-instagram-bug-2bd09aa52f14?source=collection_archive---------1-----------------------#2020-03-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f961" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">隐私侵犯问题Instagram。</strong></p><h1 id="bf9c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">描述:</strong></h1><p id="80b7" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">阻止功能允许任何用户阻止他们不想与之互动或查看其个人资料的任何其他用户。当一个用户不想屏蔽另一个用户，但又不想查看他们的帖子/故事/消息时，有一个单独的静音按钮。</p><p id="cc2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里测试时，我能够找到一种方法，阻止了另一个用户的用户仍然可以收到通知，这可能导致隐私侵犯。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/63f08a928030b5479877fce50c6320ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*HMxIgw4ZoiHk-KmCbe0c6w.jpeg"/></div></figure><h1 id="b2e0" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak"> Vuln类型:</strong></h1><p id="d30f" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">隐私/授权</p><h1 id="e096" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">产品:</strong></h1><p id="df11" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">机器人</p><p id="cac8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">版本:108.0.23.19</p><h1 id="e5a4" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">影响:</strong></h1><p id="01ed" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">假设用户A在骚扰用户B，那么用户B屏蔽了骚扰者。但是早些时候他们彼此认识，所以他们在消息中有所有的聊天。但是当骚扰者想要的时候，他可以确保用户B在Instagram上收到一个可能会打扰已经屏蔽了用户A的用户B(骚扰者)的通知。</p><p id="e103" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在单独的场景中，即使在阻止骚扰(用户B)之后，用户B也可以在没有任何工具/特殊脚本的情况下看到简档图片中的变化，并且还可以下载图片。</p><h1 id="cd06" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">预期行为:</strong></h1><p id="0737" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">阻止功能是完全阻止任何用户在照片，评论甚至通知中没有可见性。被阻止的用户和被阻止的用户都不应该被允许查看个人资料图片的变化，甚至不应该被允许接收彼此的通知。</p><h1 id="0237" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">概念验证:</strong></h1><ol class=""><li id="a0c5" class="lw lx iq jp b jq lj ju lk jy ly kc lz kg ma kk mb mc md me bi translated">用户A和用户B正在通过消息聊天，并且随着时间的推移，他们已经收集了相当多的聊天记录。<br/>用户A —攻击者<br/>用户B —受害者</li></ol><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/c3d12ab1e619c298ed4805db7a75154f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eck0VL6J6PrlImJT8qG5Kw.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">攻击者骚扰受害者</figcaption></figure><p id="11ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2)现在用户A开始骚扰用户B，用户B屏蔽了用户A。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mo"><img src="../Images/3e43bb728eb70bf15c3f113c28950378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YllDSnOZUNg-845CNfNgxg.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">用户B(受害者)|用户B被用户A骚扰——所以B屏蔽了A。</figcaption></figure><p id="e120" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3)用户B(受害者)在阻止攻击者(用户A)后删除了messages中的聊天。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mp"><img src="../Images/dcd6d8e27a66427a9e657965f308abb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hj3CpkHulC2IDYr3a6JWIg.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">左(用户A攻击者)|右(用户B受害者)</figcaption></figure><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mq"><img src="../Images/769d5d43a1facc7d7eb55269a5a609f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpiDyEICKoufgKlPM84aQg.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">受害者(用户B)删除了攻击者的所有聊天记录</figcaption></figure><p id="266c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4)一旦被阻止，攻击者就不能向受害者发送消息，根据逻辑，攻击者和受害者之间不应该有任何类型的通知，反之亦然。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mr"><img src="../Images/eec7911ed442ff7de29716d312f905dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mN1Zk_HR6ysFO7Q8rKrhkg.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">用户B(受害者)阻止了用户A(攻击者)</figcaption></figure><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mp"><img src="../Images/9e789364aa2557a1ff26dc59547925a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ji2YNJLM0_FgQPT8hmXwQ.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">攻击者(左)|受害者(右):攻击者无法向受害者发送消息</figcaption></figure><p id="e9f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5)用户A(骚扰者/攻击者)开始喜欢聊天中发送的消息和照片。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ms"><img src="../Images/c15891f03660b347c15a63398e013251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GrpNzYSQSj6dlG1i9bBMrQ.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">攻击者开始喜欢过去的消息，即使攻击者被阻止，受害者也会收到通知。左边(受害者)|右边(攻击者)</figcaption></figure><p id="2267" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">6)用户B收到来自攻击者的通知，但是在打开时通知屏幕是空白的。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mt"><img src="../Images/1f5af05453197fe2d989e7da39c9fedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7cihwutIoO80eRVa2qEaCw.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">打开时，通知屏幕是空白的</figcaption></figure><p id="cf8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">7)在另一个测试场景中，用户B改变了他/她的个人资料图片，并且用户A(骚扰者)即使在他/她被阻止时也可以看到图片中的改变。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mo"><img src="../Images/0ab75eae0ac0cd9e58bd2588dc98ac1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGRBELpGcaaq72Zv--9cow.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">攻击者请求捕获受害者用户id</figcaption></figure><p id="51c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">8)在这种情况下，尽管攻击者可以查看消息并遵循选项。不会影响用户。这种情况从未发生过，只是概念验证的一部分。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mu"><img src="../Images/133194bccc2dfc8ce5187514231cb3b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bpH7VqYYyIVt_YUCIlJzUg.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">在重放查看用户请求并替换为受害者的公共用户id时，攻击者可以看到带有follow和message请求的页面，尽管攻击者试图发送follow请求，但受害者不会收到通知。</figcaption></figure><h1 id="f5aa" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">结果:</strong></h1><p id="f584" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">这期杂志被复制了。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/f27d47796178fa88b98fe33a60ebfdb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*6TKLCFDJbwvyTiFGFTQ7SA.png"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">复制</figcaption></figure><p id="792e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢<br/>贾斯莫斐斯</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><a href="https://www.buymeacoffee.com/justmorpheus"><div class="gh gi mw"><img src="../Images/4bc5de35955c00939383a18fb66b41d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*9vg3-OY14aZN1UpKwIxxZg.png"/></div></a></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="8061" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ne">关注</em> <a class="ae nf" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="ne"> Infosec报道</em> </a> <em class="ne">获取更多此类精彩报道。</em></p><div class="ng nh gp gr ni nj"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">信息安全报道</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx lu nj"/></div></div></a></div></div></div>    
</body>
</html>