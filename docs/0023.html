<html>
<head>
<title>Abusing new Claps feature in Medium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">滥用媒体的新功能</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/abusing-new-claps-feature-in-medium-6bd8757a64a4?source=collection_archive---------2-----------------------#2017-10-29">https://infosecwriteups.com/abusing-new-claps-feature-in-medium-6bd8757a64a4?source=collection_archive---------2-----------------------#2017-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/255f6e587d3c25b44415992bef2ada82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sfZ_2ikFqZwKpXjkTwZ26w.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">中等名人堂</figcaption></figure><p id="d1fb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个故事是关于我如何进入媒体名人堂<a class="ae la" href="https://medium.com/humans.txt" rel="noopener"><strong class="ke ir"/></a>。从这学期开始，我开始在媒体上写文章，题目是我感兴趣并正在研究的。选择Medium而不是其他平台的另一个原因是它的简单和使用方便。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="8323" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一个不眠之夜后，我打开Medium写了些东西，然后注意到那个臭名昭著的心形符号不见了。它已经被“掌声”所取代。惊讶之余，我在推特上查看发生了什么。和我一样，许多其他用户也感到困惑。经过一番挖掘，我登陆了这个由Medium发布的博客<a class="ae la" href="https://help.medium.com/hc/en-us/articles/115011350967-Claps" rel="noopener">帖子</a>，它解释了这个新特性。</p><p id="8a3d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">博客提到了新功能的工作原理。有几点引起了我的注意。</p><blockquote class="li lj lk"><p id="2a1f" class="kc kd ll ke b kf kg kh ki kj kk kl km lm ko kp kq ln ks kt ku lo kw kx ky kz ij bi translated">你不能为自己的职位鼓掌。</p><p id="cf0a" class="kc kd ll ke b kf kg kh ki kj kk kl km lm ko kp kq ln ks kt ku lo kw kx ky kz ij bi translated">只有帖子的作者才能看到个人用户给了多少掌声。读者只会看到鼓掌者的名单。</p><p id="5dd8" class="kc kd ll ke b kf kg kh ki kj kk kl km lm ko kp kq ln ks kt ku lo kw kx ky kz ij bi translated">每个用户对一个帖子的鼓掌次数被限制在50次。</p></blockquote><p id="5301" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这一点上，外面的臭虫赏金猎人会理解我是如何被这些新功能触发的，并想立即测试这些说法。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><blockquote class="li lj lk"><p id="668f" class="kc kd ll ke b kf kg kh ki kj kk kl km lm ko kp kq ln ks kt ku lo kw kx ky kz ij bi translated">你不能为自己的职位鼓掌。</p></blockquote><p id="b2e1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您不能为您自己的故事鼓掌，因为所有您自己的故事的鼓掌按钮都被禁用。这让我想到:“好吧，但是发送一个POST请求怎么样？他们是在做后端检查，还是只是前端检查？”因此，我为Medium上的另一个故事鼓掌，并使用Burp Suite捕获了请求。</p><p id="bd8c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个请求看起来像是鼓掌。如您所见，一个POST请求被发送到<strong class="ke ir"><em class="ll">/_/API/posts/STORY _ ID/claps</em></strong><em class="ll">。</em></p><p id="27f6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可以看到在我更改了<strong class="ke ir"><em class="ll">STORY _ ID</em></strong><em class="ll"/>并提出请求后。我得到了200状态响应和<em class="ll">成功:真。</em>也就是说成功了。伊多尔的经典案例。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/417b71582f3c485a53a7ca01d7efdfe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sFaM6lkcXOJZzRmgMvU3TA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">发布请求</figcaption></figure><p id="b19e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一个故事可以拍50次。我也试图绕过这个(鼓掌超过50次)。但是这些技术都不起作用。不过，我为自己的帖子鼓掌50次。幸运的是，在我报道了同样的事情后，媒体并没有取消对我的报道的鼓掌。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/543aad9f9da41ac34f1c29d65319db41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPdGCXkhgcPExFWBPGZ1tA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">为我自己的故事鼓掌。</figcaption></figure><blockquote class="li lj lk"><p id="245a" class="kc kd ll ke b kf kg kh ki kj kk kl km lm ko kp kq ln ks kt ku lo kw kx ky kz ij bi translated">只有帖子的作者才能看到个人用户给了多少掌声。读者只会看到鼓掌者的名单。</p></blockquote><p id="0577" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">再来一个<strong class="ke ir">GET</strong>request to<strong class="ke ir"><em class="ll">/p/POST _ ID/up votes</em></strong><em class="ll"/>给你鼓掌的用户名单。Medium表示，读者将只能看到鼓掌者的名单，而看不到每个用户鼓掌的次数。</p><p id="a599" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在对GET请求的响应中，有一个名为<strong class="ke ir"> clapCount </strong>的字段，分别对应于每个对特定帖子鼓掌的用户，顾名思义，这就是鼓掌次数。任何用户都可以看到任何帖子的点击数。他们再次使用前端检查，而不是后端检查。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/ba9d4b522bf0516407820d1fe35323a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nWSC01TtDH7mEO4hPcKHBg.png"/></div></div></figure><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/fa9390dbbd5cc423b4eaee0e2b42279c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9REaAPMK-Yn3h2Q7vsc_Iw.png"/></div></div></figure><p id="e866" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">此问题已报告给Medium，现已修复。因为这不涉及任何安全问题，所以没有奖金(反正我也没想到会有)。但是他们确实提供了一些照片，还把我的名字添加到了他们的<a class="ae la" href="https://medium.com/humans.txt" rel="noopener">名人堂页面</a>。从中吸取的一个教训是，永远不要仅仅依赖前端限制；在后端做所有事情。</p><p id="b6a8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对中型Bug赏金计划的几点看法:他们在修复问题上真的很慢。如果他们有一些高优先级的问题，这没关系。但是，他们回复你的邮件和报告甚至很慢，跟进也很糟糕。每当我想得到回复时，我都不得不在推特上联系他们。</p><p id="858d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">嗯，这并不完全是滥用claps功能:p。标题只是一个点击诱饵。</p><p id="df44" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">页（page的缩写）s:还是没拿到支票。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="bb3a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你是一个臭虫赏金猎人，并在博客上写一些技术或你的经验，或者在媒体上写文章，请考虑将它们提交给这个<a class="ae la" href="https://medium.com/bugbountywriteup" rel="noopener">出版物</a> (BugBountyWriteup)。</p><p id="b66f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">和平❤</p></div></div>    
</body>
</html>