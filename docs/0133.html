<html>
<head>
<title>Bypass Admin approval, Mute Member and Posting Permissions for Only admins in Facebook groups</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">绕过管理员批准，仅脸书组中的管理员拥有静音成员和发帖权限</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/bypass-admin-approval-mute-member-and-posting-permissions-for-only-admins-in-facebook-groups-ef476cb3d524?source=collection_archive---------0-----------------------#2018-07-18">https://infosecwriteups.com/bypass-admin-approval-mute-member-and-posting-permissions-for-only-admins-in-facebook-groups-ef476cb3d524?source=collection_archive---------0-----------------------#2018-07-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/2fb45a7fe5c10e58232a843e33194037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*230lN9703rJsvnTJITZpDg.jpeg"/></div></figure><p id="8935" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">大家好，今天我想和你们分享我是如何绕过管理员批准，静音成员和发布权限，只有管理员在脸书组，所以让我们开始:)</p><p id="e03c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">故事开始于<a class="ae ks" href="https://www.facebook.com/whitehat/dashboard/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">脸书安全团队</strong> </a>宣布他们<a class="ae ks" href="https://www.facebook.com/whitehat/promotion/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">脸书六月怀特哈特晋级</strong></a><strong class="jw ir"/>2018年6月1日，他们表示将只带两名研究员参加<a class="ae ks" href="https://www.defcon.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">维加斯Defcon</strong></a>免费争夺<strong class="jw ir">最佳质量报告</strong>和<strong class="jw ir">最高奖励值。</strong></p><p id="a7fa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我说，嗯，听起来不错，所以让我们来找一些bug吧。也许我很幸运赢得了晋升，我直接打开了我的脸书笔记文档，看看我应该从哪些方面着手，然后我看到了这个:</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi kt"><img src="../Images/055b9e4f4f607bc2b5cd3e96071c3425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1_10I_mSNpHPXyDz92Xy6w.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">我的脸书文档记录了我把所有与Facebook相关的东西放在哪里，以备将来寻找</figcaption></figure><p id="a16b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那么什么是<strong class="jw ir">观察党选项:</strong></p><p id="41bc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是脸书群组中的一项新功能，允许群组管理员甚至普通成员选择脸书上的任何公共视频，并通过专用评论卷轴同时展示给其他成员，以创建“共享观看体验”，更多详细信息请访问<a class="ae ks" href="https://globaldatinginsights.com/2018/05/02/facebook-watch-party-allows-groups-watch-videos-simultaneously/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ir"/></a>。</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/4e9d5a79c204f7236ebc3acd00a7d940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*HsS-CEya8p8EdUfh9kWmFQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">这就是观看派对选项的样子</figcaption></figure><p id="4928" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">像往常一样，我从Sarmad Hassan帐户打开我的测试组<strong class="jw ir">，点击<strong class="jw ir">观察组选项</strong>来发布一个帖子，并拦截了Burpsuite的请求，以查看该功能内部发生了什么，请求如下:</strong></p><p id="e2d7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">POST/API/graph QL/HTTP/1.1<br/>variables = { " input ":{ " client _ mutation _ ID ":" 2 "，" actor_id":"userID "，" composer _ session _ ID ":" session ID "，" creator_actor_id":"actorID "，" custom_name":null，"<strong class="jw ir">group _ ID ":" MyTestGroupID "</strong>，" VIDEO _ ids ":[" VIDEO-ID "]}&amp;doc _ ID = doc-ID</p><p id="27df" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">引起我注意的是"<strong class="jw ir"> group_id" </strong>参数，我说让我们把这个组id的值从另一个帐户<strong class="jw ir">(名为Noobs的组)</strong>更改为我的第二个测试组ID<strong class="jw ir">，看看我是否能在我加入的<strong class="jw ir"> Noobs </strong>组中使<strong class="jw ir">观看聚会帖子</strong>。这很有效，回应如下:</strong></p><p id="a34d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">{<br/>" data ":{<br/>" group _ living _ room _ create ":{<br/>" client _ mutation _ id ":" 2 "，<br/>" living _ room ":{<br/>" _ _ typename ":" living room session "，<br/> <strong class="jw ir"> "id ":"视频党的id "</strong><br/>}<br/>}<br/>}<br/>}</p><h1 id="9824" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated"><strong class="ak">绕过静音成员</strong></h1><p id="3f4a" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">嗯，有趣的是，我在虚拟机中从我的第二个测试帐户切换到我的第二个测试组(受害者组)<strong class="jw ir">(名为Noobs的组)</strong>，然后点击成员选项卡，点击<strong class="jw ir">萨马德·哈桑(攻击者用户)</strong>并将他从组中静音，因此<strong class="jw ir">萨马德·哈桑</strong>将无法在<strong class="jw ir"> Noobs </strong>组中发表任何帖子</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/395b059430d423479b880b15657e3e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*C7CKITp9ACKMAqMS4U_G2w.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">受害者组织(Noobs)的管理员使攻击者Sarmad Hassan静音</figcaption></figure><p id="2745" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我从Sarmad Hassan帐户切换回第一个测试组<strong class="jw ir">，并发布了观看聚会帖子，并将<strong class="jw ir"> group_id </strong>更改为受害者组ID ( <strong class="jw ir"> Noobs) </strong>和boom，这样即使受害者组的管理员使攻击者静音，他仍然能够观看聚会视频并绕过</strong>静音选项。</p><h1 id="3eb4" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated"><strong class="ak">绕过管理员批准，只允许管理员发布内容</strong></h1><p id="7d99" class="pw-post-body-paragraph ju jv iq jw b jx mf jz ka kb mg kd ke kf mh kh ki kj mi kl km kn mj kp kq kr ij bi translated">我说好吧，让我们挖掘更多，看看我们可以用<strong class="jw ir">观察队</strong>做些什么，所以我再次切换回我的第二组<strong class="jw ir"> Noobs </strong>，点击组设置并检查以下内容:</p><ul class=""><li id="5e2b" class="ml mm iq jw b jx jy kb kc kf mn kj mo kn mp kr mq mr ms mt bi translated"><strong class="jw ir">帖子批准:</strong>所有群组帖子必须由管理员或版主批准</li><li id="966b" class="ml mm iq jw b jx mu kb mv kf mw kj mx kn my kr mq mr ms mt bi translated"><strong class="jw ir">发布权限:</strong>仅限管理员</li></ul><p id="7c2d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果管理员选中了上述选项，没有人可以发表任何帖子，如果张贴权限设置为任何人，所有帖子都应该由管理员批准</p><p id="730b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">于是我从萨尔马德·哈桑账户再次从第一测试组<strong class="jw ir">获得<strong class="jw ir">图形API </strong>调用，并将<strong class="jw ir"> group_id </strong>参数更改为受害者组id <strong class="jw ir"> (Noobs组)</strong>和booooom，响应如下:</strong></p><p id="8dbe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">{<br/>" data ":{<br/>" group _ living _ room _ create ":{<br/>" client _ mutation _ id ":" 2 "，<br/>" living _ room ":{<br/>" _ _ typename ":" living room session "，<br/>" id ":" 199255894077754 "<br/>}<br/>}<br/>}<br/>}</p><p id="4978" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我当时想:</p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="b279" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">其中<strong class="jw ir">“id”:“199255894077754”</strong>是守望党房间的id</p><p id="0583" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">攻击者可以去:</p><p id="2d32" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">https://www . Facebook . com/groups/[group-id]/WP/[观看派对房间id]</p><p id="d1f4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">并且将能够观看该视频，并邀请所有群组成员观看该视频，所以想象一下受害者群组管理员(<strong class="jw ir"> Noobs </strong>)所做的所有这些保护，<strong class="jw ir">攻击者萨尔马德哈桑</strong>绕过了这一切:)，想象一下如果你是群组管理员，并且你检查了所有上述设置以确保除了你之外没有人可以在你的群组中发帖，并且你感到非常高兴，但是有人实际上可以绕过这些并在没有你的批准的情况下发帖，你会怎么想！！！</p><p id="4bf9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">时间线:</strong> <br/>六月。2018年03月—初步报告<br/>6月。2018年14日—六月报告审判<br/>。2018年7月27日—修复了前两次影响<br/>。2018年7月17日—完成修复<br/>。2018年18日—修复确认<br/>7月。2018年18月18日——获得奖金</p><figure class="ku kv kw kx gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/f3415e7608db4b19de9ad396b0a03e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*WOZEMtQ-52s1oIU5B7lx0A.png"/></div></figure><p id="90fe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我要感谢<strong class="jw ir">脸书安全团队</strong>的悬赏。</p><p id="8876" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">也祝贺获奖选手<strong class="jw ir"> SASAE </strong>和<strong class="jw ir"/><a class="ae ks" href="http://www.pranavhivarekar.in/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ir">Pranav Meghsham</strong></a><strong class="jw ir"/>获奖选手<strong class="jw ir"> </strong> <a class="ae ks" href="https://www.facebook.com/whitehat/promotion/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">脸书6月怀特哈特晋级</strong> </a> <strong class="jw ir">。</strong></p><p id="fa09" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">概念验证视频:</strong></p><figure class="ku kv kw kx gt jr"><div class="bz fp l di"><div class="nc na l"/></div></figure><p id="d339" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">武道:</strong></p><p id="3b90" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">1-试着为你的目标做一个文档笔记，并不时检查它</p><p id="995f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2-如果你发现了一个bug，不要停止深入挖掘，也许你会得到不止一个影响</p><p id="29f0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3-总是问自己<strong class="jw ir">如果！！当你搜索bug时</strong></p><p id="59b2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">4-如果我能做到，你也能做到，相信我:)</p><p id="808f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">谢谢你</p><p id="eccd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">萨尔马德·哈桑 ( <a class="ae ks" href="https://twitter.com/JubaBaghdad" rel="noopener ugc nofollow" target="_blank">朱巴巴格达</a></p></div></div>    
</body>
</html>