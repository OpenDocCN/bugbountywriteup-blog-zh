<html>
<head>
<title>How i was able to bypass Cloudflare for XSS!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何绕过Cloudflare去XSS的！</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-i-was-able-to-bypass-cloudflare-for-xss-e94cd827a5d6?source=collection_archive---------0-----------------------#2021-07-16">https://infosecwriteups.com/how-i-was-able-to-bypass-cloudflare-for-xss-e94cd827a5d6?source=collection_archive---------0-----------------------#2021-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6a2f9a96f6b64adcc448f05eb4f1a241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IKI3B14trBJVF9KO_r13Pw.png"/></div></div></figure><p id="4365" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以上帝的名义。</p><p id="2992" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗨，研究者们，</p><p id="c4fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我的第二篇文章，如果你读过我的上一篇文章，那是关于绕过cloudflare实现ssrf的，但这次我们将绕过cloudflare实现XSS！</p><h1 id="7b85" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">故事:</h1><p id="61c3" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我正在做一个程序，在登录页面有一个参数是“rurl”，所以完全是关于重定向用户到其他位置。</p><p id="d1cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我尝试打开重定向，我得到了成功的结果！但它被标记为重复:'(</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/9841db395a0dce0153f849a8023cbf1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*FhC6xy88T9Ij2BedpPP8Sw.gif"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">:’(</figcaption></figure><p id="66ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">众所周知，当存在开放重定向漏洞时，我们可以尝试xss，因为它已被插入到“a”标记内的“href”属性中。</p><p id="d145" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我尝试了我的xss有效负载“javascript:alert(1)”，再次得到了这样的响应:</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/265f069e4f76acdb72c81008991c9046.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CuFVvT-EU4UnVEU29xfRtQ.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">到处都是云闪。:@</figcaption></figure><h1 id="1c7a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">旁路时间</strong></h1><p id="49ee" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我最喜欢的处理这种情况的方法之一是逐一尝试我所有的假设。</p><p id="159c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我试着用“javascript:”来寻找这些:</p><ul class=""><li id="fc0f" class="mk ml iq ka b kb kc kf kg kj mm kn mn kr mo kv mp mq mr ms bi translated">整个JavaScript关键字被剥离了吗？</li><li id="7b0f" class="mk ml iq ka b kb mt kf mu kj mv kn mw kr mx kv mp mq mr ms bi translated">“:”部分是否被剥离？</li></ul><p id="d9c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我得到了200个回复，我进一步转向了“javascript:alert”:</p><ul class=""><li id="709d" class="mk ml iq ka b kb kc kf kg kj mm kn mn kr mo kv mp mq mr ms bi translated">alert关键字被剥离了吗？</li><li id="3a82" class="mk ml iq ka b kb mt kf mu kj mv kn mw kr mx kv mp mq mr ms bi translated">如果有警示(1)括号剥离？</li></ul><p id="692b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，正如我们看到的，我们的主要问题是在括号中，所以我试图用“alert`1”绕过括号，但仍然没有成功。但是还有其他技术，比如投掷。</p><blockquote class="my mz na"><p id="5e11" class="jy jz nb ka b kb kc kd ke kf kg kh ki nc kk kl km nd ko kp kq ne ks kt ku kv ij bi translated">许多过滤器阻塞圆括号，因为它们对于调用函数和传递参数是必不可少的，如果过滤器在我们的注入向量中删除圆括号，有几种方法可以绕过它，让我们来看看一种传统的方法，Gareth Heyes发现了一种方法，通过使用throw技术将参数传递给函数而不使用圆括号，throw技术滥用onerror事件处理程序来分配一旦触发错误的函数调用。</p></blockquote><p id="c148" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">带投掷的XSS有效载荷是这样的:</p><p id="14aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">" JavaScript:window . on error = alert；抛出1“我尝试了这个有效载荷，但再次cloudflare抓住了我。！</p><p id="68ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我在这里跳过我所有的努力工作，尝试不同的有效载荷和其他编码技术，如“base64”，“UrlEncoding”，“Htmlencoding”，我给你我发现的钻石。</p><p id="ede1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，这是我的有效载荷:</p><p id="2edb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">" JavaScript % 3a var { a % 3a on error } % 3d { a % 3a alert } % 3b throw % 2520 document . cookie "</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/c22d1685e46769eda3bbaf4349a8b830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*Wy-ypTZLidbs1EATXtFgWQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">云闪？</figcaption></figure><p id="cbbb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我再次:</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/0650dedf06f566037fdfb8f527ed1a60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mT6MiUr6ZZ8vaeoiuf6zjg.jpeg"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">^_^</figcaption></figure><p id="f3df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是结束，感谢您阅读我的文章希望你学到了一些东西，并希望我找到更多这样的错误与你分享！❤</p><p id="574c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的推特:【https://twitter.com/HoseinVita T4】</p></div></div>    
</body>
</html>