<html>
<head>
<title>Antihack.me Blind XSS To PHP File Upload Vulnerability</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Antihack.me盲XSS到PHP文件上传漏洞</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/antihack-me-blind-xss-to-php-file-upload-vulnerability-f29cf8b24ccb?source=collection_archive---------1-----------------------#2019-01-24">https://infosecwriteups.com/antihack-me-blind-xss-to-php-file-upload-vulnerability-f29cf8b24ccb?source=collection_archive---------1-----------------------#2019-01-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="16ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嘿，谢谢你再次来到这里😃。如果你还没有读过我之前的facebook bug，那就点击这里<a class="ae kl" href="https://medium.com/@evilboyajay/workplace-logo-id-to-workplace-owner-name-disclosurefacebook-bug-bounty-e745db59d0bd" rel="noopener"><em class="km"/></a>，它真的很棒。今天我将分享我在antihack.me的一个很酷的发现。</p><p id="d275" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">什么是盲人XSS？</p><p id="66eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一种存储XSS，攻击者的输入保存在服务器的某个地方，但可能不会在用户添加有效负载的用户仪表板中执行，也可能在其他地方执行，但也可能在管理面板中执行。</p><p id="24e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">漏洞描述:</p><p id="440b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在antihack博客上挖掘，发现了一个从<a class="ae kl" href="https://www.antihack.me/writer-signup" rel="noopener ugc nofollow" target="_blank">这里</a>注册成为作家的端点。页面是这样的</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/4d035fbe31af7a2257b101e220203fc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mv_MOZTZFkWupWSrQuguVA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">Antihack.me博客作者注册</figcaption></figure><p id="7207" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我注册了一个用户，但它应该由管理员批准。看到这个之后，我简单地想到了通过添加一个XSS·亨特的有效载荷来创建一个新账户(想想XSS是否会在管理面板中被执行)😝)提取执行点的DOM、执行点的截图、带有浏览器细节的IP地址和Cookie👌。</p><p id="d598" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">思考:当管理员打开他的帐户时，我们在注册帐户时输入的恶意JS代码将被存储在管理面板中，当管理员打开他的帐户时，他/她将成为JS注入的受害者。</em></p><p id="e2ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个小时后，我收到一封邮件，说我的XSS有效载荷在antihack.me管理面板上被发射了，我很高兴看到这一点。因此，我检查了管理员的所有细节，主要是DOM，同时我看到了我上传的文件的url，因为这是必要的。</p><p id="d593" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我上传了一张图片，我无法获得文件的网址，但通过盲人XSS，我能够看到并打开文件的位置。因此，在注册时，我很快上传了一个php文件，在“关于我”栏中用XSS·亨特的有效载荷写了一篇文章。</p><p id="c7e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几个小时后，我又收到一封邮件，说我的XSS有效载荷被解雇了，在DOM我收到了这个😝</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ld"><img src="../Images/744c254034f51efdaeb62c51353d7600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*setrIUgMglh38AG7OxEp6w.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">PHP代码文件位置</figcaption></figure><p id="2c36" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看了之后。php文件网址，我在rush中打开网址，php文件成功上传。因此，我们也可以执行操作系统命令。我报告了这两个漏洞，他们尽快修补了问题。</p><p id="07dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续访问SayCure的博客，我的新发现也会在这里发表。</p><p id="85af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">联系我:</p><p id="bdc1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ajay@nassec.io</p><p id="f7c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://saycure.io/evilboyajay" rel="noopener ugc nofollow" target="_blank"> https://n </a> assec.io</p></div></div>    
</body>
</html>