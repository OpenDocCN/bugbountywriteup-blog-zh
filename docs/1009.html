<html>
<head>
<title>TryHackMe- Kenobi CTF Writeup (Detailed)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe-克诺比CTF写道(详细)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-kenobi-ctf-writeup-detailed-e2efc2ec14f4?source=collection_archive---------1-----------------------#2020-12-04">https://infosecwriteups.com/tryhackme-kenobi-ctf-writeup-detailed-e2efc2ec14f4?source=collection_archive---------1-----------------------#2020-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/99c37b735d6e35d56716b6c44f8000f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9Xdncd7t0ka1qlQGRlXqg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">CTF报道#24</figcaption></figure><p id="eb99" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">欢迎各位！！我们将在<a class="ld le ep" href="https://medium.com/u/dc49a0a3cb16?source=post_page-----e2efc2ec14f4--------------------------------" rel="noopener" target="_blank"> TryHackMe </a>上表演克诺比CTF。<br/>这个房间是进攻性测试学习路径的一部分，它将向您介绍Samba、SMB共享枚举、ProFTPD操作、NFS枚举、安装NFS驱动器、获得访问权限以及使用SUID二进制文件的路径变量的权限提升。这是一个超级有趣的房间。</p><p id="4d82" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">CTF链接:</p><div class="lf lg gp gr lh li"><a href="https://tryhackme.com/room/kenobi" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">肯诺比</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">利用Linux机器的演练。枚举Samba for shares，操纵易受攻击的proftpd版本并…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">tryhackme.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw jz li"/></div></div></a></div><p id="88be" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">CTF由以下作者创作:</p><div class="lf lg gp gr lh li"><a href="https://tryhackme.com/p/tryhackme" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">试用版|试用版</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">TryHackMe是一个学习网络安全的在线平台，使用动手练习和实验室！</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">tryhackme.com</p></div></div><div class="lr l"><div class="lx l lt lu lv lr lw jz li"/></div></div></a></div><p id="639d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为您的CTF计算机创建一个目录，并为Nmap创建一个目录来存储您的Nmap扫描输出。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ly"><img src="../Images/780cc5c5d4b720cd95132c8dc44b28a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CiOdHdahJIKqFRVrjsGk9Q.png"/></div></div></figure><p id="1229" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们开始吧！！享受流动吧！！</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="md me l"/></div></figure><h2 id="acb7" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">任务1-部署易受攻击的机器:</h2><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/448b744f5a3a6ea46468e4397c95b9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XOGSUNHHBJf0rfCpdYqvwg.png"/></div></div></figure><p id="0c94" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">部署机器。最容易的任务😄。</p><blockquote class="mz na nb"><p id="e8ca" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">确保你连接到我们的网络并部署机器<br/>答:不需要回答</p></blockquote><h2 id="dde9" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">Nmap扫描:</h2><blockquote class="mz na nb"><p id="96c3" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated"><em class="it">nmap-sC-sV-p--在nmap/克诺比上&lt; TARGET_IP &gt; </em></p><p id="f517" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">-sC:默认脚本<br/> -sV:版本检测<br/> -oN:输出将存储在您之前创建的“nmap”目录中<br/> -p-:要扫描的所有端口</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/fd34830cb40d6eb2093bebd4db8b5263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1zlPoyQ4dI3w9_xvwwnEcQ.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/6fef4c9844439ce978838c4f83672bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQ45OUscUPtaXl3HgDsNEw.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/2b57ae38f410add855d9ff05169db6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a1OcWi2CA_p2JVsb8C9pug.png"/></div></div></figure><p id="7f56" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有7个端口打开:<br/>21/FTP-ProFTPD 1 . 3 . 5<br/>22/ssh-OpenSSH 7.2p 2<br/>80/http-Apache httpd 2 . 4 . 18<br/>111/rpcbind-2–4<br/>139/SMB<br/>445/SMB<br/>2049/NFS</p><p id="89a8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以提交任务中问题的答案。</p><blockquote class="mz na nb"><p id="3499" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">用nmap扫描机器，开了几个端口？<br/>答:7</p></blockquote><p id="4bba" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了！！Ler开始任务2。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="nj me l"/></div></figure><h2 id="c44a" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">任务2-为共享枚举Samba:</h2><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/1e7522833e78b7506d556b03805fdf86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qbhgDxYxT-2-NRivAQyqiA.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/89d012fe1b08afa61917477cec1ea961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYJFUg_B8AwhKWJ_wLFLiQ.png"/></div></div></figure><p id="7bb6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们必须列举中小企业份额。我们可以用不同的方法来做。<br/>按照提供的说明，我们可以使用脚本运行Nmap扫描，以枚举目标计算机上的SMB共享和用户。或者，我们也可以运行“Enum4linux ”,它会像魔咒一样工作。它将成功枚举SMB共享。为了你的理解，我可以展示两者。</p><blockquote class="mz na nb"><p id="8f9a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">nmap-p 445—script = SMB-enum-shares，smb-enum-users <target_ip/></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/3cd8f164108b7238e36904ad22782165.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSEcC2f9yvB8pnUGk7cIfw.png"/></div></div></figure><blockquote class="mz na nb"><p id="e082" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">enum4linux -a <target_ip/></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/c02bd6b2029b26291816487bc6a0e1e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AqhNgT-6uHnqMWLLBjeDVQ.png"/></div></div></figure><p id="5712" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">输出很长，因此我将包括下面的重要发现。</p><blockquote class="mz na nb"><p id="963d" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">中小企业股份</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/d1dc3d8c0a7b9d8047fc25405a912689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bQgsdeWZC8D__eHGsmbIIA.png"/></div></div></figure><blockquote class="mz na nb"><p id="c410" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">用户</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/d1d0c6b234c8347475e3645431b523f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jz20lJB5jVH_yv6KUrxS5g.png"/></div></div></figure><p id="9daf" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们发现了3个smb共享“IPC$，anonymous，print$”和用户“克诺比”<br/>提交答案。</p><blockquote class="mz na nb"><p id="4e1e" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">使用上面的nmap命令，找到了多少个共享？<br/>答案:3</p></blockquote><p id="eda0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将使用“smbclient”工具连接到匿名SMB共享并找到一些文件。如果发现任何错误，我们将使用“get”命令将它们转移到我们的主机上。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/507ded2f48486225e5954897db5b9b1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0EFodo2xdo6l2DdPjrxadg.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/0a8fc86b0026df2827d3fb69306251a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TsTJoPhxbsfePKiqDswMww.png"/></div></div></figure><blockquote class="mz na nb"><p id="3d8b" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">连接后，列出共享上的文件。你能看到什么文件？<br/> Ans: log.txt</p></blockquote><p id="559d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以用“get”命令把文件传送到主机上。</p><blockquote class="mz na nb"><p id="3812" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">获取<file_name/></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/d7f85d9835449e690f508124e5aead69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MdmLi-5xVSO3cZloaPbagw.png"/></div></div></figure><p id="4bce" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">或者，您可以使用以下命令将共享转储到您的主机:</p><blockquote class="mz na nb"><p id="d59a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">smbget -R smb:// <target_ip> / <share_name/></target_ip></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/ab39ae8549690296fc144314c86e40ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43x2cWFxBBguVt5w-p3Keg.png"/></div></div></figure><p id="d15b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">共享已成功转储到我们的主机。这是一种自动方式。早先是有点手动的方式。</p><blockquote class="mz na nb"><p id="9ff6" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">FTP运行在哪个端口上？<br/> Ans: 21</p></blockquote><p id="0c48" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在我们进入下一个任务之前，我们可以快速检查“log.txt”文件。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/802db6080c80db249530af531c8abbcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TbWoJEaSAYGhLWUP_kEiyg.png"/></div></div></figure><p id="d31b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这是一个基本的ProFTPD配置文件，它包含可以访问服务器上FTP的“kenobi”用户。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/448e15d959f32f81db01b5f22f967e5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-vmHu_hvXe033OZqNgidPw.png"/></div></div></figure><p id="7ba9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">对于下一个任务，我们将使用脚本“nfs-ls，nfs-statfs，nfs-showmount”在端口111上使用Nmap扫描。</p><p id="1c73" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">根据输出结果，我们将能够获得NFS山的名称。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/33f8c6659fe818af74ba81cea0e0ec27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d11VzbICOdEKDBNhghifVA.png"/></div></div></figure><blockquote class="mz na nb"><p id="60f1" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">我们能看到什么山？<br/> Ans: /var</p></blockquote><p id="913a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">做得好！！开心吗？当然了。让我们进入下一个任务。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="nj me l"/></div></figure><h2 id="ba2c" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">任务3-通过ProFtpd获得初始访问权限:</h2><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/722f59d12dc231a088b8e5acd0071730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KGCHZ45XqLOxTIb9G62GJw.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/6a0ad704118f04c90cad65e99626140b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*apogE4wy8nT56iMbe3xAWA.png"/></div></div></figure><p id="e779" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果您还记得，我们通过使用默认脚本和版本枚举在所有端口上进行的Nmap扫描获得了版本号。然而，我们也可以通过使用netcat简单地连接到机器上的端口来找到版本。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/a7fb7f28405a3072ba1d2260beb46c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gKu9TUPIQ-O-8sWFRNPmw.png"/></div></div></figure><blockquote class="mz na nb"><p id="6702" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">版本是什么？<br/>答:1.3.5</p></blockquote><p id="be98" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将使用“searchsploit”命令来查找ProFTPD版本1.3.5中的漏洞。</p><blockquote class="mz na nb"><p id="097a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">searchsploit proftpd 1.3.5</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/6e4ad34670a0ca60cc321daa65bcaf59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t5G4BpnK3y_OuvcNEmQ8mg.png"/></div></div></figure><p id="08d0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">发现了三个漏洞，我们将通过以下命令检查“36742.txt”漏洞:</p><blockquote class="mz na nb"><p id="54ae" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">searchsploit -x 34742.txt</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oa"><img src="../Images/b112268a53b7535bb73d6504020226c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrXi_5eImY43VIEh0aVpEw.png"/></div></div></figure><p id="98b0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在上面的屏幕截图中，我们有一些无需认证就可以使用的命令。</p><p id="b01b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">mod_copy模块实现了<strong class="kh iu">站点CPFR </strong>和<strong class="kh iu">站点CPTO </strong>命令，这些命令可以用来将文件/目录从服务器上的一个地方复制到另一个地方。任何未经身份验证的客户端都可以利用这些命令将文件从文件系统的任何部分复制到选定的目的地。</p><blockquote class="mz na nb"><p id="f0d5" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">我们知道FTP服务是作为Kenobi用户运行的(从共享上的文件中),并且为该用户生成了一个ssh密钥。答:不需要回答</p></blockquote><p id="1bb1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将重新连接到目标计算机上的FTP服务。连接完成后，我们将发出以下命令:</p><blockquote class="mz na nb"><p id="5d39" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">网站CPFR<source_path><br/>CPFR——复制自</source_path></p><p id="eae7" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">站点CPTO <destination_path> <br/> CPTO-复制到</destination_path></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/26bf39f9a7b11fad13f23c92dfc2a2d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u3nRTN5Oi-uUtNBiCJpnQg.png"/></div></div></figure><blockquote class="mz na nb"><p id="b2ce" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">我们知道/var目录是我们可以看到的挂载(任务2，问题4)。所以我们现在已经把克诺比的私钥移到了/var/tmp目录。<br/>答:不需要回答。</p></blockquote><p id="53c3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们已经成功地将用户“kenobi”的“id_rsa”文件从其主目录复制到“/var/tmp”中。</p><p id="a81a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在我们需要将/var挂载到我们的主机上。</p><p id="3451" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">首先，我们将在/mnt中创建一个“kenobiNFS”目录。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/30efc32b3fb25344e736a16da909cb4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*n4nG3j_PEgQst_tdqwLflQ.png"/></div></figure><p id="99f9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">接下来，我们将使用“sudo mount”命令将/var从目标计算机挂载到我们的主机上。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi od"><img src="../Images/ef1f32d1aa5ce99fdded7c310a2025ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSZ0So8DtcN6yHRZZgyGAw.png"/></div></div></figure><p id="d304" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">使用' ls -la '列出所有文件，包括隐藏文件。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/77aff336d66962b02291cba85814b69a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V0fZxno1kp88qZ2_hvzwXw.png"/></div></div></figure><p id="7853" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们知道我们将' id_rsa '复制到了'/var/tmp '目录。导航到/tmp并找到“id_rsa”。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/250d16a824cc3bf32a92fb936e5285a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qkbaCN8J4QWXVmY80XpDpQ.png"/></div></div></figure><p id="2d1a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">使用密钥作为用户“kenobi”连接到SSH。手指交叉！</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi og"><img src="../Images/07e30a63dd20595ab82bc2aa9515adf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*40X47N_qExDc9EGAcQB7rA.png"/></div></div></figure><p id="a6c9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了。<br/>我们已经成功获得了外壳。<br/>让我们捕获user.flag并提交它。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/600f66d93e1c91f34c286ad827d14d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*gO2Xm1Y8VUtBkbo_icvsXQ.png"/></div></figure><blockquote class="mz na nb"><p id="48a3" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">克诺比的用户标志(/home/kenobi/user.txt)是什么？<br/>答:xxxxxxxxxxxxxxxxxxxxxxxxxxx</p></blockquote><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="4e34" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了！！进入下一个任务。</p><h2 id="1b72" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">任务4-通过路径变量操作提升权限:</h2><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/440ebc5e503ec22cf0f5e8727a9a6e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FnsVH6e3dcT6IKGMKm3row.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oi"><img src="../Images/dc885b43f2c4ff735d591e2cd4677a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c8iLH1DOYIA241MSr8fFxw.png"/></div></div></figure><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="oj me l"/></div></figure><p id="d8a3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们需要提升机器上的权限以成为root，捕获root标志并给这个机器一个美好的结局。</p><p id="6eec" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以在拥有超级用户权限的文件系统上找到文件和二进制文件。由于许多文件显示错误，输出会很长，因此我们也可以使用' 2&gt;/dev/null '来抑制错误。</p><blockquote class="mz na nb"><p id="28e0" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">find/-type f-perm-u = s 2 &gt;/dev/null</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/c9e703807ec7ec12750f3d4cdd37fa79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*f1jX3IwWKedVjCWnWcQR-A.png"/></div></figure><p id="411a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">二进制文件“/usr/bin/menu”看起来很奇怪，你可能也注意到了。</p><blockquote class="mz na nb"><p id="bf3a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">什么文件看起来特别与众不同？| <br/> Ans: /usr/bin/menu</p></blockquote><p id="3f73" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">的确，这是不寻常的。</p><p id="45b2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们需要运行二进制文件。就这么办吧。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/b78acb2c8d28e67e037b5ff9276db4d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*x9VxznB_WELM9D1YJ1TaDw.png"/></div></figure><p id="0786" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有3个选项和下一个问题的答案。提交吧。</p><blockquote class="mz na nb"><p id="c3f2" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">运行二进制，出现多少个选项？<br/>答案:3</p></blockquote><p id="38e0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">“Strings”是一个非常棒的命令，它可以将文件或二进制文件中的数据转换成人类可读的字符串格式。我们可以在二进制文件“usr/bin/menu”上使用“字符串”</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi om"><img src="../Images/1a2bd7fd504370ddea15951e7bb10689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*rO8Xi-LGSCc09ZQu4BF55Q.png"/></div></figure><p id="62e3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以注意到，二进制文件在没有完整路径的情况下运行命令，例如/usr/bin/curl或/usr/bin/uname。导航到/tmp目录</p><p id="de45" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">复制“/bin/sh”文件，并将其命名为curl。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7f0fb08ad28690c8905974a339065c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*S1c-bWrI6m1wORDm60J19A.png"/></div></figure><p id="82e0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">授予文件的所有权限，即777 [-rwxrwxrwx]</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/cf6b574addc12a3f25567e469ef900f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*txdXj13lY6hGi1b_iZzhEg.png"/></div></figure><p id="d47b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在PATH变量中设置位置。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi op"><img src="../Images/04570157771de2937b1f731581e3d2ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*80l_NyAJ9DnK3KJyyA3suA.png"/></div></figure><p id="42eb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">执行二进制文件。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi om"><img src="../Images/93d26b6bbdee1461b7b2284c47d5a36d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*yU1DtIgHM5w3VFjGibISkA.png"/></div></figure><p id="262e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">输入您的选择“1”并按回车键。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="oq me l"/></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/52cf272afcd0a00464d8684c58685da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3KnCEiptIS6doiSNytvasA.png"/></div></div></figure><p id="66f6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">瞧啊。<br/>我们已经成功升级权限！<br/>我们现在可以确认我们是root了！</p><blockquote class="mz na nb"><p id="c61c" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">我们复制了/bin/sh shell，将其命名为curl，赋予它正确的权限，然后将其位置放在我们的路径中。这意味着当/usr/bin/menu二进制文件运行时，它使用我们的path变量来查找“curl”二进制文件..它实际上是/usr/sh的一个版本，并且这个文件以root用户身份运行，它以root用户身份运行我们的shell！<br/>答:不需要回答。</p></blockquote><p id="d70d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们抓住根旗。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi os"><img src="../Images/59e416b88bf241ad9ef12b5866197930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*Xi5D2t8-zjulLTQxFQmdug.png"/></div></figure><p id="7b5d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了。！<br/>提交。</p><blockquote class="mz na nb"><p id="9e41" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">什么是根标志(/root/root.txt)？<br/>答:xxxxxxxxxxxxxxxxxxxxxxxxxxx</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/7c4b917fc5c0adadbab791d7f93cbd09.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*a2POSQVRJyA-RZLzNkNRaQ.png"/></div></figure><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="oj me l"/></div></figure><p id="0487" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们已经完成了房间。我真的很喜欢这个房间，并从中获得了很多乐趣。我会建议每个人都尝试一下这个房间，我相信你会学到一些新的东西。</p><p id="2aa6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你喜欢这篇文章，并且这篇文章对你有所帮助，请在评论中告诉我，或者用掌声分享你的爱。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="ou me l"/></div></figure><p id="caa1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">谢谢你抽出时间。</p><p id="9c8c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">跟着我。</p><p id="7411" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">更多的报道正在进行中。</p><p id="e26c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">保重，注意安全，继续黑！</p><p id="53ee" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">-哈桑·谢赫</strong></p></div></div>    
</body>
</html>