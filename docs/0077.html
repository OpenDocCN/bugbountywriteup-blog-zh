<html>
<head>
<title>From InfoDisc to RCE to SOP Bypass</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从InfoDisc到RCE再到SOP旁路</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/from-infodisc-to-rce-to-sop-bypass-2d956b58796e?source=collection_archive---------1-----------------------#2018-04-15">https://infosecwriteups.com/from-infodisc-to-rce-to-sop-bypass-2d956b58796e?source=collection_archive---------1-----------------------#2018-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1d37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你好渗透测试人员！</p><p id="6327" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天，<br/>我将用2 PBBP… <br/>写下我的发现，从信息泄露<br/>到远程代码执行<br/>到同源策略绕过<br/>——————<br/>姑且称之为a.com&amp;b.com<br/>a . com:<br/>在运行Dirb的时候，<br/>我发现了crossdomain.xml文件。<br/>所以我在b.com/crossdomain.xml查了一下<br/>我看到a.com允许从b.com<br/>&lt;allow-access-from domain = " * . b . com "/&gt;的任何子域访问</p><p id="6203" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">b.com: <br/>然后我运行sublist3r来查找b.com子域..<br/>(。/sublist 3r . py-d b.com)<br/>几分钟后……<br/>我拿到了b.com子域列表。</p><p id="6103" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我跑目击者截图为b.com子域名列表<br/>(。/witness . py—prepend-https—headless-f b-sub domains . txt)</p><p id="1b23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Braaah :"D <br/>我注意到一个子域有<br/> (Apache Tomcat/6.0.35) <br/>然后我向我最好的朋友(Google)询问了这个版本..</p><p id="c6fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Google搜索结果后:<br/>我注意到这个版本受到了这个CVE的影响-2016–8735(RCE)<br/>并且我知道Jexboss可以利用这个漏洞..</p><p id="ebf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我运行Jexboss来利用这个漏洞<br/>(。/jexboss.py -h) <br/>(。/jex boss . py-u<a class="ae kl" href="http://developers.b.com)" rel="noopener ugc nofollow" target="_blank">http://developers.b.com)</a></p><p id="9924" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行了这个漏洞..过了一会儿……:D完成了<br/>有效载荷上传成功<br/>反向外壳工作正常:D</p><p id="7a78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在developers.b.com得到了RCE<br/>-现在我可以在这个子域&amp;上上传恶意的完全访问。😂<br/>-也可以绕过also的SOP😎</p><p id="f8f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果:<br/> 1。向b.com PBBP举报RCE。<br/> 2。据报道，同源政策可能绕过a.com PBBP。</p><p id="6cae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">-10天内修复了2个问题<br/>-我获得了…谢谢:3<br/>——他们不会给赏金带来坏运气..但是🖐️一点问题都没有😄</p><p id="56dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">经验教训:<br/>-第一步总是收集目标的信息。<br/>-检查每一个请求。<br/>-检查服务器上的所有文件。<br/>。/././././结尾。/././././</p><p id="231b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意:<br/>-这是我第一次写文章，所以我在等你的反馈😊<br/>#通用</p></div></div>    
</body>
</html>