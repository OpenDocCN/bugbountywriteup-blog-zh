<html>
<head>
<title>Privilege Escalation via Account Takeover on NodeBB Forum Software — Bug Bounty (512$) — CVE-2020–15149</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过NodeBB论坛软件上的帐户接管提升权限— Bug Bounty (512美元)—CVE-2020–15149</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/privilege-escalation-via-account-takeover-on-nodebb-forum-software-512-a593a7b1b4a4?source=collection_archive---------1-----------------------#2020-09-19">https://infosecwriteups.com/privilege-escalation-via-account-takeover-on-nodebb-forum-software-512-a593a7b1b4a4?source=collection_archive---------1-----------------------#2020-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="20b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好。</p><p id="6747" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你们都过得好。✌️</p><p id="d348" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大约一个月前，我告诉你，我在一个web应用程序中发现了一个帐户接管漏洞，如下图所示。随着带有漏洞的web应用程序的新补丁的到来，我现在可以与您分享我是如何发现该漏洞的。</p><p id="2e9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我的第一个bug赏金写，所以我写P1合格的漏洞。,</p><p id="4426" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来谈谈吧。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/2fdaca6876f3fbf706d2f4438e85abc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/0*x8dAMFN-ubkB4ESa"/></div></figure><p id="28e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我对NodeBB论坛软件进行测试时，我发现每个用户帐户的密码都可以更改。</p><p id="3594" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我将告诉您利用此漏洞的步骤。</p><ol class=""><li id="54d9" class="kt ku iq jp b jq jr ju jv jy kv kc kw kg kx kk ky kz la lb bi translated">首先，确定<strong class="jp ir">【admin】</strong>用户的uid:</li></ol><p id="e9de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lc" href="https://try.nodebb.org/uid/*" rel="noopener ugc nofollow" target="_blank">T3【https://try.nodebb.org/uid/*】T5</a></p><p id="b55b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在标有星号(*)的地方试了试数字，发现admin帐户的<strong class="jp ir"> uid </strong>值是<strong class="jp ir"> 1 </strong>。</p><p id="15d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lc" href="https://try.nodebb.org/uid/1" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://try.nodebb.org/uid/1</strong></a><strong class="jp ir">-&gt;</strong><a class="ae lc" href="https://try.nodebb.org/user/admin" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://try.nodebb.org/user/admin</strong></a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ld"><img src="../Images/69bab67c18cbe121f770d90e96058992.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7VoCS8rEyzJEgniv"/></div></div></figure><p id="5adf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2-我为自己创建了一个名为<strong class="jp ir">“测试用户1”</strong>的用户。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi li"><img src="../Images/eda3c17db7f403ded019eaead0784dc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uvPw_2CROI6hHOoe"/></div></div></figure><p id="cd4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3-我从我的用户资料转到密码更改页面，在第一个框中输入了我们当前的密码。然后，我在第二个和第三个框中写下了我们想要更改的密码。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lj"><img src="../Images/eeda06a46897626614464edb5ed9d7a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UlbrBMpf_4iJgih6"/></div></div></figure><p id="b6a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4-然后，在按提交按钮之前，我打开了Burp Suite，它有一个代理选项，我将请求上的uid值替换为1，这是admin用户的uid值，然后我发送了请求。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lk"><img src="../Images/a8dfa4dbe3df90e72de112d1e11bf41c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eq8BImPzLU_eoDMV"/></div></div></figure><p id="a52b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5-我在用户名框中写了“admin ”,在密码框中写了我在步骤5中写的密码。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ll"><img src="../Images/e0f21e25544908e6f2cfc2287c9b1c6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rSLcoRw7A0-nMN-J"/></div></div></figure><p id="ec28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">6-因此，我获得了“admin”用户的帐户。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lm"><img src="../Images/880c3a337bbb92b14d0c460b91e6ecb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HbC0Bgr62WYLDmkE"/></div></div></figure><p id="77aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，由于我在NodeBB公司发现的这个漏洞，我赢得了512美元的奖金。🏆🏆🏆</p><p id="e405" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以点击下面的链接查看NodeBB论坛软件的名人堂名单。</p><p id="f1f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lc" href="https://blog.nodebb.org/bounty/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://blog.nodebb.org/bounty/</strong></a></p><p id="2f40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是github页面的链接，其中包含漏洞已被关闭的信息。</p><p id="513b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lc" href="https://github.com/NodeBB/NodeBB/security/advisories/GHSA-hr66-c8pg-5mg7" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://github . com/nodeb/nodeb/security/advisories/GHSA-hr66-c8pg-5mg 7</strong></a></p><p id="3cc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你们能从中学到一些东西，如果是这样的话，请击掌。✋</p><p id="a040" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您阅读我的文章。你可以通过下面的链接联系到我。</p><p id="7ac4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">健康的日子！😷</p><p id="1a14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lc" href="https://twitter.com/erenuyguun" rel="noopener ugc nofollow" target="_blank">https://twitter.com/erenuyguun</a></p><p id="982e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">https://www.linkedin.com/in/3ren-uygun/<a class="ae lc" href="https://www.linkedin.com/in/3ren-uygun/" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>