<html>
<head>
<title>Pythonic Malware Part-3: In-Memory Execution and Modern Evasion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pythonic恶意软件第3部分:内存执行和现代规避</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/pythonic-malware-part-3-in-memory-execution-and-modern-evasion-ec3cc1084628?source=collection_archive---------1-----------------------#2022-12-22">https://infosecwriteups.com/pythonic-malware-part-3-in-memory-execution-and-modern-evasion-ec3cc1084628?source=collection_archive---------1-----------------------#2022-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4b5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">忘记编译有效负载和在磁盘上操作——这篇文章演示了Python的可移植解释器在内存恶意软件部署中的使用，即使该语言没有安装在主机上。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/4736e00df8b2676881eb403c0584702c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r3MA6RYCIzXs4r4E"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">照片由<a class="ae lb" href="https://unsplash.com/ja/@alison_wang?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">艾莉森·王</a>在<a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="ce1a" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">为什么是Python？</h1><p id="6366" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">Python是一种众所周知的语言，在一个组织中有无限的合法用途。通过使用Python的可移植的或嵌入式的<a class="ae lb" href="https://www.python.org/downloads/windows/" rel="noopener ugc nofollow" target="_blank">包</a>，我们可以下载一个单独的<code class="fe mm mn mo mp b">.zip</code>文件，并访问<code class="fe mm mn mo mp b">python.exe</code>解释器，而无需用户进行任何安装。</p><p id="df88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，<code class="fe mm mn mo mp b">python.exe</code>是一个有签名的二进制文件，具有很高的信誉分数，因此不太可能被阻止。这为执行C2信标或其他有效载荷提供了一个完美的载体，而在攻击性的安全交战。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/0c334f369af4f4480face93fa837cc25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UefLtnFmFP3ICtmQt0z2nA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">python.exe病毒全面扫描</figcaption></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="feee" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">概念证明</h1><p id="3951" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">下面的视频演示了如何使用PowerShell下载和提取可移植的Python解释器。下载到磁盘上后，下载支架用于检索有效负载并在内存中执行meterpreter shell，从而绕过最新版本的Windows Defender和其他端点安全解决方案:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="6d54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mt">有效负载源、PowerShell命令和Python下载底座可从</em><a class="ae lb" href="https://github.com/m8sec/OffsecDev" rel="noopener ugc nofollow" target="_blank"><em class="mt">github.com/m8sec/OffsecDev</em></a>获得</p><h2 id="66ec" class="mu lk iq bd ll mv mw dn lp mx my dp lt jy mz na lx kc nb nc mb kg nd ne mf nf bi translated">额外资源</h2><p id="d3c4" class="pw-post-body-paragraph jn jo iq jp b jq mh js jt ju mi jw jx jy mj ka kb kc mk ke kf kg ml ki kj kk ij bi translated">更多关于这种技术和潜在探测领域的信息，请查看Diago Capriotti的<a class="ae lb" href="https://github.com/naksyn/Pyramid" rel="noopener ugc nofollow" target="_blank">金字塔</a>项目或他的DefCon对手村演讲:<a class="ae lb" href="https://github.com/naksyn/talks/blob/main/DEFCON30/Diego%20Capriotti%20-%20DEFCON30%20Adversary%20Village%20-%20%20Python%20vs%20Modern%20Defenses.pdf" rel="noopener ugc nofollow" target="_blank"> Python与现代防御</a>！</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="78a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读！在<a class="ae lb" href="https://m8sec.dev" rel="noopener ugc nofollow" target="_blank"> m8sec.dev </a>了解更多关于我的信息，并关注更多攻击性安全内容。</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/pythonic-malware-part-2-reversing-python-executables-1b197bd023ca"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">Python恶意软件第2部分:逆转Python可执行文件</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">在Python恶意软件第1部分中，我演示了如何使用Python可执行文件绕过Windows Defender和…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">infosecwriteups.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kv nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/pythonic-malware-evading-detection-with-compiled-executables-20194ab0719c"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">Pythonic恶意软件:通过编译的可执行文件逃避检测</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">在攻击性安全约定期间创建Python可执行文件曾经是一种有效的规避方法。然而…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">infosecwriteups.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx kv nj"/></div></div></a></div><p id="f923" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mt">免责声明:所有内容仅用于教育目的。作者不对信息的使用负责。不要对你不拥有或没有明确许可的系统进行测试。</em></p></div></div>    
</body>
</html>