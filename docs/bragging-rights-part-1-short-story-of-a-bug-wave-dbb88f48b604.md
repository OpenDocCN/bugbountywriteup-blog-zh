# 吹牛的权利(第 1 部分):一个 bug 浪潮的小故事

> 原文：<https://infosecwriteups.com/bragging-rights-part-1-short-story-of-a-bug-wave-dbb88f48b604?source=collection_archive---------0----------------------->

![](img/fe4b1bc66df52b5584c0bbee4441b75d.png)

嗨，我的黑客伙伴们，我希望你们都做得很好。我们(终于)进入了新的一年，可能我们都为今年设定了一些目标。我祈祷你能实现这些愿望。我开始写一系列的文章和博客，在那里我会张贴我的发现&一些有趣的阅读。我称之为吹牛的权利！我希望你喜欢并从中学习。

第一部分是基于我最近的 bug 搜索，我在一个目标上发现了 6 个 bug。我会试着解释这些错误，让我说清楚**我的动机不是告诉你**例如，什么是 IDOR。你可能已经知道了，虫子的种类。这个博客是关于在哪里你可以在野外找到它们，这就是为什么我们喜欢报道和文章，不是吗？所以让我们继续前进:)

好吧，让我们称目标为“target.com”(由于他们的政策和 NDA)。我从一些谷歌呆子中选择了一个目标(即“负责任的披露奖励”)，并开始丢弃我能为这个目标侦察到的任何数据。我选择周末，这样我可以有更多的时间去打猎。经过两个周末和近 30 个小时的工作，我发现:

**2 个伊多尔斯**

**1 储存的 XSS**

**1 Azure 子域接管**

**1 SSRF**

**以及在他们的 android 应用中为第三方硬编码的凭证**

**荣誉提及:“WP-JSON/WP/v2/users”xD**

先说**第一个**也是我的最爱。伊多斯。在我们开始之前，我已经用 *WordPress 用户名枚举*得到了一些用户名，有时它会帮助你链接很酷的 bug。所以应用程序只有一个用户角色。您只能创建多个低权限用户。如果你认为这是一个简单的 2004-2005 IDOR，它不是。让我告诉你，一旦你登录到应用程序，有一个功能，你可以生成和下载你的报告卡，其中将包含你的 PII。因此，一旦你点击生成报告卡，一个带有 JSON 的 POST 请求将会如下所示:

*{请求 ID: "username_base64 value"}*

你拿到了吗？是的，你做到了！如果没有，只需解码 base64 值并将其更改为另一个 ID。再次编码，一旦你下载了别人的成绩单，我们就得到我们的第一个 IDOR:)外卖？**确保检查 base64/散列值:)**

第二个很简单。我可以通过交换用户 id 来更改密码。就像我们在正常情况下做的那样。但由于网站上有认证，我不能接手。总之，我改了密码。同样，它是 base64 解码，做同样的事情。唯一的区别是它是序列化的，报告卡是基于拥有报告卡的用户的。

**3 号**臭虫被存放在 XSS。我们有一个讨论箱，在那里我们可以提出关于医疗医院和服务的建议。这是一个很酷的旁路，我最近才知道。我建议你们都学习 XSS 旁路技术，即**一些 Javascript** ，而不是到处扔一吨的有效载荷。所以网站过滤了特殊字符和*脚本标签以及提示。*我玩了一会儿，然后制作了这个有效载荷:

**“”；！—"<xs here>=&{()}**

我参考了 Intigriti 的 XSS 挑战赛，我不得不说这些太棒了。你可以在这里找到一篇好文章:- [挑战](https://www.valbrux.it/blog/2020/12/16/intigriti-december-xss-challenge-2/)。他们还有几个。谷歌一下就知道了，伙计:)

清单上的第四个是 azure 子域名的收购，我早些时候在一位同事的帮助下为我的公司完成了这件事。这对我很有帮助。我用*子查找器*做了一些侦查，发现了一些子域名。展望未来，我使用*nucleus*进行低悬挂，最终得到了这个托管在 Azure 云服务上的子域。想要一个好的博客吗？开始了- [**接管**](https://blog.cystack.net/subdomain-takeover-chapter-two-azure-services/) **。所以，我检查了 CNAME，它很容易受到攻击，所以我继续在 azure services 上拥有它。太酷了..简单:P**

第五名是这个列表中花费时间最多、回报最高的 bug。是的，一个 SSRF！我的第一个 SSRF 来自这个目标。该网站有一个选项，您可以添加您的网站链接，是的，我想同样的方式，你现在正在做的事情。我们可以把我们自己的领域，并尝试在那里或我们可以爆破一个内部 SSRF？所以这很有效，我在一个到处都是合作者的扩展的帮助下得到了一个 HTTP pingback。耗费我时间的是，它不接受简单的 SSRF 有效负载，如 [http://localhost、](http://localhost,) [http://127.1](http://127.1,) 等。我尝试了几乎一整天，就在我准备放弃的时候，我想起我们可以实际上组合 IP 地址，并尝试它是否可行，然后嘣！！！！成功了。有效载荷会像这样:

[**http://1.1.1.1**](http://1.1.1.1)**&@2.2.2.2#@3.3.3.3/**

我不明白这是如何工作的，如果有人知道，请在 Twitter 上用解决方案 DM。我进行了端口扫描，获取了 ss，然后发送出去。

这是我对 web 部件的研究。他们也有一个 android 应用程序，我想如果我能找到什么，就试一试。所以最后一个也是第六个 bug 是 web 应用下的硬编码凭证。我下载了 APK 并用 **apktool** 反编译了它。自从我们第一次访问 strings.xml，我也做了同样的事情，但什么也没有。在搜索这里&那里的时候，我在**资产**下找到了一个文件夹，哦，天哪！有一些 app_key 和 secert_key。我真的不知道该做什么，我只是简单地报告了一下。

这些是我在那里发现的虫子。幸运的是我得到了一大笔赏金。那是:

2 元:300+300= 600 元

**1 Azure 收购= 150 美元**

**XSS: 300 美元**

**SSRF: 450 美元**

**和硬编码凭证:50 美元**

**{总计 1550 美元)**

最重要的是，你的思维能力和黑客技术能走多远都是关于利用东西的独特方式。你越好奇，你得到的结果就越好。坚持一个项目真的帮助我以更好的方式提高了自己，我相信这对你也一样。此外，我敢打赌，一旦你在一个目标上花些时间，你就能得到好的 bug。不过，完全看什么适合你的心态:)

所以这将是这篇文章的结尾。我已经有一段时间没有发布它们了，所以今天我把它们打了出来。希望对你有所帮助。如果你没有发现错误，不要气馁。三个月了，我一只虫子都没发现。它没有对我做任何事。但是，我希望你能定期发现 bug

如果你喜欢它并且学到了一些东西，你可以点击下面的拍手图标。你也可以用这个用户名在 Twitter 上关注我: **@manash4rsh** 。

小心黑客们！狩猎愉快:)

再见，❤