<html>
<head>
<title>FunBox-2 Walkthrough (Vulnhub)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FunBox-2演练(Vulnhub)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/funbox-2-walkthrough-vulnhub-b1933209acf3?source=collection_archive---------2-----------------------#2020-09-07">https://infosecwriteups.com/funbox-2-walkthrough-vulnhub-b1933209acf3?source=collection_archive---------2-----------------------#2020-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ce19" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">描述</h2></div><p id="63c7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是<a class="ae le" href="https://twitter.com/@0815R2d2" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> @0815R2d2 </strong> </a>做的一个<strong class="kk iu"> 2 </strong> boot2root CTF。这是在Vulnhub上发现的一系列有兔子洞的机器。如果你有密码破解的知识，这是一个简单的问题。下载请访问:<a class="ae le" href="https://www.vulnhub.com/entry/funbox-2-rockie,520/" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu"><em class="lf"/></strong></a></p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/12f031574fc1297b883e731bb02f98be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*hN7YDho1p8S7uOdLjj-8Mw.png"/></div></figure><blockquote class="lo lp lq"><p id="5d20" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">剧透警报！！！获得的知识:-</p></blockquote><ol class=""><li id="719c" class="lu lv it kk b kl km ko kp kr lw kv lx kz ly ld lz ma mb mc bi translated">FTP枚举</li><li id="d109" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">Zip2john</li><li id="a82a" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">开膛手约翰</li><li id="3ac9" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">数据库历史使用</li><li id="31d9" class="lu lv it kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">权限提升</li></ol><blockquote class="lo lp lq"><p id="4648" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">网络扫描</p></blockquote><p id="402f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">启动你的终端，开始搜寻受害者。这次我使用了Nmap，但是你也可以使用你自己的工具。(在NatNetwork中执行)</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/1b88013791acd9bff8a65af2a9ea11e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DAN9fwL_aPVaSWHsyL6g5Q.png"/></div></div></figure><p id="1ab3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们的目标是10.0.2.42</p><blockquote class="lo lp lq"><p id="fc69" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">端口扫描</p></blockquote><p id="fd3e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们使用Nmap找出端口上运行的不同服务，这将为我们提供危害受害者的途径。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mn"><img src="../Images/b4d4667b2d6f61673c7b5d42d3940683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*39OvIkKheNAcUBcFGXFIyA.png"/></div></div></figure><p id="7b4f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果有人在Nmap交换机方面有问题，请访问<a class="ae le" href="https://nmap.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu"><em class="lf">https://nmap.org/</em></strong></a></p><blockquote class="lo lp lq"><p id="33aa" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">网络侦察</p></blockquote><p id="6b7f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在80端口访问受害者的主页，显示的是Ubuntu的默认页面，没有任何有用的东西。所以，我尝试用gobuster来列举隐藏的目录。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mo"><img src="../Images/04082609c8da0dc4a894db8bdd075a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TkspsXTtiImjh7v9xMXHIA.png"/></div></div></figure><p id="fb19" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好的，我们得到了robots.txt，它包含了一个不允许的URI，所以这里也没有。</p><blockquote class="lo lp lq"><p id="bcb0" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">FTP侦察</p></blockquote><p id="21fc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们在浏览器上访问托管FTP服务的端口21。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mp"><img src="../Images/8af308c24283d07f14d85fba24039e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0x9y_Yp0WDy3sxHS5Y1NQQ.png"/></div></div></figure><p id="7049" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以我们有很多文件。我必须说这个盒子考验你的耐心。我已经下载了所有的zip文件，但是30-40分钟后，很明显只有tom.zip文件可以用了😩…</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/1d1fa394a4eb7335aabe5786c45d58fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*lFfiKzRy1oT0o5Ix9QSilw.png"/></div></figure><p id="00a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">…但是当你解压时，它会要求你输入密码☝️</p><blockquote class="lo lp lq"><p id="35ba" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated"><strong class="kk iu">裂解阶段</strong></p></blockquote><p id="13cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该用zip2john了。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mr"><img src="../Images/c028ba49fc39dea72e1812aaba9d5d04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0FI05WLgs4BG9ryEf8Cwaw.png"/></div></div></figure><p id="eac1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如你所见，这是一个PKZIP格式的散列，我们可以通过开膛手约翰破解它。只在一个单独的文件中复制散列来破解它。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi ms"><img src="../Images/71bb6ce17609ad6b4c95d353573ec201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AitmtKQTi39YQq8-r-PlWA.png"/></div></div></figure><p id="0584" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经破解过一次了，所以默认情况下它保存在pot文件中。👇</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mt"><img src="../Images/64f3fa20294bbaa723b9a23e4e123a69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dPzQROjR2j_fYI5kaC1HBg.png"/></div></div></figure><p id="e688" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在使用密码解压文件，您将获得一个id_rsa文件。使用它进行SSH登录。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/8c2618201e37aaee98c9e9e698554761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*4D5o5EklV-kMwUi1J2xfmw.png"/></div></figure><blockquote class="lo lp lq"><p id="127c" class="ki kj lf kk b kl km ju kn ko kp jx kq lr ks kt ku ls kw kx ky lt la lb lc ld im bi translated">SSH侦察</p></blockquote><p id="42e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我们有了用户tom和他的私钥，所以让我们进行ssh登录。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mv"><img src="../Images/f7d2cf9b1f18a7e7415083a9092d936f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oYOQJtfG5ry01MjYIhZhPQ.png"/></div></div></figure><p id="1c40" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是登录后，你会注意到我们在rbash👇。让我们绕过它。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mw"><img src="../Images/c2db74297c1b1a01cf8a65331e87c2ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EbSIxxcXbeZ-D23CB9wcBw.png"/></div></div></figure><p id="1530" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经使用VIM绕过了受限的bash shell。在终端上键入vim，并遵循以下命令👇</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mx"><img src="../Images/ee99c40163f9996fc1d01c7bde20bb23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGXVkrsslJrrYYaHEe89jQ.png"/></div></div></figure><p id="1909" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">又是这个</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi my"><img src="../Images/5637f11c17b61f7d09178652f82684fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDKgPgEy0a6CQ_djx9g0BA.png"/></div></div></figure><p id="caad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在输入交互式shell的python脚本。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mz"><img src="../Images/2e39b4500b85613b069e56a2e9879e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kiHmzfd-20DJDgscOBE47w.png"/></div></div></figure><p id="333c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，我们已经成功绕过了rbash。现在做一个<strong class="kk iu"> ls </strong>，你会注意到一个<strong class="kk iu">。mysql_history </strong>文件。如果你使用过SQL，你会注意到密码被压入一个数据库，我不会解释。</p><p id="3da2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在输入以下命令，查看是否有任何文件设置了SUID位。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi na"><img src="../Images/f85804ebcde248148ddd4efc8de75f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BIXEb7c5r6kXQx3g9L_Bqw.png"/></div></div></figure><p id="121b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为我们有一个进程，所以我们可以使用它和密码来提升我们的权限。访<a class="ae le" href="https://gtfobins.github.io/#" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">【https://gtfobins.github.io/#】</strong></a>为剧本。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nb"><img src="../Images/a734e99dbb8101a0904c1649b186588d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MF52vnzuJdEFHHGH6B6_lA.png"/></div></div></figure><p id="c086" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看根旗。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mw"><img src="../Images/c0da230e1e8938a6bdf510cbffa0d4b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKaMC9bREnSw877Oj6q1IA.png"/></div></div></figure><p id="ddc5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如需更多演练，请继续关注…</p><h1 id="f1be" class="nc nd it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">在你走之前</h1><p id="17c1" class="pw-post-body-paragraph ki kj it kk b kl nu ju kn ko nv jx kq kr nw kt ku kv nx kx ky kz ny lb lc ld im bi translated">访问我的其他演练:-</p><div class="nz oa gp gr ob oc"><a href="https://medium.com/@Shubham_Singh_/photographer-1-vulnhub-walkthrough-e7c1f3a5dde7" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">摄影师:1 Vulnhub漫游</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">来自Vulnhub的描述</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq lm oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/@Shubham_Singh_/blackrose-1-walkthrough-vulnhub-b0517597e15c" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">黑玫瑰:1次穿越(Vulnhub)</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">我这边的描述</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq lm oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/@Shubham_Singh_/so-simple-1-vulnhub-walkthrough-184cd19cd788" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">如此简单-1 Vulnhub演练</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">来自Vulnhub的描述</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq lm oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://www.linkedin.com/pulse/funbox-1-walkthrough-vulnhub-shubham-singh/?trackingId=4DyVQFfn9InHM0sGRoak1Q%3D%3D" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">FunBox-1漫游(Vulnhub)</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">欢迎学习者，进入FunBox的演练:1，一个由@0815R2d2制作的boot2root CTF，在VulnHub上找到。这是我的…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.linkedin.com</p></div></div><div class="ol l"><div class="ot l on oo op ol oq lm oc"/></div></div></a></div><p id="116e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您花时间阅读我的演练。如果你觉得有帮助，请点击👏按钮👏(最高40倍)并分享给有类似兴趣的人帮助！+随时欢迎反馈！</p></div></div>    
</body>
</html>