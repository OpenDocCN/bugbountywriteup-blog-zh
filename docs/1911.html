<html>
<head>
<title>Nibbles From HackTheBox</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HackTheBox的小点心</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/nibbles-from-hackthebox-e03e8ff93e40?source=collection_archive---------2-----------------------#2022-02-23">https://infosecwriteups.com/nibbles-from-hackthebox-e03e8ff93e40?source=collection_archive---------2-----------------------#2022-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3732" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">带有Metasploit的简单淘汰的Linux系统</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4b0db5278eabee547f5e905888f57802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*hrvmtNU2yOj8kLVrAX_FPQ.png"/></div></div></figure><p id="8be4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你好，了不起的黑客，我希望你做得很好。今天我们要吃黑盒子里的小吃。这是一个容易退休的Linux机器。所以，不要浪费任何时间，让我们开始黑客攻击。</p><p id="da10" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将首先从NMAP扫描开始</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="f61f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有两个端口打开，<strong class="kt ir"> 22 (ssh) </strong>和<strong class="kt ir">端口80 </strong> (Apache httpd 2.4.18)。我们将关注<strong class="kt ir">端口80 </strong>，因为它具有<strong class="kt ir">更大的攻击面</strong>。但在此之前，我想运行<strong class="kt ir"> searchsploit </strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="5528" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们没有发现任何有趣的东西。我在我们的nmap扫描上运行了<strong class="kt ir"> searchsploit </strong>，因为有些时候像<strong class="kt ir"> Apache这样的服务或者任何其他正在运行的服务</strong>可能会有<strong class="kt ir">漏洞</strong>。</p><p id="e3a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们将探索<strong class="kt ir">端口80 </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lp"><img src="../Images/62960a0ff3241443464a0f24cbd1d41c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qlUfoL68Vj5V2zQXqC4ghA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">检查端口80</figcaption></figure><p id="a944" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是一个简单的页面，显示“<strong class="kt ir"> Hello world！</strong>“现在检查它的源代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lu"><img src="../Images/e880069a5b9c2cf7860047859e247621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jMWGdTNoqfaO00litoqhNg.png"/></div></div></figure><p id="5f85" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们得到了一个方向。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lv"><img src="../Images/8a494745da0b42439241c9d025d0c702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTutILVQ6YRgOU57S1VWBA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">正在检查/ <strong class="bd lw">半字节块</strong></figcaption></figure><p id="9a7f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们将运行<strong class="kt ir"> Gobuster </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="7506" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在检查<strong class="kt ir"> /README时，</strong>我得到了<strong class="kt ir"> nibbleblog </strong>版本号。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lx"><img src="../Images/90ecd9b30743de880d024636c8c3e676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfl0Nzu3GL9OvVa6BYwabw.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">获得了nibbleblog版本号</figcaption></figure><p id="85e3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我使用<strong class="kt ir"> searchsploit </strong>来检查那个版本的<strong class="kt ir"> nibbleblog </strong>是否易受攻击(你可以使用Google tooo)。它很脆弱。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/35b9c80dee79c1e7d9b66de60d3b3480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*H6iq1Hct0CaDbdMZfATl-g.png"/></div></figure><p id="78d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我试着检查它的<strong class="kt ir"> metasploit </strong>模块，但遗憾的是我们需要一个用户名&amp;密码。我们将继续列举。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lz"><img src="../Images/0ba5d4aaf9b69904b60823d306fa92dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CEqY3E-tHmnqXZGe5hXSXw.png"/></div></div></figure><p id="e7a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我试着检查了一下<strong class="kt ir"> /admin </strong>目录，但是没有发现任何有趣的东西。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/68ea7f685ddf295bad7294e2f6aeacea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*LXO8U3gJNJ8RQ3DYQk6YyA.png"/></div></figure><p id="5920" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">还有<strong class="kt ir"> /admin.php </strong>这是一个登录页面，但我没有证书，所以我现在要离开admin.php。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mb"><img src="../Images/1f93345a9ef21f57fc8bfa9d717e6b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pakkEqkQdM1fTRMNtSeg6w.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">admin.php(登录页面)</figcaption></figure><p id="6cc3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我在<strong class="kt ir">/nibble blog/content/private/users . XML</strong>中得到用户名</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/1300de122929c025b7cb6ab06fa937bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ry8d24ye7pQHQqyk9B0ASQ.png"/></div></div></figure><p id="5822" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我不断列举密码，但没有运气。所以我尝试了像admin:admin，admin:password，admin:nibble，admin:nibbles这样的cred。并且<strong class="kt ir">管理员:nibbles </strong>为我工作。现在我有了用户名和密码，我回到了metasploit模块。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi md"><img src="../Images/76136131556d423a4bddfe48fcb7740c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LV7eMoecup5zogRq41pXVQ.png"/></div></div></figure><h1 id="5964" class="me mf iq bd lw mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">现在我们需要将我们的权限提升到root用户。</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv lo l"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">私人视频</figcaption></figure><p id="98db" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们的用户可以root身份运行<strong class="kt ir">/home/nibbler/personal/stuff/monitor . sh</strong>，并且我们还拥有对该文件的写权限。所以我们可以简单地在上面上传我们的反向外壳。我们可以作为根用户运行该脚本(我们必须解压缩personal.zip文件)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/6287ccb3c0882f6ee80ec33b1745d037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9wXjKwi7bYEMJkqpP99_fA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">须岛一号</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/a05e4425324da2cf41a5be28388beade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d1FJqSNY10neoDaTP56K4g.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">添加rev shell</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/e0e2f1c076c11a7f920c4af461dfcf80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9yr9Qjuv5xpaf2ALEB_Vw.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">以root用户身份运行monitor.sh</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/7bfa3cb535d9b2948b14dc47a1b8a8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bbGj0H18tnIbkC0cWWmnmw.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk translated">我们找到根了！！！！！！！</figcaption></figure><p id="fbbc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢你阅读这篇文章，我希望你喜欢它。如果你有任何疑问，你可以在推特上联系我<a class="ae na" href="https://twitter.com/Hac10101" rel="noopener ugc nofollow" target="_blank">https://twitter.com/Hac10101</a></p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="e5e8" class="me mf iq bd lw mg ni mi mj mk nj mm mn jw nk jx mp jz nl ka mr kc nm kd mt mu bi translated">🔈 🔈Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和10多个小时充满力量的讨论会议。<a class="ae na" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank">查看更多详情并在此注册。</a></h1><div class="nn no gp gr np nq"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">iwcon.live</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe kp nq"/></div></div></a></div></div></div>    
</body>
</html>