<html>
<head>
<title>Let’s know How I have explored the buried secrets in React Native application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们知道我是如何探索React本机应用程序中隐藏的秘密的</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/lets-know-how-i-have-explored-the-buried-secrets-in-react-native-application-6236728198f7?source=collection_archive---------0-----------------------#2021-01-18">https://infosecwriteups.com/lets-know-how-i-have-explored-the-buried-secrets-in-react-native-application-6236728198f7?source=collection_archive---------0-----------------------#2021-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9ce3" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">移动应用渗透测试指南</h2><div class=""/><div class=""><h2 id="a569" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">Android逆向工程的新时代(上)</h2></div><blockquote class="kr ks kt"><p id="a68a" class="ku kv kw kx b ky kz kd la lb lc kg ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">T <!-- -->感谢对我上一篇文章  <strong class="kx jd">的巨大反响<a class="ae lr" href="https://secureitmania.medium.com/hack-crypto-secrets-from-heap-memory-to-exploit-android-application-728097fcda3" rel="noopener"> <strong class="kx jd">。</strong>最近我发现了一个关于硬编码凭证问题的bug，它是通过不同的方法而不是旧的逆向工程方法发现的。</a></strong></p></blockquote><h2 id="90b5" class="ls lt it bd lu lv lw dn lx ly lz dp ma mb mc md me mf mg mh mi mj mk ml mm iz bi translated">简介:</h2><p id="b6c1" class="pw-post-body-paragraph ku kv it kx b ky mn kd la lb mo kg ld mb mp lg lh mf mq lk ll mj mr lo lp lq im bi translated">React Native是一个<strong class="kx jd">移动应用程序框架</strong>，通过支持React和原生平台功能的使用，最常用于为<strong class="kx jd"> Android </strong>和<strong class="kx jd"> iOS </strong>开发应用程序。如今，跨平台使用React变得越来越流行。</p><h2 id="a096" class="ls lt it bd lu lv lw dn lx ly lz dp ma mb mc md me mf mg mh mi mj mk ml mm iz bi translated"><strong class="ak">古老的</strong> - <strong class="ak">过时的安卓逆向工程方式</strong></h2><p id="b827" class="pw-post-body-paragraph ku kv it kx b ky mn kd la lb mo kg ld mb mp lg lh mf mq lk ll mj mr lo lp lq im bi translated">通常，在对Android应用程序进行逆向时，会使用<strong class="kx jd"> apktool、dex2jar </strong>进行反编译，然后使用<a class="ae lr" href="https://java-decompiler.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jd"> JD-GUI </strong> </a>进行分析。当处理React本机应用程序时，如果应用程序有任何您想要分析的本机代码，这可能是有用的。</p><p id="2d6d" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">但是很多时候，应用的核心逻辑在于React Native <strong class="kx jd"> JavaScript，不需要使用dex2jar就可以获得</strong>。</p><h1 id="bcb8" class="ms lt it bd lu mt mu mv lx mw mx my ma ki mz kj me kl na km mi ko nb kp mm nc bi translated">逆向工程过程:反应原生应用程序</h1><p id="0ef3" class="pw-post-body-paragraph ku kv it kx b ky mn kd la lb mo kg ld mb mp lg lh mf mq lk ll mj mr lo lp lq im bi translated"><strong class="kx jd">步骤1 </strong>:让我们确认一下应用程序是否构建在React原生框架上。</p><p id="ba8f" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">要检查这一点，使用zip扩展名重命名APK，然后使用以下命令将APK解压缩到一个新文件夹</p><pre class="nd ne nf ng gt nh ni nj nk aw nl bi"><span id="0f02" class="ls lt it ni b gy nm nn l no np">cp com.example.apk example-apk.zip<br/>unzip -qq example-apk.zip -d ReactNative</span></pre><p id="eec4" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">浏览到新创建的<code class="fe nq nr ns ni b">ReactNative</code>文件夹，找到<code class="fe nq nr ns ni b">assets</code>文件夹。在这个文件夹里，应该有<code class="fe nq nr ns ni b">index.android.bundle</code>。这个文件将包含所有缩小格式的React JavaScript。</p><figure class="nd ne nf ng gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi nt"><img src="../Images/83d420d5dbfbe4e45fb6a70dc0a01100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*enjF2H7PclRAIcNCxDIOJw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">反应原生逆向工程</figcaption></figure><p id="0143" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated"><strong class="kx jd">步骤2 </strong>:在同一个目录下创建一个名为<code class="fe nq nr ns ni b">index.html</code>的文件，其中包含以下代码。</p><pre class="nd ne nf ng gt nh ni nj nk aw nl bi"><span id="52df" class="ls lt it ni b gy nm nn l no np">&lt;script src="index.android.bundle"&gt;&lt;/script&gt;</span></pre><figure class="nd ne nf ng gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi of"><img src="../Images/ba89a8516b53a42d9a4dd48aa857ba8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qrg2jrXF8UxwbbRJJVWmRw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">反应原生逆向工程</figcaption></figure><p id="9484" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">在<strong class="kx jd">谷歌浏览器</strong>中打开<strong class="kx jd">index.html</strong>文件。打开开发者工具栏(<strong class="kx jd">OS X的Command+Option+J或者Windows </strong>的Control+Shift+J)，点击“Sources”。您应该看到一个JavaScript文件，它被分成文件夹和文件，构成了主包。</p><blockquote class="kr ks kt"><p id="f6e6" class="ku kv kw kx b ky kz kd la lb lc kg ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果您能够找到一个名为<code class="fe nq nr ns ni b">index.android.bundle.map</code>的文件，您将能够以一种非统一的格式分析源代码。<code class="fe nq nr ns ni b">map</code>文件包含允许您映射缩小标识符的源映射。</p></blockquote><p id="e657" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated"><strong class="kx jd">步骤3 </strong>:搜索敏感凭证和端点</p><p id="5ba4" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">在这个阶段，你必须识别出<strong class="kx jd">敏感关键词</strong>来分析<strong class="kx jd"> Javascript </strong>代码。React本机应用程序中流行的一种模式是使用第三方服务，如Firebase、AWS s3服务端点、私钥等。,</p><p id="f02c" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">在我最初的<strong class="kx jd"> recon过程</strong>中，我观察到应用程序使用了Dialogflow服务。所以基于此，我搜索了一个与其配置相关的模式。幸运的是，我能够在Javascript代码中找到敏感的硬编码凭证。</p><figure class="nd ne nf ng gt nu gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi og"><img src="../Images/15b672004c8d2d8a76ca57048e1ba642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAToFnqpp9ndM0lBeMlz6g.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated"><em class="oh">分析Chrome DevTools中的index . Android . bundle</em></figcaption></figure><h1 id="4168" class="ms lt it bd lu mt mu mv lx mw mx my ma ki mz kj me kl na km mi ko nb kp mm nc bi translated">结论</h1><p id="9eef" class="pw-post-body-paragraph ku kv it kx b ky mn kd la lb mo kg ld mb mp lg lh mf mq lk ll mj mr lo lp lq im bi translated">React本机应用程序的逆向工程过程很容易。敏感凭证和API端点通常可以通过分析JavaScript代码从React本机应用程序中提取出来。如果您正在构建具有敏感逻辑的React原生应用程序，请确保保护它们免受代码窃取。</p></div><div class="ab cl oi oj hx ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="im in io ip iq"><p id="ee70" class="pw-post-body-paragraph ku kv it kx b ky kz kd la lb lc kg ld mb lf lg lh mf lj lk ll mj ln lo lp lq im bi translated">感谢你花时间阅读这篇博客。如果你想学习android黑客技术，请关注我，关注有趣的<strong class="kx jd">黑客技术</strong>并查看<a class="ae lr" href="https://medium.com/@secureITmania" rel="noopener"> <strong class="kx jd">我的简介</strong> </a>阅读有趣的<strong class="kx jd"> BugBounty </strong>报道。</p></div></div>    
</body>
</html>