<html>
<head>
<title>Leaking API keys in Bing Maps Portal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bing地图门户中的API密钥泄漏</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-i-got-listed-in-microsoft-hall-of-fame-8f96ca4535c2?source=collection_archive---------0-----------------------#2015-12-31">https://infosecwriteups.com/how-i-got-listed-in-microsoft-hall-of-fame-8f96ca4535c2?source=collection_archive---------0-----------------------#2015-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d088" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我答应写我是如何被列入微软名人堂的。终于来了。</p><p id="e187" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一些背景信息</p><ul class=""><li id="5a5e" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">这是我第一次向大公司报告安全漏洞。</li><li id="8379" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">是的，我对网络安全有一点了解。</li></ul><p id="093b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每年微软都会在一些IIT举办名为code.fun.do的黑客马拉松。黑客马拉松的主题是使用微软的一种技术构建一个web或移动应用程序。</p><p id="23aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们决定参与，我们的想法涉及必应地图。为了使用任何API，你需要一个API密匙。必应地图也是如此。您可以在<a class="ae kz" href="https://www.bingmapsportal.com/" rel="noopener ugc nofollow" target="_blank">https://www.bingmapsportal.com/</a>管理Bing地图的应用程序及其密钥。所以我也注册了</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi la"><img src="../Images/8fba61bc94f04e2d99e95090a6688796.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*2L4DbsIXz4-xTG0YwpacHQ.png"/></div></figure><p id="9bd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我让自己熟悉这个网站，并尝试创建新的API键并使用它们。</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi li"><img src="../Images/3fded065b04cc2e4d7d2949a64ce37c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOuEqQPD3vyxocnXNR2mkQ.png"/></div></div></figure><p id="7737" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(别担心，我已经删除了那个应用程序和密钥:P)</p><p id="5ef0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在这个页面上你可以看到所有API键的使用细节</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ln"><img src="../Images/4a7675f8b2f95cd40529b878d622a723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q0A6oxZ_96X_QSgsXp6YZw.png"/></div></div></figure><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi li"><img src="../Images/c062dd6c2c68beb51f15ce1f06124d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XoX5-ivDTc7FpKzul3zl4Q.png"/></div></div></figure><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi li"><img src="../Images/ddb5ff4598747cac4e7c5f98b67c9c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-uUS5QgJfahepyjGMZZhQA.png"/></div></div></figure><p id="2edd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我还没有使用钥匙，所以没有统计数据，但是你注意到什么了吗？</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lo"><img src="../Images/241e9f0811d903eed27286d588478235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewFOktLY1F_9puI79yjMnQ.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">统一资源定位器</figcaption></figure><p id="24fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看网址。在发出get请求时，它将帐户ID作为参数发送。所以我接下来做的就是把账号id改成1418766(我的是1418765)然后回车然后嘣！！我得到了那个用户的API密钥。</p><p id="92db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想象一下！！我可以获得API密钥、应用程序名称、使用细节以及你能想象到的每个注册用户的统计数据。</p><p id="8672" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">甚至还有企业级API密钥。</p><p id="c7ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我没有报告这个错误，也许有一天你会看到一些黑客攻击了微软，并在pastebin或其他东西上发布了API密钥和其他一些细节😛</p><p id="2039" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很复杂吗？不对。任何人都可以更改帐户ID。但在这种情况下，我是唯一😛。如果你想知道我为什么这么做，答案是我习惯了，虽然我从来没有参加过任何Bug奖励，但我在我们研究所的网站和服务器以及许多其他在线网站上练习了很多。</p><p id="ffc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在这方面的知识增长了，因为我在很多CTF(夺旗比赛)中练习，一旦你做了这么多比赛，你就会有检查一切的本能，你知道在哪里寻找漏洞。</p><p id="0b63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这并不是一种特殊的天赋，任何有奉献精神的人都可以掌握这门艺术。</p><p id="0844" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">微软的人修复了这个错误，网址现在看起来像这样</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/4dfc3cc25e0f7faab755031a7885e641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/0*n3pEcZwbLrD13OhA."/></div></figure><p id="949c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而且漏洞已经打了补丁。</p><p id="53bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是我如何进入<a class="ae kz" href="https://technet.microsoft.com/en-us/security/cc308589" rel="noopener ugc nofollow" target="_blank">微软名人堂</a>参加11月份的活动。</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ln"><img src="../Images/ec39f733b9d11a996e5d14d7268513c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8XSkKTujzuneZImMWZT8sg.png"/></div></div></figure><p id="e35a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">暂时就这样了。</p><h1 id="f902" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">时间线:-</h1><p id="c58b" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">2015年10月11日—发送错误报告。</p><p id="ff29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2015年11月11日——收到一封邮件，说他们正在分析漏洞。</p><p id="5962" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2015年12月11日-他们修好了(我检查过了)。</p><p id="96b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2015年11月17日—收到一封官方邮件，询问我的详细信息。</p><p id="a44a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，当我不找虫子的时候，我开始用虫子奖金。</p><p id="a6cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们没有赢得黑客马拉松，但它仍然是一个胜利。</p><p id="4188" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您的阅读。</p><p id="02e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">和平。:D</p><p id="ce13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同一个月，我报告了同一网站的另一个漏洞</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="48ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ne">原载于2015年12月31日</em><a class="ae kz" href="https://kmskrishna.wordpress.com/2016/01/01/how-i-got-listed-in-microsoft-hall-of-fame/" rel="noopener ugc nofollow" target="_blank"><em class="ne">【kmskrishna.wordpress.com】</em></a><em class="ne">。</em></p></div></div>    
</body>
</html>