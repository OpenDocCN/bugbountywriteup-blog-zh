<html>
<head>
<title>Cyber Apocalypse CTF 2022 — Web — Kryptos Support Write-up</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络启示录CTF 2022 —网络—氪星支持报道</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/cyber-apocalypse-ctf-2022-web-kryptos-support-write-up-2cf5057c4161?source=collection_archive---------5-----------------------#2022-05-19">https://infosecwriteups.com/cyber-apocalypse-ctf-2022-web-kryptos-support-write-up-2cf5057c4161?source=collection_archive---------5-----------------------#2022-05-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d22a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">提示:</strong></p><p id="de98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">氪星支持<br/>龙希尔的星球议会使用的秘密金库氪星包含一些非常敏感的国家机密，维吉尔和雷蒙娜正在寻找这些机密来证明委员会的不公正。尤利西斯应他们的要求进行了一次初步侦察，并找到了一个支持金库的入口。你能不能看看你能不能渗透进这个系统？</p><p id="e113" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">开始:</strong></p><p id="d9a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个网络挑战，没有源代码可以下载并在本地测试。所以我们将在没有任何代码审查的情况下进行攻击..</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/6450dbf5237013bee8c99bbdf9c666b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jr0wM_nUb4EBt9HoTMz3Lw.png"/></div></div></figure><p id="5bdc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">网站看起来是这样的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kx"><img src="../Images/918e3fde4a50cdc8cfc2d1564a47e94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OpZB2c38_g71eGlgjB58gg.png"/></div></div></figure><p id="7bb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为是票系统，首先想到的是我们发送一些东西给管理员，他会审查它。所以去XSS试试是个好主意。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ky"><img src="../Images/61f88da5fe20e057b2f8b16ee5e2810a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQjofoVrQ77H06gxU8XLRg.png"/></div></div></figure><p id="99d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我正在打开一个webhook网站，并编写我的有效载荷来检查管理员是否点击了它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/62b8d6da913cdd1a5b21f8892219343e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0TMapBy9xxk9sMHtVNq9TQ.png"/></div></div></figure><p id="4162" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是的，我偷了饼干..因此，从开发人员工具，我们可以设置我们的cookie登录为管理员..</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi la"><img src="../Images/f6f6be107c3dc80f415860532b65f8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rd0aIasYgdIZv9eL_RhYLw.png"/></div></div></figure><p id="af7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们看到了门票，但它们不是交互式的，所以我点击设置，有一个门户网站可以帮助我们更改密码。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/8521b7e0b1da96df6850f41eb98e9f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F2F9_ey9TVQvzTPErL8g6w.png"/></div></div></figure><p id="5a09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我通过burp检查它时，我看到只有uid和密码数据进入服务器，所以即使我们改变uid，我们也无法理解..但是正如你所知道的，几乎所有的网站管理员的uid都是1，有时是0。所以我把它改成1..</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lc"><img src="../Images/471cc0b0f98dd1aec10ba7d57176f2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-hgYLxWs4NiaIGKsvr1xTg.png"/></div></div></figure><p id="cbc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后嘣..有一个idor漏洞可以帮助我们更改管理员的密码..</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ld"><img src="../Images/b3c2be1e6f91ba07aba9f49ffb5bb59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uY76kspy2U9eLozmyYjeMg.png"/></div></div></figure><p id="08fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们以管理员身份从/登录路径登录</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi le"><img src="../Images/f589884ba821ce1d9ee40a5d257ce647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qCuXmuZGEUZ05HQH4UqsBA.png"/></div></div></figure><p id="9794" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们抓住了这次挑战的旗帜..</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lf"><img src="../Images/974083a9189c2a7060b712da5cfbb6fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z5SceTljJQmO0CGH3MMWPA.png"/></div></div></figure></div></div>    
</body>
</html>