<html>
<head>
<title>APKEnum: A Python Utility For APK Enumeration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">APKEnum:用于APK枚举的Python实用程序</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/apkenum-a-python-utility-for-apk-enumeration-69509d11c032?source=collection_archive---------3-----------------------#2020-05-05">https://infosecwriteups.com/apkenum-a-python-utility-for-apk-enumeration-69509d11c032?source=collection_archive---------3-----------------------#2020-05-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8532" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个简单的Python实用程序，用于对Android二进制文件执行被动枚举</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/4d163ee8d74ff6c02ec5bf8d2bd68d97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gZ2UvJjjLCk-o1Hx.png"/></div></figure><p id="64d8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi lm translated"><span class="l ln lo lp bm lq lr ls lt lu di"> R </span> <strong class="ks iu">经济的诞生</strong>的确是渗透测试中最关键也是最耗时的阶段。在这个阶段，我们收集尽可能多的目标信息。我们掌握的信息越多，成功利用的机会就越大。</p><p id="c919" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在过去的几年里，我有过许多这样的经历:移动应用程序的前端缺少基本的安全实践，而相应的web应用程序却要健壮得多。对于红队队员、渗透测试人员和bug赏金猎人来说，这绝对是一个充满机会的领域，他们可以从中发现一些很酷的安全问题。</p><p id="3d8e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">考虑到这一切和新冠肺炎的封锁，我想到重温我的脚本技能，为Android应用程序开发一个<strong class="ks iu">被动枚举实用程序</strong>。该脚本将APK文件作为输入，执行逆向工程，并从反编译的二进制文件中收集信息。到目前为止，该脚本通过搜索反编译代码提供了以下信息:</p><ul class=""><li id="a265" class="lv lw it ks b kt ku kw kx kz lx ld ly lh lz ll ma mb mc md bi translated">应用程序中的域列表</li><li id="b3e1" class="lv lw it ks b kt me kw mf kz mg ld mh lh mi ll ma mb mc md bi translated">代码中引用的S3存储桶列表</li><li id="45c9" class="lv lw it ks b kt me kw mf kz mg ld mh lh mi ll ma mb mc md bi translated">准则中引用的S3网站列表</li><li id="befc" class="lv lw it ks b kt me kw mf kz mg ld mh lh mi ll ma mb mc md bi translated">中引用的IP地址列表。密码</li></ul><p id="e003" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我写这个故事是为了让你了解剧本。它是开源的，可以很容易地从<a class="ae mj" href="https://github.com/shivsahni/APKEnum" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><h1 id="9b69" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">APKEnum</h1><p id="e590" class="pw-post-body-paragraph kq kr it ks b kt nc ju kv kw nd jx ky kz ne lb lc ld nf lf lg lh ng lj lk ll im bi translated">该脚本是开源的，可以在Github上获得。你可以从<a class="ae mj" href="https://github.com/shivsahni/APKEnum" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><h2 id="f5db" class="nh ml it bd mm ni nj dn mq nk nl dp mu kz nm nn mw ld no np my lh nq nr na ns bi translated">先决条件</h2><ul class=""><li id="96a2" class="lv lw it ks b kt nc kw nd kz nt ld nu lh nv ll ma mb mc md bi translated">支持Python 2.7</li><li id="23f6" class="lv lw it ks b kt me kw mf kz mg ld mh lh mi ll ma mb mc md bi translated">APKTool罐</li></ul><p id="5255" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><strong class="ks iu">注意:</strong>最新的APKTool(v2.4.1) JAR文件已经随软件包一起提供了。如果你面临反编译的问题，你可以从<a class="ae mj" href="https://bitbucket.org/iBotPeaches/apktool/downloads/" rel="noopener ugc nofollow" target="_blank">这里</a>下载最新版本，并把它放在依赖目录中，名为<em class="nw"> apktool.jar </em></p><h2 id="d80d" class="nh ml it bd mm ni nj dn mq nk nl dp mu kz nm nn mw ld no np my lh nq nr na ns bi translated">使用</h2><p id="ac51" class="pw-post-body-paragraph kq kr it ks b kt nc ju kv kw nd jx ky kz ne lb lc ld nf lf lg lh ng lj lk ll im bi translated">下载完成后，我们只需要提供APK文件的路径名。可选地，我们还可以提供与目标相关的关键字列表，然后脚本将通过执行字符串匹配，基于输入关键字列表创建除上述列表之外的范围内域的附加列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nx"><img src="../Images/bcb71bd9e46f12a38f476674c93ae572.png" data-original-src="https://miro.medium.com/v2/format:webp/0*rCMoD3hYB74hVckJ.png"/></div></figure><p id="216c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了测试这一点，我用下面的测试数据创建了一个示例应用程序，并在示例应用程序上执行APKEnum。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nz oa di ob bf oc"><div class="gh gi ny"><img src="../Images/ccd0ea59e9bb5377abbfbf454965386b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NKoWBw3TJqkYbRhT.png"/></div></div></figure><p id="c959" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">下面的截图显示了示例应用程序的结果</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nx"><img src="../Images/b62165873af149b13acf157906f7b9bd.png" data-original-src="https://miro.medium.com/v2/format:webp/0*Cje_0JHA7wM5MT25.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nx"><img src="../Images/ba95f25a28eccc87043455d58fc5b036.png" data-original-src="https://miro.medium.com/v2/format:webp/0*Y5wCtyCaRSHYGho8.png"/></div></figure><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="bb96" class="nh ml it oe b gy oi oj l ok ol">Note: In case you observe any bug, please feel free to raise an issue, we can <strong class="oe iu">together</strong> fix it!</span></pre><blockquote class="om on oo"><p id="47b3" class="kq kr nw ks b kt ku ju kv kw kx jx ky op la lb lc oq le lf lg or li lj lk ll im bi translated">将感谢您的建议，错误报告，拉请求和其他合作！<strong class="ks iu">让我们从黑客手中拯救世界！</strong></p></blockquote><p id="814a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你和我一样，也是一个云安全爱好者，看看我最近制作的用于自动检测和利用AWS NS接管问题的<a class="ae mj" href="https://github.com/shivsahni/NSDetect" rel="noopener ugc nofollow" target="_blank"> <strong class="ks iu"> NSDetect </strong> </a>和<a class="ae mj" href="https://github.com/shivsahni/NSBrute" rel="noopener ugc nofollow" target="_blank"> <strong class="ks iu"> NSBrute </strong> </a>实用程序:)</p><div class="os ot gp gr ou ov"><a href="https://medium.com/@shivsahni2/nsdetect-a-tool-to-discover-potential-aws-domain-takeovers-fd0ff1a8b68a" rel="noopener follow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">NSDetect:发现潜在AWS领域接管的工具</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">可能帮你赚/省几十万美元的实用工具！🤑</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">medium.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ko ov"/></div></div></a></div><p id="43f8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">请继续关注一些即将到来的关于应用程序和云安全的很酷的东西。欢迎随时关注我的<a class="ae mj" href="https://medium.com/@shivsahni2" rel="noopener">媒体</a>和<a class="ae mj" href="https://twitter.com/shiv__sahni" rel="noopener ugc nofollow" target="_blank">推特</a>。</p></div></div>    
</body>
</html>