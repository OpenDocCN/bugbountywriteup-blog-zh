<html>
<head>
<title>API based IDOR to leaking Private IP address of 6000 businesses</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于API的IDOR泄露6000家企业的私有IP地址</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/api-based-idor-to-leaking-private-ip-address-of-6000-businesses-6bc085ac6a6f?source=collection_archive---------0-----------------------#2021-01-01">https://infosecwriteups.com/api-based-idor-to-leaking-private-ip-address-of-6000-businesses-6bc085ac6a6f?source=collection_archive---------0-----------------------#2021-01-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="006e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">各位研究员大家好，</p><p id="2ccc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我自己，<strong class="jp ir">拉菲阿哈迈德</strong>。我是来自孟加拉国的网络安全研究员。我喜欢破坏安全。无论如何，事不宜迟，让我们进入今天的主题。</p><p id="d174" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在开始之前，我想感谢<a class="ae kl" href="https://twitter.com/InsiderPhD" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">凯蒂·帕克斯顿</strong> </a> <strong class="jp ir"> </strong>的视频。我从她的视频中学到了很多关于IDORs的东西。事实上，我一整年的赏金目标都是从她的视频中学来的。</p><h1 id="eb6c" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">IDOR是什么？</h1><blockquote class="lk ll lm"><p id="2a22" class="jn jo ln jp b jq jr js jt ju jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj kk ij bi translated"><em class="iq">不安全的直接对象引用(IDOR)是一种访问控制漏洞，当应用程序使用用户提供的输入直接访问对象时会出现这种漏洞。</em></p></blockquote><h1 id="28f2" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">什么是API？</h1><blockquote class="lk ll lm"><p id="ec3c" class="jn jo ln jp b jq jr js jt ju jv jw jx lo jz ka kb lp kd ke kf lq kh ki kj kk ij bi translated">API是应用程序编程接口的首字母缩写，它是一个软件中介，允许两个应用程序相互通信。每次你使用脸书这样的应用程序，发送即时消息，或者在手机上查看天气，你都在使用API。</p></blockquote><p id="b5bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我测试了一个<strong class="jp ir"> NDA ( <em class="ln">保密协议</em> ) </strong>程序，我注意到Web应用程序有一个查看用户访问日志的选项。看起来很简单，对吗？</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/12fc8c508a92591b17c20a9a43f9575c.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*TyVsblmf9cyd1C90g7z9EA.gif"/></div></figure><p id="0da1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我有一个坏习惯，就是在浏览一个web应用的时候打开<strong class="jp ir">拦截</strong>，看到浏览器发给服务器的每一个请求。当我再次访问同一个页面时，我注意到<strong class="jp ir">我的</strong> <strong class="jp ir">访问日志</strong>没有显示，尽管页面的其他内容已经加载。然后我注意到我的拦截打开了，有一个API请求被拦截，它试图获取用户的访问日志。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/513fc4399faf0196ec845a179108aa6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0DmfdzA2Jt3FOcGDknzsog.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">被拦截的请求</figcaption></figure><p id="7b63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你仔细看看帖子数据，你会发现它有一个用户ID 。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/00e83a553107da65dd84fbf0f2111b06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6AXAGVbaCkjCRyt3o2WpoQ.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">用户ID请求</figcaption></figure><p id="7530" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我向入侵者发送请求，并使用<strong class="jp ir">暴力破解</strong>用户ID ，我获得了6000家企业的<strong class="jp ir"> <em class="ln">访问日志</em> </strong>。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/6d482e555e332bf1eabf8f04d83b430b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*RbvKegsKSk80xDOnmR-plQ.gif"/></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">开发人员的反应</figcaption></figure><p id="6beb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我很快报告了这个漏洞，公司在48小时内修复了这个漏洞。我得到了一笔不错的4位数赏金。</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/2cdbce7217880f08d61899716ea9cb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*ViQSvdHLzu-PWhRBNsFZhg.gif"/></div></figure><p id="46ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望你们喜欢这个。PM我在<a class="ae kl" href="https://www.facebook.com/rafiahamed.rupak.3" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a><a class="ae kl" href="https://www.linkedin.com/in/rafi-ahamed" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">、LinkedIn </strong> </a>或<a class="ae kl" href="https://twitter.com/L3onid1s" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Twitter </strong> </a>如果你有任何问题。</p></div></div>    
</body>
</html>