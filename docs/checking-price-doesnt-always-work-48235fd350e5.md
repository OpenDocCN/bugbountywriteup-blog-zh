# 查价格不一定管用！

> 原文：<https://infosecwriteups.com/checking-price-doesnt-always-work-48235fd350e5?source=collection_archive---------1----------------------->

![](img/8e20a423f09b8a7b87b1ec9334705a34.png)

最近，我不得不为我的锻炼计划订购一些补充剂，我正在搜索一些允许送货的网站，并找到了一个好网站。作为一个 bug 猎人，我总是认为网站可能有一些缺陷，或者让我们好好看看支付系统。

因此，我运行了我的**打嗝套件**,我选择了一个商品，拦截了请求并更改了 POST 主体中的价格(只是为了检查它是否从这里开始)，但它移动到了购物车上，价格仍然相同。

现在，我有两个选择:第一，当我从购物车中结账时，第二，当我进一步走向付款时。我点击了 checkout 选项，通过再次拦截请求，使用 burp 中的 Proxy 选项卡再次更改了价格。但是它加载到下一页没有任何变化。我还有一个选项，我很快填写了地址，然后通过信用卡点击支付选项，再次拦截了请求，这次再次更改了价格，然后继续查看最终的更改，并获得了一条成功消息，

> *价格已更改，无法继续移动*

![](img/6934be318a96c3c16b9f4161a634b724.png)

我是如此的混乱，以至于他们甚至检查已经改变的价格，现在我可能没有选择。那天晚上我点了我选的东西后就睡着了。

几天后，我想再试一次支付系统，我有了一个主意。我选择了另一个项目，并按照我以前的尝试移动到最后的结帐部分，这一次选择了货到付款，我可以看到这一次的请求包含项目数量，这要么是之前没有，要么是我忘记尝试了。但无论如何，我当时在 COD 里面，所以试图将项目的数量改为负数，但没有结果，它只是在清空我的购物车，我在内心深处想，如果这不起作用，浪费这么多时间是不好的。然后，我将数量改为 0.1，它再次清空了我的购物车。所以，我终于知道我想的所有选择都行不通。

我关了笔记本上了床，又开了手机。我在网站上看到一条消息，

> "您的订单已经确认，很快就会发货."

然后我查看了我的邮件，瞧，我得到了订购的商品，数量是. 1，价格实际上是，

> 原始价格*数量

因为它少于符合免费送货条件的订单，他们也增加了一些运费，但我很高兴我没有放弃。我得到了一个教训，仅仅检查价格是没有用的，数量也可以发挥很大的作用。这也适用于开发人员，他们只检查篡改的价格，但只检查数量作为 **> 0** 。

谢谢你阅读它！

狩猎愉快！

*关注* [*Infosec 报道*](https://medium.com/bugbountywriteup) *获取更多此类精彩报道。*

[](https://medium.com/bugbountywriteup) [## 信息安全报道

### 收集了世界上最好的黑客的文章，主题从 bug 奖金和 CTF 到 vulnhub…

medium.com](https://medium.com/bugbountywriteup)