<html>
<head>
<title>Sometimes times the best hack is no hack at all — $2900 Shopify Bug Bounty</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有时候，最好的黑客根本不是黑客——2900美元的Shopify Bug赏金</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/sometimes-times-the-best-hack-is-no-hack-at-all-2900-shopify-bug-bounty-38531b279c67?source=collection_archive---------1-----------------------#2022-08-26">https://infosecwriteups.com/sometimes-times-the-best-hack-is-no-hack-at-all-2900-shopify-bug-bounty-38531b279c67?source=collection_archive---------1-----------------------#2022-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="57aa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">访问控制是关键。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f496be51ab768d719e0da501f1ae401b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JBC8ZRklV_pU_Q2c"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@ashin_k_suresh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">陈信宏·K·苏雷什</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="f7cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://owasp.org/Top10/A01_2021-Broken_Access_Control/" rel="noopener ugc nofollow" target="_blank">访问控制漏洞</a>被<a class="ae ky" href="https://owasp.org/Top10/" rel="noopener ugc nofollow" target="_blank">开放Web应用安全项目(OWASP) </a>列为2021年排名第一的web app安全风险。当应用程序变得越来越复杂，具有更多API端点和特性时，开发和遵守策略以维护适当的授权控制会变得更加困难。</p><p id="c37d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多系统(不仅仅是软件)的一个重要安全组件是<strong class="lb iu">最小特权</strong>的概念。用户仅被授予读取、写入和/或访问文件、API等的权限。，他们需要执行他们的角色的功能。这可能是在内部开发/公司团队的环境中，但这在web应用程序功能的环境中也是有意义的。</p><p id="052e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">特权提升</strong>是一种破坏访问控制的类型，用户可以在没有适当协议或授权的情况下获得更高级别/角色的特权。通常，当用户获得管理员权限时，或者当未登录的用户可以执行用户操作时，会出现这种情况。这种缺乏控制的严重程度因攻击者一旦获得信息后可以访问或修改的信息类型而异。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a94c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">漏洞利用(如果我们可以这样称呼的话……)</strong></h1><p id="9bad" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">HackerOne用户<code class="fe mz na nb nc b">0x50d</code>最近<a class="ae ky" href="https://hackerone.com/reports/1417288" rel="noopener ugc nofollow" target="_blank">在Shopify中发现了一个特权提升破坏访问控制漏洞</a>，获得了2900美元的奖金。通常，在特权提升问题中，攻击者需要欺骗服务器、API等。，他们实际上并没有特权，但这种利用非常简单！</p><p id="b68a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">0x50d</code>发现<code class="fe mz na nb nc b"><a class="ae ky" href="https://plus-website.shopifycloud.com/admin.php?_page=1" rel="noopener ugc nofollow" target="_blank">https://plus-website.shopifycloud.com/admin.php?</a>_page=1</code>是一个管理面板(即只有管理员才能访问)，无需验证即可访问。在本例中，我们的特权提升错误是从未登录到admin。这很可能是通过Google Dorking发现的，这是一种“不需要编程知识”的搜索某些文档、密码、日志文件等的方法。有可能被泄露。</p><p id="2538" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个非常透明的评分理由中，Shopify讨论了为什么这个简单的bug被给予了4.6(中等)的严重性分数:</p><blockquote class="nd ne nf"><p id="f1ec" class="kz la ng lb b lc ld ju le lf lg jx lh nh lj lk ll ni ln lo lp nj lr ls lt lu im bi translated">此身份验证问题提供了对受影响站点上<code class="fe mz na nb nc b">/admin</code>的访问。注意<code class="fe mz na nb nc b">/admin/*</code>路径会像预期的那样被重定向到auth。因此，尝试在管理面板中进行更改将会失败，并阻止完整性影响。但是，仍然存在对根页面上有限的合作伙伴档案信息的无意读取访问，这导致了较低的机密性影响。(来源:<a class="ae ky" href="https://hackerone.com/reports/1417288" rel="noopener ugc nofollow" target="_blank">hacker one上的Shopify Sec团队)</a></p></blockquote><p id="a717" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，用户能够获得读取访问权限，但不能获得任何其他形式的访问权限。这就是纵深防御原则非常重要的原因。这个管理面板中可能有另一个漏洞，这可能会使这个错误成为一个更大的问题。恭喜<code class="fe mz na nb nc b">0x50d</code>找到你应得的2900美元的虫子奖金！</p><pre class="kj kk kl km gt nk nc nl nm aw nn bi"><span id="7274" class="no md it nc b gy np nq l nr ns"><strong class="nc iu">Want to Connect?</strong></span><span id="1a8a" class="no md it nc b gy nt nq l nr ns">Please consider contacting me at roberto.cyberkid@gmail.com following me on Medium, <a class="ae ky" href="https://www.buymeacoffee.com/robertocyberkid" rel="noopener ugc nofollow" target="_blank">buying me a coffee</a>, following me on <a class="ae ky" href="https://twitter.com/CyberKidLama" rel="noopener ugc nofollow" target="_blank">twitter</a>, or connecting with me on <a class="ae ky" href="https://www.linkedin.com/in/roberto-lama-9a126a123/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>!</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="a7c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng">来自Infosec的报道:Infosec上每天都会出现很多难以跟上的内容。</em> <a class="ae ky" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="ng">加入我们的每周简讯</em> </strong> </a> <em class="ng">以5篇文章、4个线程、3个视频、2个Github Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</em></p></div></div>    
</body>
</html>