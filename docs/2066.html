<html>
<head>
<title>AWS control tower — the best way to govern multi-account environments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS控制塔—管理多帐户环境的最佳方式</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/aws-control-tower-the-best-way-to-govern-multi-account-environments-27a727a529dd?source=collection_archive---------1-----------------------#2022-05-15">https://infosecwriteups.com/aws-control-tower-the-best-way-to-govern-multi-account-environments-27a727a529dd?source=collection_archive---------1-----------------------#2022-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f080bfaf3da2bfa733ab12ad0a0267fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KO3NW0Pzm7PYMA1W.png"/></div></div></figure><p id="d61a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">任何在云中工作过的人都知道，随着越来越多的工作负载被迁移，这种环境的复杂性会增加得多快。公司通常从小型非关键系统开始，但是一旦他们看到云的成本效益和威力，他们很快就想迁移其他业务系统。这对于必须实施控制来保护和管理多个AWS帐户的安全团队来说是一个挑战。值得庆幸的是，AWS多年来一直是市场领导者，定期为其客户发布新的安全服务，AWS控制塔就是最近的一个。</p><p id="b73f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">作为AWS控制塔以及它如何真正简化<a class="ae kz" href="https://www.youtube.com/watch?v=90Xsa6dzsWM&amp;t=272s" rel="noopener ugc nofollow" target="_blank">云治理</a>的忠实粉丝，它认为深入了解这一产品的细节将是一个好主意。</p><h1 id="d859" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">多账户环境是如何诞生的</h1><p id="8140" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">AWS帐户就像是客户资源的边界或容器，允许他们在云中隔离工作负载并简化计费。默认情况下，AWS帐户中的资源不能访问边界之外的资源，这种隔离在内部是不可能的。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c14528c5b592952bffa9db6726967eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VXcEKmUS7i6crJAG.png"/></div></div></figure><p id="41a6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">客户通常从一个AWS帐户开始他们的云之旅，但随着更多系统的迁移，他们会快速创建更多帐户。遵循标准最佳实践，公司可以创建以下帐户进行集中治理:</p><ul class=""><li id="5358" class="mh mi it kd b ke kf ki kj km mj kq mk ku ml ky mm mn mo mp bi translated">一个管理帐户，用于管理所有其他帐户并整合计费和其他服务</li><li id="a3d0" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">容纳所有主要生产系统的生产帐户</li><li id="236f" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">一个沙盒帐户，开发者可以在这里玩和试验AWS服务</li><li id="aaea" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">用于网络安全团队的安全帐户，对日志和其他安全服务具有只读访问权限。</li><li id="b8d9" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">一个共享服务帐户，遵循跨帐户使用的服务的中心辐射模型，例如日志存储、网络等。</li></ul><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/805ba655e4730062411f264166e35070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l4XWO5-UUJLEZORq.png"/></div></div></figure><p id="aa2a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">可以想象，管理和保护这种多帐户设置的复杂性很快就成为团队管理的一件苦差事。安全团队希望确保治理控制或防护栏存在并集中管理，例如允许开发人员在沙盒帐户中进行管理访问，但在另一个帐户中进行只读访问。</p><p id="a1e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">以前的<a class="ae kz" href="https://aws.amazon.com/organizations/" rel="noopener ugc nofollow" target="_blank"> AWS组织</a>是实现这一点的一个很好的方式，客户可以创建组织单位(ou)来按其特定功能对AWS帐户进行分组，并对其应用规则(类似于Active Directory的工作方式)。虽然AWS组织过去(现在)令人惊叹，但它仍然需要大量的手动工作来完成，这就是AWS控制塔的用武之地。</p><h1 id="2198" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">AWS控制塔前来救援！</h1><p id="b0a6" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated"><strong class="kd iu">什么是控制塔？简单来说:</strong></p><p id="7a71" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">AWS控制塔是一种安全产品，它简化并自动化了许多之前讨论过的活动，并提供了一个按照安全最佳实践配置的<em class="mv">现成的多帐户AWS环境。</em></p><p id="4d30" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如上所述，AWS控制塔是设置和保护多帐户AWS环境(称为着陆区)的最快和最简单的方法。。它在幕后使用AWS组织，但自动化了许多流程并隐藏了复杂性。它是由AWS根据他们在云中保护成千上万客户的经验构建的，只需在控制台上点击几下就可以进行配置！</p><p id="a737" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您是保护多个AWS帐户的新手，那么Control Tower绝对是一个很好的起点，因为您会安心，因为您知道环境从第一天起就符合最佳实践</p><h1 id="dc6a" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">自动气象站控制塔的特点和优点</strong></h1><p id="a14b" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">当您选择启用AWS控制塔时；您会得到以下内容:</p><p id="5200" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">着陆区:控制塔将创建一个符合最佳实践的预先配置的多账户环境。</p><p id="4201" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Guardrails </strong>:关注安全性和合规性的自动化策略控制。预防性护栏将停止部署不符合策略的资源(例如，“在所有帐户中启用AWS CloudTrail”)。检测护栏(例如，“检测是否允许对亚马逊S3存储桶的公共读取访问”)将警告不合规情况</p><p id="da7f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">组织单元</strong>:用于对账户进行分组治理。ou上实施护栏(类似于活动目录策略)</p><p id="44fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">帐户工厂</strong>:用于创建新帐户或注册您现有的AWS帐户</p><p id="7185" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">单点登录(SSO)目录:</strong>SSO目录已设置，因此您可以使用一个身份登录多个AWS帐户，而不是使用多个AWS用户</p><p id="0cb6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，您将获得一个管理控制面板，以查看您的帐户遵守已安装的防护栏的情况。所有这一切只需点击一个按钮！</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d578f86ce63504cf464218e0505365b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*687r-VaV4T5St95l.png"/></div></div></figure><h1 id="71d3" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">发射控制塔:</h1><p id="7489" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">当您部署AWS控制塔时，它会创建三个帐户:管理帐户、审核帐户和日志归档帐户。</p><ul class=""><li id="95b0" class="mh mi it kd b ke kf ki kj km mj kq mk ku ml ky mm mn mo mp bi translated">管理帐户—顾名思义，这是一个共享帐户，用于计费、通过帐户工厂提供帐户以及管理ou和guardrails。</li><li id="4cf0" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">具有两个共享帐户的安全性OU</li><li id="a35f" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">审核帐户—根据AWS <em class="mv">“审核帐户是一个受限帐户，旨在为您的安全和合规团队提供对您登录区内所有帐户的读写权限。从审计帐户，您可以通过编程访问审查帐户</em></li><li id="68e2" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">日志归档帐户—根据AWS <em class="mv">“此帐户作为存储库，存储登录区中所有帐户的API活动和资源配置的日志”</em></li><li id="1eb4" class="mh mi it kd b ke mq ki mr km ms kq mt ku mu ky mm mn mo mp bi translated">沙盒OU —这将用于启动您的工作负载和使用AWS服务</li></ul><p id="10fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，您的AWS帐户结构大致如下所示:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/7d4fbe5b3ccfad2f11d22060afd2a58f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/0*NxDiwkXkeewYltKV.png"/></div></figure><p id="f51b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一旦启动并提供了上述内容，大多数组织将创建更多AWS帐户以实现更好的治理，使用AWS帐户工厂变得非常容易。您可能会得到如下所示的结构:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/9d5d8700d8022c78033a7a48ce90ae2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TqQ6xdtJpBvsL5LK.png"/></div></div></figure><h1 id="7dd3" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">如何发射控制塔</h1><p id="02a1" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">部署非常简单，只需在控制台搜索中键入if Control Tower，这将带您进入服务页面，然后单击设置着陆区:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/40ab31c306d343c50e978f4b90e49710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uKhI9GJG6Iqb-0QB.png"/></div></div></figure><p id="c023" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您通常可以使用默认部分，然后单击下一步:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/28c7f4048ca04ce7f2e766fab96282ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SK4Xy0APEtSm8iTB.png"/></div></div></figure><p id="efaa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">同下一页。</p><p id="70fb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您愿意，可以更改安全和沙盒ou的名称，但我不建议这样做</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/126ff9ca82cc654d53e055eae3abec8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T3g2PulgjsHrstVJ.png"/></div></div></figure><p id="0a9e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在步骤4中，为您的日志归档和审计帐户选择电子邮件</p><p id="bf1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">(通常这是安全团队的电子邮件，并且必须是唯一的)</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/443549b41f50035725b28ee949416b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*b2yWbBkwUGxlgBG5.png"/></div></div></figure><p id="04c1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">单击最后一个屏幕上的复选框，表示您了解AWS控制塔将执行的操作:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7fa33e3374c224eb0777420184c9183a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8rHZ4bB9OvimSZ2r.png"/></div></div></figure><p id="4c2c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">单击“确定”后，AWS将开始部署AWS控制塔。通常需要大约30分钟的时间来准备好一切，并留意管理、日志存档和审计帐户上的电子邮件。您还会收到注册AWS单点登录的电子邮件。</p><p id="9502" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要记住的一点是，AWS控制塔是免费的，但它部署的服务不是如AWS配置，CloudTrail，S3，简单通知服务(SNS)等。您将根据您使用的内容付费，您可以在这里查看<a class="ae kz" href="https://aws.amazon.com/controltower/pricing/" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="d6eb" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">AWS控制塔是正确的选择</h1><p id="03e3" class="pw-post-body-paragraph kb kc it kd b ke ly kg kh ki lz kk kl km ma ko kp kq mb ks kt ku mc kw kx ky im bi translated">到现在为止，我希望你明白为什么我这么喜欢AWS控制塔，以及它提供的实际好处。如果您是一家大型企业，打算大规模使用AWS，那么Control Tower是确保您的环境从第一天起就有一个安全基础的绝佳方式。</p><p id="7c9d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它还为业务团队提供了一种从Account Factory快速配置新AWS帐户的简单方法，同时安全团队可以放心，因为他们知道帐户将预先配置有安全最佳实践。</p><p id="c50b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如我多次提到的，安全自动化是云的主要优势之一，AWS控制塔是实现这一点的最佳服务之一。</p><p id="e1bb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">祝你的AWS控制塔之旅好运！</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/25fd4e15f5367afff2f587b62746a02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nj4vGa6AX9da0Dcv.png"/></div></div></figure><blockquote class="mz na nb"><p id="80d2" class="kb kc mv kd b ke kf kg kh ki kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx ky im bi translated"><em class="it"> Taimur Ijlal是一位</em> <strong class="kd iu"> <em class="it">多次获奖的信息安全领导者</em> </strong> <em class="it">，在金融科技行业的网络安全和IT风险管理方面拥有20多年的国际经验。可以在</em><a class="ae kz" href="https://www.linkedin.com/in/taimurijlal/" rel="noopener ugc nofollow" target="_blank"><em class="it">LinkedIn</em></a><em class="it">上或者在他的</em> <a class="ae kz" href="https://cloudsec-guy.com/" rel="noopener ugc nofollow" target="_blank"> <em class="it">博客</em> </a> <em class="it">上连接Taimur。他还有一个YouTube频道“</em> <a class="ae kz" href="https://www.youtube.com/c/CloudSecurityGuy" rel="noopener ugc nofollow" target="_blank"> <em class="it">”云安全专家</em> </a> <em class="it">”，他定期在上面发布关于云安全、人工智能和一般网络安全职业建议的帖子。</em></p><p id="d726" class="kb kc mv kd b ke kf kg kh ki kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx ky im bi translated"><strong class="kd iu">如果你喜欢读这篇文章，那么考虑支持我，使用这个</strong> <a class="ae kz" href="https://taimurcloud123.medium.com/membership" rel="noopener"> <strong class="kd iu">链接</strong> </a>成为一个中等会员</p></blockquote></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h2 id="23f7" class="nm lb it bd lc nn no dn lg np nq dp lk km nr ns lo kq nt nu ls ku nv nw lw nx bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae kz" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>