<html>
<head>
<title>Getting started with XSS: Cross-Site Scripting Attacks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">XSS入门:跨站点脚本攻击</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/getting-started-with-xss-cross-site-scripting-attacks-822c82b7cd82?source=collection_archive---------2-----------------------#2021-02-13">https://infosecwriteups.com/getting-started-with-xss-cross-site-scripting-attacks-822c82b7cd82?source=collection_archive---------2-----------------------#2021-02-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2665" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从XSS开始，为了得到那些关键的错误- CSRF，SSRF，RCE。大多数情况下，XSS缺陷是漏洞被利用并升级为关键发现的原因。</p><p id="71cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，也是最重要的，结构:我们将从学习XSS的基础知识开始，然后:你应该知道的事情——一个浏览器和网站如何运行，之后:XSS的类型——理解有影响力的XSSs ’,最后:XSS在Bug狩猎。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/7f92f038a9f656ab882140cc31054e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*rLMDWY0Hz_ITXFLN"/></div></figure><h1 id="a724" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">什么是XSS？</h1><p id="34fb" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我知道你知道。但是你知道吗，你不知道的是什么？XSS是一种跨站点脚本攻击，对于安全测试人员来说是一种非常基本的攻击。但是，重读(或跳过)也没什么坏处。记住- <strong class="jp ir">学习，忘记&amp;重新学习</strong>。所以，在这里。</p><p id="0e07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">跨站脚本(XSS)攻击是<strong class="jp ir">注入</strong>的一种，在这种攻击中，恶意的<strong class="jp ir">脚本被注入</strong>原本良性且可信的网站。当攻击者使用web应用程序向不同的最终用户发送恶意代码(通常是浏览器端脚本的形式)时，就会发生XSS攻击。允许这些攻击成功的缺陷非常普遍，并且出现在web应用<strong class="jp ir">在其生成的输出<strong class="jp ir">中使用来自用户</strong>的输入而没有验证或编码</strong>它— OWASP的任何地方。</p><p id="a7c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">XSS在OWASP Top 10(2017)A7:2017-跨站脚本(XSS)中排名<strong class="jp ir">第七。这并不是说，XSS现在不常见，而是事实上其他漏洞已经获得了优先权。</strong></p><p id="b2a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，自动化工具可以自动发现一些XSS问题，特别是在诸如PHP、J2EE / JSP和ASP.NET等成熟技术中。—进入白盒/灰盒测试。</p><blockquote class="lw lx ly"><p id="a2e9" class="jn jo lz jp b jq jr js jt ju jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简单来说:</em> </strong>如果你能控制JavaScript，一个典型的网站功能就在上面。那么，XSS是一个可能性。</p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/21807698433da2ba210ec9d0994a27ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*hzklTkk_yAurh8dW"/></div></figure><h1 id="44f2" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">浏览器和网站如何运作？</h1><p id="0f34" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">在深入潜水之前，重要的是要掌握好基础知识。</p><p id="5a98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们知道这个世界运行在一些基本的规则、原则上，让我们免于浩劫。同样，互联网如此，浏览器和网站也是如此。</p><p id="8eb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浏览器和网站在一定的规则下共存。为了清楚地了解缺陷的安全影响，您应该知道下面提到的一些规则:</p><h2 id="7e7f" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">1.同源政策- SOP</h2><p id="fd26" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">同源策略是一个关键的安全机制，它限制了从一个源加载的文档或脚本如何与另一个源的资源交互。它有助于隔离潜在的恶意文档，减少可能的攻击媒介——Mozilla。</p><p id="f9de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">"限制互动的限制性政策."</p><blockquote class="lw lx ly"><p id="9818" class="jn jo lz jp b jq jr js jt ju jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简单来说:</em> </strong>服务器为一个浏览器定义规则，在这个规则中，Website1可以与Website2进行交互。</p></blockquote><h2 id="dae4" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated"><strong class="ak"> 2。跨产地资源共享- </strong> CORS</h2><p id="33f6" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">CORS是一种基于HTTP头的机制，它允许服务器指出除了它自己以外的任何其他来源(域、方案或端口),浏览器应该允许从这些来源加载资源——Mozilla。</p><p id="c9a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">" SOP中的放松，便于与可信来源进行互动."</p><blockquote class="lw lx ly"><p id="a778" class="jn jo lz jp b jq jr js jt ju jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简单来说:</em></strong><strong class="jp ir"/>是HTTP头，是服务器发送的，用来状态浏览器，哪些网站在它的好友列表/允许列表中。</p></blockquote><h2 id="f9f1" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">3.跨站点请求伪造令牌- CSRF令牌</h2><p id="bf59" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">为了防止跨源写入，在请求中添加了一个不可访问的令牌，称为跨站点请求伪造(CSRF)令牌。您必须防止对需要CSRF令牌的页面进行跨源读取。</p><blockquote class="lw lx ly"><p id="f5a6" class="jn jo lz jp b jq jr js jt ju jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简单来说:</em> </strong> CSRF令牌是——一次性使用的、不可预测的(随机的)长(至少- 16字节/128位)令牌(值/密钥)，由服务器生成(不受用户控制)——交给浏览器执行单个任务。</p></blockquote><h2 id="6e6b" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">4.HTTP Cookie</h2><p id="2c88" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">HTTP cookie (web cookie，浏览器cookie)是服务器发送给用户的web浏览器的一小段数据。浏览器可以存储它并将其与稍后的请求一起发送回同一个服务器。通常，它用于判断两个请求是否来自同一个浏览器——例如，保持用户登录。它会记住无状态HTTP协议(Mozilla)的有状态信息。</p><blockquote class="lw lx ly"><p id="5ac0" class="jn jo lz jp b jq jr js jt ju jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简而言之:</em> </strong> Cookie通常是你的凭证(用户名&amp;密码)的替代品，服务器将这些凭证来回发送给浏览器，以提醒他某个特定的会话(HTTP-一种无状态协议，在每次请求后，它会忘记你是谁&amp;你想从他那里得到什么)并跟踪所执行的活动。</p></blockquote><h2 id="999d" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">5.HTTPOnly -Set-Cookie</h2><p id="fcda" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">HttpOnly是一个包含在Set-Cookie HTTP响应头中的<em class="lz">附加标志</em>。在生成cookie时使用HttpOnly标志有助于降低客户端脚本访问受保护cookie的风险。<strong class="jp ir">该属性指定不能通过脚本访问cookie。</strong>通过使用HTTP-only cookie，网站消除了cookie中包含的敏感信息随脚本发送到黑客的计算机或网站的可能性。在客户机上设置了一个带有HTTP响应头的cookie。</p><p id="7da8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“将cookie标记为httpOnly会禁止JavaScript访问它，从而保护它不被发送给第三方。但是，即使在这种情况下，也可以使用TRACE方法绕过这种保护并访问cookie。-OWASP</p><p id="5419" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">异常:</strong>如果应用程序允许HTTP-method: TRACE。跨站点跟踪(XST)仍然是一种可能性，尽管有标志Set-Cookie HTTPOnly，Cookie仍然可能被窃取。"</p><blockquote class="lw lx ly"><p id="f4da" class="jn jo lz jp b jq jr js jt ju jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简单来说:</em> </strong> HTTPOnly属性指定cookie不能通过脚本访问，只能通过HTTP头访问。</p></blockquote><p id="c264" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>使用上述单独的技术是不够的，但是，当一起使用时，可以减轻跨站点脚本的风险。单独使用时，它们不能完全消除跨站点脚本的危险。</p><p id="1be8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浏览器还可以使用其他一些规则来实现安全通信。但是，这里我们限制了XSS规则的范围。</p><p id="402d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们知道了什么是XSS，以及浏览器和网站是如何根据一定的规则运行的。让我们进一步讨论XSS和重要XSS在Bug搜索中的类型。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/3a311f2ae7bca7d6b1fe1685ebb4eb29.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*lYnI3d2OwSSsFDBk"/></div></figure><h2 id="b6dd" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">XSS的类型(一般):</h2><ol class=""><li id="70ff" class="mp mq iq jp b jq lr ju ls jy mr kc ms kg mt kk mu mv mw mx bi translated">反射XSS-您的有效载荷影响您/登录用户*</li><li id="5866" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">存储的XSS-您的有效负载-影响其他用户' *</li><li id="5492" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">多姆XSS-您的有效负载由易受攻击的文档对象模型处理*</li><li id="7086" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">盲目的XSS-狡猾地得到你的注射有效载荷的结果*</li><li id="794b" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">自我XSS-不在bug搜索范围内(或低影响/信息)</li><li id="7d5d" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">基于闪存的XSS-过时了(闪存已经死了)</li></ol><p id="2eab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">*(在寻找漏洞方面很重要——因为可能会产生严重影响——CSRF、SSRF和RCE。)</p><h1 id="a213" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">XSS在捕虫:</h1><p id="fa22" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我们将讨论以下XSS类型，它们与寻找Bug的角度相关:</p><ol class=""><li id="50c0" class="mp mq iq jp b jq jr ju jv jy nd kc ne kg nf kk mu mv mw mx bi translated">反光XSS</li><li id="5a9b" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">存储的XSS</li><li id="1c34" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">多姆XSS</li><li id="7c3c" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">盲人XSS</li></ol><h2 id="3430" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">1.反射XSS攻击</h2><p id="59e7" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">反射攻击是那些注入的脚本被web服务器反射的攻击，例如在错误消息、搜索结果或任何其他响应中，包括作为请求的一部分发送给服务器的部分或全部输入。反射的攻击通过另一种途径传递给受害者，比如通过电子邮件或者其他网站。当<strong class="jp ir">用户被诱骗点击恶意链接上的</strong>，提交特制的表单，甚至只是浏览恶意网站时，<strong class="jp ir">注入的代码会传播到易受攻击的网站，从而将攻击反射回用户的浏览器</strong>。然后浏览器执行代码，因为它来自一个“可信的”服务器。反射XSS有时也被称为非持续性或二型XSS。</p><p id="5684" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">反射XSS攻击通常需要社会工程技巧来传递影响。</p><h2 id="5133" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">2.存储的XSS</h2><p id="a7fb" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">存储攻击是指<strong class="jp ir">注入脚本永久存储在目标服务器</strong>上的攻击，例如存储在数据库、消息论坛、访问者日志、评论栏等。然后<strong class="jp ir">受害者在请求存储的信息</strong>时从服务器检索恶意脚本。储存XSS有时也被称为持久性或I型XSS。</p><h2 id="fffd" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">存储XSS的经典示例:</h2><p id="25cb" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated"><strong class="jp ir"> Samy(电脑蠕虫)</strong>，由Samy Kamkar设计用于在社交网站<strong class="jp ir"> MySpace </strong>上传播。在其2005年10月4日发布的短短20小时内，超过100万用户运行了该有效载荷，使Samy成为有史以来传播最快的病毒。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/c21647a46d662a245f93b3988771d1c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*mURlSQLG8tGDFqfaIj1Bkg.png"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk translated">受害者资料上的信息</figcaption></figure><p id="ca8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">蠕虫本身相对无害；它携带了一个有效载荷，可以在受害者的MySpace个人资料页面上显示字符串“但最重要的是，萨米是我的英雄”，并向萨米发送好友请求。当用户查看该个人资料页面时，有效负载将被复制并植入他们自己的个人资料页面，从而继续传播蠕虫。MySpace已经保护了自己的网站免受这一漏洞的影响。<a class="ae nl" href="https://en.wikipedia.org/wiki/Samy_(computer_worm)" rel="noopener ugc nofollow" target="_blank">阅读更多</a>。</p><h2 id="f353" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">3.多姆XSS</h2><p id="d8d7" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">基于DOM的XSS(或在某些文本中称为“0型XSS”)是一种XSS攻击，其中<strong class="jp ir">攻击有效负载是由于修改了受害者浏览器</strong>中由原始客户端脚本使用的DOM“环境”而执行的。以便客户端代码以“意外”的方式运行。也就是说，<strong class="jp ir">页面本身(HTTP响应)没有改变，但是页面中包含的客户端代码由于DOM </strong>环境中发生的恶意修改而以不同的方式执行。</p><p id="b4d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这与其他XSS攻击(存储或反射)形成对比，在其他攻击中，攻击有效负载被放在响应页面上(由于服务器端缺陷)。</p><p id="69c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一定要检查元素并注意DOM源和接收器。</p><p id="69df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在寻找基于DOM的XSS时，请留意DOM对象，如:</p><ol class=""><li id="f376" class="mp mq iq jp b jq jr ju jv jy nd kc ne kg nf kk mu mv mw mx bi translated">来源</li><li id="2540" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">水槽</li></ol><p id="e733" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检查你的输入/有效载荷是否能控制输出。</p><p id="0894" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">来源—您输入的内容。</p><p id="8eee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nm nn no np b">document.url<br/>document.documentURI<br/>document.URLUnencoded<br/>document.baseURI<br/>document.referrer<br/>location<br/>location.href<br/>loaction.search<br/>location.hash<br/>location.pathname<br/>window.cookie<br/>window.referrer<br/>window.name</code></p><p id="aae7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接收器——你的输入被反射回来的地方。</p><p id="9030" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nm nn no np b">element.innerHTML()<br/>element.outerHTML()<br/>eval()<br/>setTimeout()<br/>setInterval()<br/>documemt.write()<br/>document.writeln()</code></p><h2 id="a6c2" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">4.盲人XSS</h2><p id="5182" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">盲XSS漏洞属于持久性XSS漏洞。当攻击者注入的有效载荷被web服务器保存并作为恶意脚本在应用程序的另一个组件或完全不同的应用程序中执行时，这些漏洞就会出现。</p><h2 id="ad25" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">例如:</h2><p id="9983" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">攻击者向联系/反馈页面中注入恶意有效载荷，当应用程序的管理员查看反馈条目时，攻击者的有效载荷将被加载。攻击者的输入可以在一个完全不同的应用程序中执行，它可以是一个内部应用程序，管理员可以在其中查看访问日志或应用程序异常。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/bb7f81c356f5605cff4fac3abb72b4f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*oFqoOTqf5N3asrVh"/></div></figure><p id="5da1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，上述XSS种类可以进一步分为两类:</p><ol class=""><li id="a6f0" class="mp mq iq jp b jq jr ju jv jy nd kc ne kg nf kk mu mv mw mx bi translated">服务器XSS</li><li id="b2a0" class="mp mq iq jp b jq my ju mz jy na kc nb kg nc kk mu mv mw mx bi translated">客户XSS</li></ol><h1 id="ad13" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">服务器XSS</h1><p id="1cb0" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">当不受信任的用户提供的数据包含在由服务器生成的HTTP响应中时，服务器XSS <strong class="jp ir">发生。该数据的来源可以来自请求，也可以来自存储位置。因此，您可以同时拥有反射服务器XSS和存储服务器XSS。</strong></p><p id="2bb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这种情况下，<strong class="jp ir">整个漏洞都在服务器端代码中，浏览器只是呈现响应</strong>并执行嵌入其中的任何有效脚本。</p><h1 id="cab2" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">客户XSS</h1><p id="5750" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">当不可信的用户提供的数据被用于通过不安全的JavaScript调用更新DOM时，就会发生客户端XSS <strong class="jp ir">。如果一个JavaScript调用可以用来将有效的JavaScript引入DOM，那么它就被认为是不安全的。这个数据源可能来自DOM，也可能是由服务器发送的(通过AJAX调用或页面加载)。数据的最终来源可能来自请求，也可能来自客户机或服务器上的存储位置。因此，您可以同时拥有反射客户端XSS和存储客户端XSS。</strong></p><p id="c93e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">基于DOM的XSS只是客户端XSS的一个子集，数据源在DOM中的某个地方，而不是来自服务器。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/bd2c843576cd771a64d80bc6a21389bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*1IkDWgsWWiTel5RW"/></div></figure><h2 id="6363" class="md ku iq bd kv me mf dn kz mg mh dp ld jy mi mj lh kc mk ml ll kg mm mn lp mo bi translated">备忘单:</h2><p id="7cc6" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">现在，我们已经了解了XSS的基本情况。我们准备升级攻击。参考下面的备忘单，可以帮助绕过常见的WAFs和过滤器。</p><div class="nr ns gp gr nt nu"><a href="https://portswigger.net/web-security/cross-site-scripting/cheat-sheet" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">跨站点脚本(XSS)备忘单- 2021版|网络安全学院</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">这个跨站点脚本(XSS)备忘单包含许多可以帮助你绕过WAFs和过滤器的向量。你可以…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">portswigger.net</p></div></div><div class="od l"><div class="oe l of og oh od oi kr nu"/></div></div></a></div><div class="nr ns gp gr nt nu"><a href="https://owasp.org/www-community/xss-filter-evasion-cheatsheet" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">XSS滤波规避备忘单</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">OWASP基金会的主要网站上的XSS过滤器规避小抄。OWASP是一个非营利基金会，致力于…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">owasp.org</p></div></div><div class="od l"><div class="oj l of og oh od oi kr nu"/></div></div></a></div></div></div>    
</body>
</html>