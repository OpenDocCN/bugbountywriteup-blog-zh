<html>
<head>
<title>Serial Communication with Raspberry Pi Pico in Windows 10/11 via WSL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过WSL与Windows 10/11中的Raspberry Pi Pico进行串行通信</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/serial-communication-with-raspberry-pi-pico-in-windows-10-11-via-wsl-50f93e29e2cb?source=collection_archive---------0-----------------------#2022-05-30">https://infosecwriteups.com/serial-communication-with-raspberry-pi-pico-in-windows-10-11-via-wsl-50f93e29e2cb?source=collection_archive---------0-----------------------#2022-05-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="20ce" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">树莓派皮可</h1><blockquote class="kl km kn"><p id="b383" class="ko kp kq kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">“Raspberry Pi Pico是一款具有灵活数字接口的低成本、高性能微控制器板”~<a class="ae ln" href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html" rel="noopener ugc nofollow" target="_blank">Raspberry Pi . com/documentation/microcontrollers/Raspberry-Pi-Pico</a></p></blockquote><p id="e9f0" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">微控制器可以用<a class="ae ln" href="https://micropython.org/" rel="noopener ugc nofollow" target="_blank"> MicroPython </a>或C/C++编程。更多信息，查看<a class="ae ln" href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html" rel="noopener ugc nofollow" target="_blank">官网</a>。</p><h1 id="2d27" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">设置wsl</h1><p id="f2cc" class="pw-post-body-paragraph ko kp iq kr b ks lr ku kv kw ls ky kz lo lt lc ld lp lu lg lh lq lv lk ll lm ij bi translated">如果您还没有，请按照微软官方指南在您的Windows 10/11机器中设置WSL:</p><div class="lw lx gp gr ly lz"><a href="https://docs.microsoft.com/en-us/windows/wsl/install" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">安装WSL</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">本指南将向您展示如何安装Linux发行版(如Ubuntu、OpenSUSE、Kali、Debian、Arch Linux和…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">docs.microsoft.com</p></div></div><div class="mi l"><div class="mj l mk ml mm mi mn mo lz"/></div></div></a></div><h2 id="1ba8" class="mp jo iq bd jp mq mr dn jt ms mt dp jx lo mu mv kb lp mw mx kf lq my mz kj na bi translated">将WSL降级到版本1 ⬇️</h2><p id="69f0" class="pw-post-body-paragraph ko kp iq kr b ks lr ku kv kw ls ky kz lo lt lc ld lp lu lg lh lq lv lk ll lm ij bi translated">出于某种原因，与minicom的串行通信在WSL版本2中不工作，因此我们需要将我们的WSL实例降级到版本1。</p><p id="17ad" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">首先通过<code class="fe nb nc nd ne b">wsl --list -v</code>检查您的WSL容器版本号是多少:</p><figure class="ng nh ni nj gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nf"><img src="../Images/216f2eaf01c6c2aa261ccf2ff9214b44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cqCRAHjr0BM0Swf75zc4hQ.png"/></div></div></figure><p id="ccfa" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">如果<code class="fe nb nc nd ne b">VERSION</code>下面的数字是<code class="fe nb nc nd ne b">2</code>，可以通过-将其转换回版本1</p><p id="7033" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated"><code class="fe nb nc nd ne b">wsl --set-version &lt;DISTRO_NAME&gt; &lt;TARGET_VERSION&gt;</code></p><figure class="ng nh ni nj gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nq"><img src="../Images/2f8523005e1cfc8171af779d5320efd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iUWWfLB8FKu3Dyy37rE43A.png"/></div></div></figure><p id="292c" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">通过<code class="fe nb nc nd ne b">wsl --list -v</code>再次检查版本:</p><figure class="ng nh ni nj gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nr"><img src="../Images/05b27b0067b4014c8e59435d444ca099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1irJhpDesv17UIGANJ0BVA.png"/></div></div></figure><p id="855d" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">现在，我们可以看到我们的Ubuntu-20.04容器被设置为版本1，我们可以继续下一步。</p><h2 id="a0e2" class="mp jo iq bd jp mq mr dn jt ms mt dp jx lo mu mv kb lp mw mx kf lq my mz kj na bi translated">安装minicom</h2><blockquote class="kl km kn"><p id="9715" class="ko kp kq kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Minicom是一个基于文本的串口通信程序。它用于与外部RS-232设备对话，如移动电话、路由器和串行控制台端口。~<a class="ae ln" href="https://help.ubuntu.com/community/Minicom" rel="noopener ugc nofollow" target="_blank">https://help.ubuntu.com/community/Minicom</a></p></blockquote><p id="c5d1" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">在您的终端中启动WSL实例，并键入<code class="fe nb nc nd ne b"><strong class="kr ir">sudo apt-get update &amp;&amp; sudo apt-get install minicom</strong></code> <strong class="kr ir"> </strong>来安装minicom。我们不需要配置任何东西，因为我们的串行连接是虚拟的，因此它不受波特率和其他设置的限制。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="f64b" class="jn jo iq bd jp jq nz js jt ju oa jw jx jy ob ka kb kc oc ke kf kg od ki kj kk bi translated">与Pico的通信💡</h1><p id="2d9b" class="pw-post-body-paragraph ko kp iq kr b ks lr ku kv kw ls ky kz lo lt lc ld lp lu lg lh lq lv lk ll lm ij bi translated">要与raspberry Pi Pico进行通信，请确保MicroPython图像被闪存到板上，并通过正确的USB电缆连接到计算机。<em class="kq">了解如何将micropython flash到Pico </em> <a class="ae ln" href="https://github.com/Saket-Upadhyay/PiPicoRFID/raw/main/docs/raspberry-pi-pico-python-sdk.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="kr ir"> <em class="kq">阅读本文档</em> </strong> </a> <em class="kq">。</em></p><h2 id="8487" class="mp jo iq bd jp mq mr dn jt ms mt dp jx lo mu mv kb lp mw mx kf lq my mz kj na bi translated">寻找虚拟串行端口</h2><p id="4b28" class="pw-post-body-paragraph ko kp iq kr b ks lr ku kv kw ls ky kz lo lt lc ld lp lu lg lh lq lv lk ll lm ij bi translated">将pico连接到您的Windows主机后，您需要找到它所连接的虚拟串行端口。在PowerShell中运行以下命令来查找COM端口。</p><figure class="ng nh ni nj gt nk"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="ng nh ni nj gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi og"><img src="../Images/65970078cfe220a4fc486549f2a92943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ph1Ec8gdyZRgW9s4d5hnEw.png"/></div></div></figure><p id="b2ac" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">在这种情况下，端口是<code class="fe nb nc nd ne b">COM3</code>，它将转换为WSL内部的<code class="fe nb nc nd ne b">/dev/ttyS3</code>。这个关系也可以用— <code class="fe nb nc nd ne b">COM(<strong class="kr ir">ɳ</strong>) -&gt; /dev/ttyS(<strong class="kr ir">ɳ</strong>) [<strong class="kr ir">∀ ɳ∈<em class="kq">N</em></strong>]</code> <strong class="kr ir">来表示。</strong></p><h2 id="8fe9" class="mp jo iq bd jp mq mr dn jt ms mt dp jx lo mu mv kb lp mw mx kf lq my mz kj na bi translated">通过minicom连接</h2><p id="154f" class="pw-post-body-paragraph ko kp iq kr b ks lr ku kv kw ls ky kz lo lt lc ld lp lu lg lh lq lv lk ll lm ij bi translated">一旦知道了COM端口号，我们就可以打开我们的WSL实例，并通过将<code class="fe nb nc nd ne b">ttyS3</code>替换为相应COM端口的<code class="fe nb nc nd ne b"><strong class="kr ir">ɳ</strong></code> <strong class="kr ir"> </strong>来启动与<code class="fe nb nc nd ne b"><strong class="kr ir">minicom -D /dev/ttyS3</strong></code> <strong class="kr ir"> </strong>的连接。连接后，按<code class="fe nb nc nd ne b">CTRL+D</code>启动软重启，然后按<code class="fe nb nc nd ne b">CTRL+B</code>退出到MicroPython实例。</p><figure class="ng nh ni nj gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi oh"><img src="../Images/65569b8b67c45f2e66eb9cf07775b806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pDBF6qER2jV6poSdd1ld_g.png"/></div></div></figure><p id="2a63" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">干杯！现在，您可以开始在Micro Python中与设备进行交互🐍。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="d1c1" class="pw-post-body-paragraph ko kp iq kr b ks kt ku kv kw kx ky kz lo lb lc ld lp lf lg lh lq lj lk ll lm ij bi translated">参考文献-</p><div class="lw lx gp gr ly lz"><a href="https://github.com/Saket-Upadhyay/PiPicoRFID" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">GitHub-Saket-Upadhyay/pipi corfid:代码和修改后的库，用于读取/写入MIFARE RFID中的数据…</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">使用Raspberry Pi Pico微控制器读取/写入MIFARE RFID卡和令牌中的数据的代码和修改库…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">github.com</p></div></div><div class="mi l"><div class="oi l mk ml mm mi mn mo lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a href="https://help.ubuntu.com/community/Minicom" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">迷你通讯</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">Minicom是一个基于文本的串口通信程序。它用于与外部RS-232设备对话，如…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">help.ubuntu.com</p></div></div></div></a></div><div class="lw lx gp gr ly lz"><a href="https://micropython.org/" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd ir gy z fp me fr fs mf fu fw ip bi translated">用于微控制器的MicroPython - Python</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">MicroPython是Python 3编程语言的一个精简而高效的实现，它包含了…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">micropython.org</p></div></div><div class="mi l"><div class="oj l mk ml mm mi mn mo lz"/></div></div></a></div></div></div>    
</body>
</html>