<html>
<head>
<title>TryHackMe: Basic Pentesting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe:基本测试</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/thm-basic-pentesting-39b7271cf802?source=collection_archive---------2-----------------------#2021-11-24">https://infosecwriteups.com/thm-basic-pentesting-39b7271cf802?source=collection_archive---------2-----------------------#2021-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="b57b" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">介绍</h1><p id="e232" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">大家好。！拿着我的第一份走查报告。所以请忽略任何错误和语法/拼写，lol XD。</p><p id="71c8" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">因为这是我人生中的第一个CTF，所以我决定从YouTube上看一些教程。我知道约翰·哈蒙德上传了他们的视频。所以我跳到那里写&amp;，看了几个，这样当我看的时候，我就不记得他是怎么解决的了。我在看了3-4天的视频后尝试了一下。但我确实记得一些关键点。</p><h2 id="d640" class="lp jo iq bd jp lq lr dn jt ls lt dp jx kw lu lv kb la lw lx kf le ly lz kj ma bi translated">不取则长，所以二话没说，让我们根入<strong class="ak"> <em class="mb">根入</em> </strong></h2><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mc"><img src="../Images/309503ca8d7937a0cc5deff73184d3b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B7aK716mrvMveoc90oxcWg.png"/></div></div></figure><h1 id="df76" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">Web应用程序测试和权限提升</h1><p id="5102" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">所以首先对于初始/第一阶段，让我们从每个人开始的事情开始:<strong class="kn ir"> Nmap </strong></p><pre class="md me mf mg gt mo mp mq mr aw ms bi"><span id="d637" class="lp jo iq mp b gy mt mu l mv mw">nmap -sC -sV -oN nmap &lt;ip&gt;</span></pre><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mx"><img src="../Images/1acfb3e1917c12f5565bfb70a395aef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k46YTcHX3ixwsWzryEMGmQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">不好意思，忘了拿nmap ssp</figcaption></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="d1b4" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">现在到了一些<strong class="kn ir">目录蛮</strong>强迫的时候了:</p><pre class="md me mf mg gt mo mp mq mr aw ms bi"><span id="5a4a" class="lp jo iq mp b gy mt mu l mv mw">gobuster dir -w &lt;wordlist&gt; -u &lt;ip&gt;</span></pre><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nj"><img src="../Images/8b02ea9bca33a5269d85f1af968b731f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Ie6mkF8Sx9APO2PekRDGg.png"/></div></div></figure><p id="b75d" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如您所见，有一个名为'<strong class="kn ir"> development </strong>的目录。</p><p id="ef26" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">查了一下后，似乎没什么用，不如我们再进一步。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="3165" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">现在让我们<strong class="kn ir">扫描</strong>主机:为了扫描，我使用<strong class="kn ir"> enum4linux </strong>(是的，我确实记得以前的视频XD)</p><pre class="md me mf mg gt mo mp mq mr aw ms bi"><span id="dec0" class="lp jo iq mp b gy mt mu l mv mw">enum4linux -a &lt;ip&gt; | tee enum4linux.txt</span></pre><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nk"><img src="../Images/dae3fdf08fceb64b518a3b76d488724b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z22rxx2Hxm_Mz1-RprPlfw.png"/></div></div></figure><p id="f5c7" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">结果，我们找到了两个用户。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="c884" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">知道用户名后，你会怎么做？</p><p id="faaf" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">是的，我也这么做了:<strong class="kn ir">暴力强制。</strong>所以我用九头蛇做了同样的事情</p><pre class="md me mf mg gt mo mp mq mr aw ms bi"><span id="08dd" class="lp jo iq mp b gy mt mu l mv mw">hydra -p jan -P &lt;wordlist&gt; ssh://&lt;ip&gt;</span></pre><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nl"><img src="../Images/aea4a090f0f7892057ac11364e24cfa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AQyrN7PIyz7CwCn_STA4sg.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">宋承宪_一月</figcaption></figure><p id="dd8f" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">尝试连接…</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/37d8a25e059dcb851614be6290dd4381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*TR-G-0beplSn6N7ni8o5sA.png"/></div></figure><p id="a53b" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">在搜索了一些资料后，我们发现在/home目录下有另一个用户的目录，即kay。</p><p id="7845" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">环顾四周，没有发现任何有用的东西(但我记得这里一定有什么东西)。比我用<a class="ae lo" href="https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS" rel="noopener ugc nofollow" target="_blank"> linePEAS </a>(一个检测PrivEsc的工具)&amp;发现的这个:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/98575ff32aeee399437290c5389e7ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*XZrEKmRIkHeD-9d9BE39Fg.png"/></div></figure><p id="09a8" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">然后，我很快搜索相同的，并记得呀，我错过了这一点。</p><p id="7df0" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">快速复制了。ssh文件到本地机器，并尝试与用户“kay”连接</p><pre class="md me mf mg gt mo mp mq mr aw ms bi"><span id="47a6" class="lp jo iq mp b gy mt mu l mv mw">ssh -i id_rsa kay@&lt;ip&gt;</span></pre><p id="9440" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">现在它要求输入密码:(</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="df4c" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">为此，ssh2john将派上用场。</p><pre class="md me mf mg gt mo mp mq mr aw ms bi"><span id="1e6a" class="lp jo iq mp b gy mt mu l mv mw">-&gt; ssh2john id_rsa &gt; kayssh</span><span id="5b09" class="lp jo iq mp b gy no mu l mv mw">-&gt; john --wordlist=&lt;wordlist&gt; kayssh</span></pre><p id="6b13" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">还有沃利亚。！，我们找到了密码:</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi np"><img src="../Images/76ccee045336344a08f514b05e9555bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B8rWp2mN_C52Nucekvk_-A.png"/></div></div></figure><p id="8ee3" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">尝试登录……成功……恭喜！！</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nq"><img src="../Images/900178fca1c4f7918a333c74edc57707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8b3zCeL_1h3hFUohOR7Iuw.png"/></div></div></figure><p id="ecfa" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">这个房间就这些了。</p><p id="6ec4" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如果你喜欢这个，那就试试支持我的分享并鼓掌吧:)</p><p id="c676" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">结束，和平🤞</p><p id="35c0" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">| <a class="ae lo" href="https://tryhackme.com/room/basicpentestingjt" rel="noopener ugc nofollow" target="_blank">房间链接</a> | <a class="ae lo" href="http://twitter.com/namx05" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae lo" href="http://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a> |</p></div></div>    
</body>
</html>