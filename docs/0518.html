<html>
<head>
<title>Postman — HackTheBoxWriteup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">邮递员— HackTheBoxWriteup</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/postman-hacktheboxwriteup-6a184e272ba3?source=collection_archive---------1-----------------------#2020-03-15">https://infosecwriteups.com/postman-hacktheboxwriteup-6a184e272ba3?source=collection_archive---------1-----------------------#2020-03-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cd1f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Postman是一个易难度机器，其特征是在<a class="ae kf" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ak">【Redis】</strong></a><strong class="ak">、</strong>上执行未经授权的代码，破解加密的SSH密钥来获取用户。对于root用户，我们利用了存在密码重用的Webmin包更新漏洞。在附加部分中，我介绍了以root用户身份执行命令的另一种方法，并对密码更改功能进行了一些调整。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/80a588f0d062ea722ad6f81de47f7b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rpQNmrYov4pw7GloFr5QA.png"/></div></div></figure><p id="303d" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">由于忙于我的OSCP，我已经很久没有发表文章了。</p><p id="c856" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ku ir"> <em class="lo">更新2020年3月17日</em> </strong> <em class="lo">:我过了OSCP </em></p><h1 id="9d85" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">列举</h1><p id="9733" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi mm translated">像往常一样，让我们从Nmap扫描开始。</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="1b2a" class="na lq iq mw b gy nb nc l nd ne"><strong class="mw ir">22/tcp    open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)<br/>| ssh-hostkey: <br/>|   2048 46:83:4f:f1:38:61:c0:1c:74:cb:b5:d1:4a:68:4d:77 (RSA)<br/>|   256 2d:8d:27:d2:df:15:1a:31:53:05:fb:ff:f0:62:26:89 (ECDSA)<br/>|_  256 ca:7c:82:aa:5a:d3:72:ca:8b:8a:38:3a:80:41:a0:45 (ED25519)<br/>80/tcp    open  http    Apache httpd 2.4.29 ((Ubuntu))<br/>|_http-server-header: Apache/2.4.29 (Ubuntu)<br/>|_http-title: The Cyber Geek's Personal Website<br/>6379/tcp open  redis   Redis key-value store 4.0.9<br/>10000/tcp open  http    MiniServ 1.910 (Webmin httpd)<br/>|_http-title: Site doesn't have a title (text/html; Charset=iso-8859-1).<br/>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</strong></span></pre><h1 id="1d2b" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">80 — HTTP</h1><p id="a622" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi translated">访问<a class="ae kf" href="http://10.10.10.160" rel="noopener ugc nofollow" target="_blank"><strong class="ku ir">http://10 . 10 . 10 . 160</strong></a>向我们展示了一个个人博客页面。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nf"><img src="../Images/7d29daa523a946a4e4f82ef5dd6645c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fS51fnCcZiOENSMTqfn4pQ.png"/></div></div></figure><p id="f83c" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这里似乎没有什么有趣的东西，还有《捉鬼敢死队》。继续到其他端口…</p><h1 id="afa3" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">10000 —网民</h1><p id="b61b" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi translated">我们有一条重定向消息。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ng"><img src="../Images/a811c0132646f50f1120b2a3d1fe99be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKz2DXWkWle695pQsivqnQ.png"/></div></div></figure><p id="5a65" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">让我们将<code class="fe nh ni nj mw b"><strong class="ku ir">Postman</strong></code>添加到我们的主机文件中</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nk"><img src="../Images/44e13815391ec80faf64db92e984c9de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jPao4dq8ov8qcfHYlDE7Qw.png"/></div></div></figure><p id="eb8f" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">尝试使用一些默认凭证似乎无法让我们登录。转移到其他端口…</p><h1 id="0bab" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">6379 — Redis</h1><blockquote class="nl nm nn"><p id="0d4f" class="ks kt lo ku b kv kw jr kx ky kz ju la no lc ld le np lg lh li nq lk ll lm ln ij bi translated">Redis是开源的(BSD许可)，内存中的<strong class="ku ir">数据结构存储</strong>，用作数据库、缓存和消息代理。支持范围查询的<a class="ae kf" href="https://redis.io/topics/data-types-intro#strings" rel="noopener ugc nofollow" target="_blank">字符串</a>、<a class="ae kf" href="https://redis.io/topics/data-types-intro#hashes" rel="noopener ugc nofollow" target="_blank">哈希</a>、<a class="ae kf" href="https://redis.io/topics/data-types-intro#lists" rel="noopener ugc nofollow" target="_blank">列表</a>、<a class="ae kf" href="https://redis.io/topics/data-types-intro#sets" rel="noopener ugc nofollow" target="_blank">集合</a>、<a class="ae kf" href="https://redis.io/topics/data-types-intro#sorted-sets" rel="noopener ugc nofollow" target="_blank">排序集合</a>、位图、<a class="ae kf" href="https://redis.io/topics/data-types-intro#hyperloglogs" rel="noopener ugc nofollow" target="_blank">超级日志</a>、半径查询的<a class="ae kf" href="https://redis.io/commands/geoadd" rel="noopener ugc nofollow" target="_blank">地理空间索引</a>和<a class="ae kf" href="https://redis.io/topics/streams-intro" rel="noopener ugc nofollow" target="_blank">流</a>等数据结构。Redis内置了<a class="ae kf" href="https://redis.io/topics/replication" rel="noopener ugc nofollow" target="_blank">复制</a>、<a class="ae kf" href="https://redis.io/commands/eval" rel="noopener ugc nofollow" target="_blank"> Lua脚本</a>、<a class="ae kf" href="https://redis.io/topics/lru-cache" rel="noopener ugc nofollow" target="_blank"> LRU驱逐</a>、<a class="ae kf" href="https://redis.io/topics/transactions" rel="noopener ugc nofollow" target="_blank">事务</a>和不同级别的<a class="ae kf" href="https://redis.io/topics/persistence" rel="noopener ugc nofollow" target="_blank">磁盘持久化</a>，并通过<a class="ae kf" href="https://redis.io/topics/sentinel" rel="noopener ugc nofollow" target="_blank"> Redis Sentinel </a>和<a class="ae kf" href="https://redis.io/topics/cluster-tutorial" rel="noopener ugc nofollow" target="_blank"> Redis Cluster </a>自动分区提供高可用性。</p></blockquote><p id="e529" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我们在机器上安装了<strong class="ku ir"> Redis键值存储4.0.9 </strong>。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nr"><img src="../Images/b57819a5353fcac8047dd83b0ed7844b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCMzO5o8XClxSC2I7Vwenw.png"/></div></div></figure><blockquote class="nl nm nn"><p id="2cd7" class="ks kt lo ku b kv kw jr kx ky kz ju la no lc ld le np lg lh li nq lk ll lm ln ij bi translated"><a class="ae kf" href="https://book.hacktricks.xyz/pentesting/6379-pentesting-redis" rel="noopener ugc nofollow" target="_blank"><strong class="ku ir"><em class="iq">https://book . hack tricks . XYZ/pentesting/6379-pentesting-redis</em></strong></a><em class="iq">是很好的参考。</em></p></blockquote><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ns"><img src="../Images/3b93c0bb8968616a57895e3de2a76f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jK8RBph7-5mRvr0FjITHEg.png"/></div></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nt"><img src="../Images/305e6f145a8c54c75413bca42a2bda41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mB-7tjG9EkCbBFvwkS7wUA.png"/></div></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nu"><img src="../Images/b433971b0dc4d32bfa28fdf2b9fd9607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYTROJDQpa3jFqhJTNORlg.png"/></div></div></figure><p id="0f08" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">按照上面文章中提到的步骤。我们得到路径为<code class="fe nh ni nj mw b"><strong class="ku ir">/var/lib/redis/</strong></code></p><p id="6f16" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">在下面的漏洞利用中，更改SSH文件夹的路径会给我们一个作为Redis用户的shell。</p><p id="3a46" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">将行<a class="ae kf" href="https://github.com/Avinash-acid/Redis-Server-Exploit/blob/master/redis.py#L39" rel="noopener ugc nofollow" target="_blank"><strong class="ku ir">https://github . com/Avinash-acid/Redis-Server-Exploit/blob/master/Redis . py # L39</strong></a><strong class="ku ir"/>改为</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="7da7" class="na lq iq mw b gy nb nc l nd ne"><strong class="mw ir">cmd4 = cmd1 + ' config set  dir' + " /var/lib/redis/.ssh/"</strong></span></pre><h1 id="09ce" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">作为redis的Shell</h1><p id="1afb" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi translated"><code class="fe nh ni nj mw b"><strong class="ku ir">python redis.py 10.10.10.160 redis</strong></code></p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nv"><img src="../Images/ea600997f0fb27524a8e5bf50361fe66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0lDeb2W_lfEFMuQtsmrcbg.png"/></div></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nw"><img src="../Images/9bfcbbadcbdcf8e0896ebfef847ade60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tHQU8X-o9kVd29-JV8tgpA.png"/></div></div></figure><h1 id="7698" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">无光泽外壳</h1><p id="466a" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi translated">在枚举文件系统时，我们在<code class="fe nh ni nj mw b"><strong class="ku ir">/opt</strong></code>文件夹中有备份RSA密钥，它是加密的。让我们将文件传输回Kali虚拟机。</p><p id="e1e9" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">利用<a class="ae kf" href="https://raw.githubusercontent.com/koboi137/john/bionic/ssh2john.py" rel="noopener ugc nofollow" target="_blank"><strong class="ku ir">ssh 2 John . py</strong></a><strong class="ku ir">，</strong>我们来破解id_rsa.bak文件。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nx"><img src="../Images/e9595da6adf41e6738a99172badd5cfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYrHcBMx0I6STRw57xajjg.png"/></div></div></figure><p id="d3e0" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><code class="fe nh ni nj mw b"><strong class="ku ir">computer2008 </strong></code>是密码。既然我们知道，<code class="fe nh ni nj mw b"><strong class="ku ir">Matt</strong></code> <strong class="ku ir"> </strong>是机器上的有效用户，让我们尝试通过SSH登录。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ny"><img src="../Images/c563775590ebaa0d853ecd38f7117780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8hD9B-DQrtPVDRvZxigtBw.png"/></div></div></figure><p id="d1dd" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">SSH正在服务器上运行，但我们似乎无法登录，因为服务器正在关闭连接。</p><p id="4f0c" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">使用<code class="fe nh ni nj mw b"><strong class="ku ir">su Matt</strong></code> <strong class="ku ir"> </strong>我们可以得到用户标志。</p><h1 id="d8db" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated"><strong class="ak">外壳为亚光</strong></h1><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/5ed0973b2bead1d07121df4771d4dcfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*Mcdw6PCEJLjIT8KEgvZ_sQ.png"/></div></figure><p id="4010" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">因为我们有一组有效的凭证，并且从Nmap扫描中，我们让Webmin运行，这需要凭证。让我们看看是否有密码重用。</p><h1 id="5dc3" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated"><strong class="ak"> Privesc Matt - &gt; Root </strong></h1><p id="8958" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi translated">使用<code class="fe nh ni nj mw b"><strong class="ku ir">Matt : computer2008</strong></code> <strong class="ku ir"> </strong>我们可以登录Webmin面板，它运行的是1.910版本(来自Nmap扫描)。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi oa"><img src="../Images/2061db78e791918002a8ddaa5e41e18d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tau7L7_esvELUnyQ9Y3Akg.png"/></div></div></figure><p id="66b8" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">软件包更新功能可用。有一个远程代码执行MSF模块可以实现同样的功能，</p><div class="ob oc gp gr od oe"><a href="https://www.exploit-db.com/exploits/46984" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">攻击性安全利用数据库档案</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">Webmin 1.910 -“包更新”远程命令执行(Metasploit)。CVE-2019-12840。Linux的远程利用…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">www.exploit-db.com</p></div></div><div class="on l"><div class="oo l op oq or on os kq oe"/></div></div></a></div><p id="875e" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">让我们启动MSF，以下是选项。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ot"><img src="../Images/64a24940b207fd16829df19f332a8600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c2etLgDMXEvfPr-NYlC9Nw.png"/></div></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ou"><img src="../Images/65f9b35f73c1f999e88d8605d222a29e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tCD0wkNCCZebLqf7xrQ4OQ.png"/></div></div></figure><p id="0ea4" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这就是我们的根命令shell。</p><h1 id="1016" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">附加— Webmin 1.920未授权RCE</h1><p id="87b1" class="pw-post-body-paragraph ks kt iq ku b kv mh jr kx ky mi ju la lb mj ld le lf mk lh li lj ml ll lm ln ij bi translated">软件包更新RCE为CVE:<a class="ae kf" href="https://nvd.nist.gov/vuln/detail/CVE-2019-12840" rel="noopener ugc nofollow" target="_blank">2019–12840</a>，漏洞发布于2019–06–11。有最新的未经认证的RCE对Webmin 1.920的密码重置功能。</p><p id="a8c4" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这是未授权RCE后密码重置的漏洞。CVE<a class="ae kf" href="https://nvd.nist.gov/vuln/detail/CVE-2019-15107" rel="noopener ugc nofollow" target="_blank">2019–15107</a></p><p id="d7fd" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><br/>视频剥削同样，<a class="ae kf" href="https://www.youtube.com/watch?v=MehGoua01Zg" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=MehGoua01Zg</a></p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ov"><img src="../Images/f2aa58bbdfc6f3c257ab748dfaa78b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zfhWw6HIEgQBnkfiV64hjg.png"/></div></div></figure><p id="0e91" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">让我们试试MSF模块。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ow"><img src="../Images/df6b7288d53a536120339afc9add490b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cNnkuX7N-jPw-bLzd-Qn4w.png"/></div></div></figure><p id="3e6b" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">没用。但是手动访问<a class="ae kf" href="https://postman:10000/password_change.cgi" rel="noopener ugc nofollow" target="_blank">https://postman:10000/password _ change . CGI</a>给我们一个警告</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ox"><img src="../Images/53c7b75f87486f5f6cebd757ba6d71c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MgrLWSAQx2w8tJFauAKArg.png"/></div></div></figure><p id="ea13" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">让我们做警告页面中提到的更改。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi oy"><img src="../Images/7ad0980c71704b4be2cb2d0514ec80a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GGpw8wGZMRGGWu2_RgpaAg.png"/></div></div></figure><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="f975" class="na lq iq mw b gy nb nc l nd ne"><strong class="mw ir">sed -i 's|referers_none=1|referers_none=0|g' config</strong></span></pre><p id="638a" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">现在服务器说，</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi oz"><img src="../Images/ad98db07a71824a3696f99468d0b57d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ofTNGsSQvxw7Mh_uCuP0A.png"/></div></div></figure><p id="5979" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">让我们改变一下<code class="fe nh ni nj mw b"><strong class="ku ir">/usr/share/webmin/password_change.cgi</strong></code></p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi pa"><img src="../Images/4e6c6d40ba1071126809f68d00ead167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CuKBV9rnkTbIDnRqwJR_vQ.png"/></div></div></figure><p id="2106" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我已经将高亮显示的行更改为<code class="fe nh ni nj mw b"><strong class="ku ir">$miniserv{'password_mode'} == 2</strong></code></p><p id="dae2" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">并刷新了<a class="ae kf" href="https://10.10.10.160:10000/password_change.cgi" rel="noopener ugc nofollow" target="_blank">https://10 . 10 . 10 . 160:10000/password _ change . CGI</a></p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi pb"><img src="../Images/9dfe5062b29f624f170f4583e3a6cbc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5P_PIU51yzBvMfgDv65ouw.png"/></div></div></figure><p id="7683" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">让我们再次运行MSF模块。以下是选项。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi pc"><img src="../Images/222e704433f9f8236ec15df522ca0c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lPJOGuexud4RSjEzGCedGw.png"/></div></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi pd"><img src="../Images/5f52e99385f837fe08824869ab813ef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VFPqHGQo5kWXvFPxLOzSWA.png"/></div></div></figure><p id="ce0f" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这就是了，我们以root用户身份执行命令</p><p id="3304" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">谢谢，祝黑客快乐！希望你喜欢阅读这篇文章，并学到一些新技巧。</p></div><div class="ab cl pe pf hu pg" role="separator"><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj pk"/><span class="ph bw bk pi pj"/></div><div class="ij ik il im in"><p id="2651" class="pw-post-body-paragraph ks kt iq ku b kv kw jr kx ky kz ju la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="lo">关注</em> <a class="ae kf" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="lo"> Infosec报道</em> </a> <em class="lo">获取更多此类精彩报道。</em></p><div class="ob oc gp gr od oe"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">信息安全报道</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="pl l op oq or on os kq oe"/></div></div></a></div></div></div>    
</body>
</html>