<html>
<head>
<title>Do You Want to Secure Your Database? Use a Multi-Layered Security Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您想保护您的数据库吗？使用多层安全架构</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/a-multi-layered-security-architecture-for-databases-3d2b3a60070f?source=collection_archive---------2-----------------------#2022-08-04">https://infosecwriteups.com/a-multi-layered-security-architecture-for-databases-3d2b3a60070f?source=collection_archive---------2-----------------------#2022-08-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/502e9d68acd1bbc09a456a120c8364b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WAtbccRonn34YyM8JfCnMA.png"/></div></div></figure><p id="19ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随着公司越来越依赖信息技术，保护数据库的问题仍然存在。数据库系统适合存储公司文档和信息。企业将客户和员工信息、产品和销售数据、财务统计数据等委托给it部门。与此同时，管理人员担心如何保护敏感信息免受故障和黑客攻击。让我们来谈谈通过构建多级架构来保护数据库的有效方法。</p><h1 id="b6b6" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">网络防御的四大法则</h1><p id="b295" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">451名研究调查参与者中有70%的人<a class="ae lz" href="https://info.enterprisedb.com/rs/069-ALB-339/images/wp-advisory-451-security.pdf" rel="noopener ugc nofollow" target="_blank">表示</a>对数据库安全性的需求是企业的首要任务之一。系统故障或信息泄露会带来致命的商业后果。例如，一个组织可能会失去客户和业务合作伙伴的信任，受到罚款，或者遇到法律问题。</p><p id="10a1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">数据需求发生了结构性变化。数据的位置正在发生变化:它们不在单独的数据中心，而是分布在不同位置的公司中。分组处理正被实时数据处理所取代，这对商业是有益的。对数据库的访问变得集中，这允许在组织通用的角色模型中管理信息。数据结构不再是关系型的，而是组合型的，因为对于特定情况(文档数据库、图形数据库、内存)有一整套解决方案。考虑到全球变化，有必要改进数据保护策略。</p><p id="b6d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">来自同一调查的研究人员给出了关于数据库安全性的好建议:</p><p id="97d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">–配置关键数据的保护。今天，为了安全，仅仅保护周边是不够的。必须确保行和表级别的安全性，并为某些类型的命令提供详细的访问权限。行级安全性有助于限制对数据行的访问。例如，您可以只允许员工访问与其部门工作相关的数据行。另一个例子是只允许客户访问与其公司相关的数据。</p><p id="4560" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">–实施高安全性级别(B1-A1) —高级访问控制体系结构和安全验证系统，提供对数据的即时安全访问，而无需物理存储数据。在过去的20年里，网络安全出现了数据碎片化的问题。数据无处不在:存储、湖泊和云中。因此，这些技术的每一个要素都必须通过一切可能的手段加以保护。即使数据的9个拷贝在专有系统中受到很好的保护，而第10个受到很差的保护，那么数据库受到的保护与最易受攻击的拷贝一样多。关注数据库的每个细节至关重要。</p><p id="c2a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">–安全工具应符合要求，并具有用户友好的用户界面，用于管理访问策略、监控和设置、故障转移、备份和恢复。</p><p id="1342" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">–分配专门的<a class="ae lz" href="https://andersenlab.com/blueprint/cyber-security-essentials-for-smes" rel="noopener ugc nofollow" target="_blank">网络安全专家</a>来管理数据库。在组织中，信息存储在数据仓库和湖泊中，部分存储在云中。例如，当数据无法合法地移动到云中时，就会发生这种情况。或者组织有禁止在防火墙外存储机密信息的规则。数据位于不同的位置，由不同的技术管理，必须集中处理。因此，每个收集信息的部门都需要一名有经验的数据库管理员。</p><p id="d648" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们以开源Postgres为例，看看公司如何通过多层数据库结构来最小化安全风险。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/58a4e7550d86aff532c71f265d101323.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tBHSkTX_pa71LVW3A0W8Bg.jpeg"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">资料来源:Jelvix</figcaption></figure><h1 id="4ec3" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">如何为数据库建立11级保护</h1><p id="c80f" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">多层架构意味着在网络、传输和数据库级别提供安全性。有必要提供这样的安全性，使数据库像银行保险库一样受到保护。在这种情况下，要打开一扇“门”，就必须打开另一扇，由秘密钥匙保护。为了保护数据，只要理论上可以访问数据，就需要采取安全措施。</p><p id="56bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">多层安全体系结构包括对主机(物理)、公司网络、数据库主机、数据库应用程序和数据的安全有限访问。</p><p id="5fcd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数组织在AAA模型(认证-授权-审计)下运作，其中参与者访问数据的权利被跟踪。身份验证允许您了解某个用户就是声称该身份的人。授权确保用户被允许访问。审计意味着记录数据库活动。这个经过验证的模型可以用作监控数据库保护方法的基础。</p><p id="6780" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">组织可以通过使用11层安全方法来利用AAA安全模型:</p><ol class=""><li id="8626" class="mj mk iq ka b kb kc kf kg kj ml kn mm kr mn kv mo mp mq mr bi translated">物理安全的数据中心。如果一个数据中心的门上没有锁，那么所有其他的努力在很大程度上都变得毫无意义。</li><li id="387b" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">通过授权和身份验证机制控制用户权限，保护对主机的访问。这些工具确保用户不会未经授权就进入数据库。<br/> PostgreSQL具有基于角色的详细用户权限系统。因此，任何数据库帐户名都是一个具有登录属性的角色，用户通过它连接到数据库。角色还可以具有其他属性，这些属性允许他们绕过访问检查、创建数据库以及创建其他角色和功能。用户被赋予对数据库对象具有特定特权的组成员资格。</li><li id="c349" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">使用Vormetric或VeraCrypt加密磁盘上的文件系统。以加密的形式存储数据将保护它们不被盗窃和没收。</li><li id="7769" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">通过“hba.conf”配置文件保护与数据库服务器的连接。该文档包括关于连接类型、客户机IP地址、数据库名称、用户名和用户验证方法的条目。还可以通过阻止对运行数据库的节点的访问来保护服务器(在端口级别使用防火墙)。默认情况下，PostgreSQL监听TCP端口5432。您可以使用iptables实用程序(Linux)或通过创建传入连接规则(Windows)来阻止其他端口。</li><li id="4d54" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">使用SSL证书加密网络上的信息，以提供到数据库主机的安全连接，并防止中间人攻击。PostgreSQL实现了对SSL连接的本机支持，以加密客户端-服务器通信。</li><li id="5d9a" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">检查DBMS的功能以防止SQL注入。确保数据库管理系统阻止这种入侵。</li><li id="f89b" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">通过密码、证书、操作系统凭据、LDAP和其他方法设置用户验证过程。身份验证应该与一般用户管理相关联。这将有助于将来当用户转移到其他项目、离开或停止使用数据库时撤销访问凭证。</li><li id="f420" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">授予用户使用数据库的权限，但特权较少。</li><li id="da29" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">通过定义访问控制策略，在列和行级别加密数据。例如，只允许用户更改或删除表格中的某些元素。</li><li id="d8f7" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">设置数据库审计来跟踪其中的过程。这种措施将允许根据特权来监控用户动作。您应该分析用户连接、DDL变化、数据变化和数据表示。</li><li id="bbb4" class="mj mk iq ka b kb ms kf mt kj mu kn mv kr mw kv mo mp mq mr bi translated">为一组用户实现信息屏蔽功能。使用内置或自定义屏蔽功能，用虚拟或任意字符集替换原始数据。这不会改变存储在磁盘上的信息。DDM使用T-SQL命令，按字段查找受保护的数据，设置适当的屏蔽函数，并对查询隐藏数据。为此，您不需要编码、加密或更改实际信息。</li></ol><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3531b60e985ca0874737362e64abb6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iHkwXyPZTWCnPu9nUoYTtg.jpeg"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">来源:Cssonline</figcaption></figure><h1 id="0b54" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h1><p id="17e6" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">正如您在Postgres中看到的，数据库的多层安全架构使公司能够更好地控制数据，并降低故障和被盗的风险。然而，在选择数据库安全解决方案时，您应该关注基础设施、公司的IT政策和当前的安全场景。正如ICIT高级研究员詹姆斯·斯科特所说，网络安全没有放之四海而皆准的解决方案，多层防御是唯一可行的防御方式。因此，在每个级别保护数据非常重要:外部级别(VPN、防病毒、防火墙)、中间级别(权限分配和访问控制)和内部级别(直接在数据库本身)。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="733d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">来自Infosec的报道:Infosec上每天都会出现很多难以跟上的内容。 <a class="ae lz" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ne">加入我们的每周简讯</em> </strong> </a> <em class="ne">以5篇文章、4个线程、3个视频、2个Github Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</em></p></div></div>    
</body>
</html>