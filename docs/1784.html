<html>
<head>
<title>Day6 CN-ARP and DHCP Protocol #100DaysofHacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第6天CN-ARP和DHCP协议# 100天黑客攻击</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/day6-cn-arp-and-dhcp-protocol-100daysofhacking-2eae786dc97b?source=collection_archive---------2-----------------------#2022-01-08">https://infosecwriteups.com/day6-cn-arp-and-dhcp-protocol-100daysofhacking-2eae786dc97b?source=collection_archive---------2-----------------------#2022-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="8f5a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Day1 : </strong> <a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/day-1-installing-kali-linux-100daysofhacking-eeb5954e0837">安装Kali Linux </a></p><p id="1976" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第二天:</strong> <a class="ae kl" href="https://3xabyt3.medium.com/day2-navigating-linux-100daysofhacking-44130f5983bf?source=user_profile---------0-------------------------------" rel="noopener">导航Linux </a></p><p id="467c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第三天:</strong> <a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/day3-computer-networks-100daysofhacking-1f9734b80313">电脑联网</a></p><p id="6acd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第4天:</strong> <a class="ae kl" rel="noopener ugc nofollow" target="_blank" href="/day-4-cn-network-topologies-100daysofhacking-d01377674623">网络拓扑</a></p><p id="3d64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第5天:</strong> <a class="ae kl" href="https://3xabyt3.medium.com/day5-cn-subnetting-100daysofhacking-893346306e0d" rel="noopener">子网划分</a></p><p id="fa65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">Github:</strong><a class="ae kl" href="https://github.com/ayush098-hub/100DaysofHacking" rel="noopener ugc nofollow" target="_blank">100天黑客</a></p><p id="bac8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好，我是Ayush，如果你还没有看过之前的博客，请点击上面的链接来阅读，在上面我们讨论了重要的概念，这是以后的博客所必需的。</p><p id="af2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天在这个博客中，我们将讨论两个重要的协议<strong class="jp ir"> ARP和DHCP </strong>。</p><p id="aff4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，我们已经了解了计算机网络、不同网络拓扑、子网划分的基础知识，有一点很清楚，在网络中有两个标识符<strong class="jp ir"> IP </strong>和<strong class="jp ir"> MAC </strong>地址，用于标识网络上的任何设备。</p><h1 id="97a4" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">ARP:地址解析协议</h1><p id="5708" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated"><strong class="jp ir"> ARP: </strong> ARP代表地址解析协议，用于将设备MAC地址与IP地址相关联。</p><p id="f8f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设您正在将数据从您的计算机发送到网络上的另一台计算机，消息首先被发送到交换机，然后交换机将它转发到目的地，因此这里交换机决定MAC地址而不是IP地址。(到达交换机的数据包含IP和MAC)</p><p id="35e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的例子中，发送者知道IP地址和MAC地址，现在让我们看另一个场景，假设发送者不知道接收者的MAC地址，那么在这种情况下会发生什么？？？？</p><p id="21f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这种情况下，发送方将向局域网内的所有设备广播一个<strong class="jp ir"> ARP请求</strong>，询问设备谁分配了目的IP地址。因此，只有拥有特定IP地址的设备才会用他/她的MAC地址来响应。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/20251aa218975bdfc51fffaec72286f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*udRRXPeg9MtwUYzB.jpg"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">资料来源:Fortinet</figcaption></figure><p id="4a01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上图中，你可以看到<strong class="jp ir">发送者34.40.21.17</strong>正在询问<strong class="jp ir">34.40.21.20</strong>的MAC地址，然后<strong class="jp ir">34.40.21.20</strong>回复了他的MAC地址。ARP协议就是这样工作的。</p><p id="b560" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦设备接收到MAC地址，它就会存储在ARP缓存中。</p><blockquote class="mf mg mh"><p id="25ee" class="jn jo mi jp b jq jr js jt ju jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj kk ij bi translated">ARP-Cache是将IP地址解析为MAC地址时创建的ARP条目的集合。每当我们试图将数据包/数据发送到arp缓存存储中的MAC地址的IP地址第一系统。如果没有条目，那么就采取我们上面看到的进一步行动。</p></blockquote><p id="0f13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要查看ARP缓存，您可以输入:</p><p id="8b09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于windows:</p><blockquote class="mf mg mh"><p id="fa6d" class="jn jo mi jp b jq jr js jt ju jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj kk ij bi translated">arp -a</p></blockquote><p id="8a92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有一件事，每当发送者广播MAC的消息时，它被称为<strong class="jp ir">ARP-请求</strong>，每当接收者发送他的MAC给发送者时，它被称为<strong class="jp ir">ARP-回复</strong></p><p id="1c59" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">模拟:</p><figure class="lq lr ls lt gt lu"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk translated">ARP协议模拟</figcaption></figure><p id="5652" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的视频中，您可以看到PC1想要向PC2发送消息，但是PC1没有任何arp条目，所以它向每个人发送广播消息，然后PC2用他/她的MAC地址进行响应，然后MAC地址被添加到AP表中，之后，对于每次通信，PC1都不进行广播。</p><p id="b9b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望看完上面的视频后，ARP的概念已经很清楚了。现在，我们来谈谈DHCP。</p><h1 id="21cd" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">DHCP:动态主机配置</h1><p id="b3a8" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">DHCP代表动态主机配置。</p><p id="18e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">DHCP被配置为网络上的IP服务，自动向客户端设备提供可用的IP地址。</p><p id="2de4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在DHCP的帮助下，网络管理员无需手动分配IP地址。</p><p id="ae56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工作:</p><p id="07b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当设备连接到网络时，如果它还没有被手动分配IP地址，它会发出请求<strong class="jp ir"> (DHCP发现)</strong>来查看网络上是否有任何DHCP服务器。然后DHCP服务器回复一个设备可以使用的IP地址<strong class="jp ir"> (DHCP Offer) </strong>。然后，设备发送回复，确认它需要所提供的IP地址<strong class="jp ir"> (DHCP请求)</strong>，最后，DHCP服务器发送回复，确认此操作已完成，设备可以开始使用IP地址<strong class="jp ir"> (DHCP ACK) </strong>。</p><p id="f984" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">发现:在网络中找到DHCP服务器</p><p id="7a9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">提供:给客户，IP地址。</p><p id="e96a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请求:确认</p><p id="8b7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ACK:设备可以开始使用IP地址</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mo"><img src="../Images/a67db77c47f81cfb5e7c88b3a09fe4fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a3O5HLZHFm3HZH5f.jpg"/></div></div></figure><p id="5f69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我希望ARP和DHCP你都清楚了。</p><p id="4a5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您花时间阅读本文，如果您有任何疑问，请在本博客上回复。</p><p id="0fde" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你，祝你黑客愉快！</p></div></div>    
</body>
</html>