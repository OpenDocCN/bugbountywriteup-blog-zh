<html>
<head>
<title>Tryhackme: Simple CTF</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单的CTF</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-simple-ctf-879a19561438?source=collection_archive---------3-----------------------#2022-12-15">https://infosecwriteups.com/tryhackme-simple-ctf-879a19561438?source=collection_archive---------3-----------------------#2022-12-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d6853144e6e54131413caf331f8e7d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*etxWNTjbAmx-E6Id.png"/></div></div></figure><p id="88f7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">简单CTF是来自TryHackMe的简单机器。在上面，我们将利用CMS中的SQL注入，并使用vim来提升权限(而不会陷入这种尝试)。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="b098" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">像往常一样，在TryHackMe中，我们必须连接到VPN或使用攻击箱。我会选择VPN。我们按下启动机器按钮，一分钟后，他们给我们显示IP地址。现在，我们继续使用Nmap进行初始识别:</p><pre class="ld le lf lg gt lh li lj bn lk ll bi"><span id="c4aa" class="lm ln iq li b be lo lp l lq lr">nmap -p- -sV -Pn $IP</span></pre><p id="d63a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">带连字符的-p参数表示扫描所有端口,-sV参数表示对使用的版本进行指纹识别，而-Pn参数表示扫描机器，即使它不响应ping。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ls"><img src="../Images/b41ca8827c3b9a80c9113ea13eeb4f84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgsdBApK1dchKx78XlaEVg.png"/></div></div></figure><p id="8756" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以看到机器有三个服务打开，SSH、FTP和一个web服务器。</p><p id="2cb1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> FTP枚举</strong></p><p id="74de" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以看到匿名登录已启用，我们可以检索一个文件:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lt"><img src="../Images/5e492b1ff3ac13476a61032b2561528b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PGap-JntcUfQ90rLu6gxzQ.png"/></div></div></figure><p id="b971" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该文件是给Mitch的一条消息，内容是关于弱密码。我们可以对SSH服务中的用户Mitch进行暴力攻击吗？</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/538274627d56d5a7ec3d3a7fa187f897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rCGjDj_Ln04kKEPAZVmvWA.png"/></div></div></figure><p id="3986" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">网络服务器枚举</strong></p><p id="6b4f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者，我们可以从网上获取该密码。首先，通过模糊化我们可以找到/simple目录。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/22ff70daf4287a79d76020022e711943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zkQcujn9PimZUimtcZzqLg.png"/></div></div></figure><p id="389a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们访问它，我们将看到一个在2.2.8版本中简化的CMS显示。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lw"><img src="../Images/d8ae501110244864cb38face7e9dbf19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*77T8KcQiuo-2pDYmMevAqA.png"/></div></div></figure><p id="443f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个快速的谷歌搜索将导致在这个版本的CMS中利用SQL注入的概念验证。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lx"><img src="../Images/d96a34498af0072e5d11a76d6f03655c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zpTvmTeqMF5J2P9JYmZUEg.png"/></div></div></figure><p id="535b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">分析代码，我们会看到它是模块接口上m1_idlist参数的基于时间的SQL注入。最初的漏洞利用在python 2.7上工作。我们应该修改它，以便与python3一起使用。</p><div class="ly lz gp gr ma mb"><a href="https://github.com/pedrojosenavasperez/CVE-2019-9053-Python3" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab fo"><div class="md ab me cl cj mf"><h2 class="bd ir gy z fp mg fr fs mh fu fw ip bi translated">GitHub-pedrojosenavasperez/CVE-2019-9053-Python3:CVE-2019-9053漏洞利用移植到python 3</h2><div class="mi l"><h3 class="bd b gy z fp mg fr fs mh fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="mj l"><p class="bd b dl z fp mg fr fs mh fu fw dk translated">github.com</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp jw mb"/></div></div></a></div><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/ced77059d8816bf826b95845c3f70e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*uuHy614CAfAb9c1CnbC9tw.png"/></div></figure><p id="5ba7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">特权升级</strong></p><p id="9df4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以看到，我们可以以root身份运行vim。然后，我们可以通过滥用它轻易地提升特权。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/ee47d969ae9b5eeb6e7dee2bdc1d6ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*VVn-xKeaGNh80YcsOEXCDQ.png"/></div></figure><p id="868d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在使用这个gtfobins技巧(<a class="ae ms" href="https://gtfobins.github.io/gtfobins/vim/#sudo" rel="noopener ugc nofollow" target="_blank">https://gtfobins.github.io/gtfobins/vim/#sudo</a>)我们可以使用vim提升特权，而不会有更多的问题。</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/3fb57e229bc357a7be7f526aa52e7f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*_BbjreIQQoIqBhhFV-1LUA.png"/></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated"><strong class="bd my"> Pwned！</strong></figcaption></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="09e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你喜欢我的文章，并发现我的内容有用。下一篇文章再见。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h2 id="6380" class="mz ln iq bd my na nb dn nc nd ne dp nf kj ng nh ni kn nj nk nl kr nm nn no np bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae ms" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>