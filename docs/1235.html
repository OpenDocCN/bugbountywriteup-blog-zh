<html>
<head>
<title>Advent of Cyber 2 walkthrough part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">赛博2的来临演练第2部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/advent-of-cyber-2-walkthrough-part-2-cacbd704672b?source=collection_archive---------3-----------------------#2021-04-15">https://infosecwriteups.com/advent-of-cyber-2-walkthrough-part-2-cacbd704672b?source=collection_archive---------3-----------------------#2021-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5ed3c49c6e44afc96f7667d71c369c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B4NRDBmef0SCDsmT1EnNCQ.jpeg"/></div></div></figure><p id="487b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗨伙计们，<br/>我们的第二天要从这里开始了。在上一节中，我们学习了更多关于cookies和认证的知识。在今天的部分中，我们将了解常见的文件上传漏洞和反向外壳。</p><h2 id="9b38" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">注意:什么是反壳？</h2><p id="4682" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">反向外壳是在连接上建立的外壳会话，从远程机器发起，而不是从攻击者的主机发起。成功利用远程命令执行漏洞的攻击者可以使用反向外壳获取目标机器上的交互式外壳会话，并继续他们的攻击。</p><p id="6864" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Q1)要访问上传页面，需要在URL中添加什么字符串？</strong></p><p id="0a4d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lu"> ANS:？id = odizodi 5 mtniymww</em></p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/3238048005769dbc77f64c7ed0e11567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JTRlpmKgQpWqMz-pcqKzhw.png"/></div></div></figure><p id="9678" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Q2)工厂接受什么类型的文件？</strong></p><p id="c5ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lu">答:图片</em></p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/77b4d25914ceba688a1d875bb26a316a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qb7X2imaUhDLg-_dnNNVfw.png"/></div></div></figure><p id="9ee3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我上传不同种类的扩展，比如。php，。Html，。py，。jpeg，。png。最后是。jpeg和png扩展已成功上传。所以它只拿走我们的图像</p><p id="82c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Q3)上传的文件存放在哪个目录下？</strong></p><p id="db1f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回答:/上传/</p><p id="edb5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">Q4)</strong><code class="fe mb mc md me b"><strong class="ka ir">/var/www/flag.txt</strong></code><strong class="ka ir">中的标志是什么？</strong></p><p id="2849" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个问题中，我们需要展示我们的实践知识。好吧，</p><p id="543e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先进入<a class="ae mf" href="https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/pentest monkey/PHP-reverse-shell/master/PHP-reverse-shell . PHP</a>下载反向php shell。并在您最喜欢的文本编辑器中打开它。因为我们需要用我们的IP和端口号替换当前的IP和端口号。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/b19f6c179bc1b4895bdfdd35c4118beb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sAq4Kl1umlV6kfEZYSWe3w.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk translated">更改当前的ip和端口号，并将您的tryhackme ip和443端口</figcaption></figure><p id="d009" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在下一步，我们知道我们只能上传。巴新和。jpeg和。jpg扩展。所以我们用一个技巧来上传我们的php反向shell。重命名我们的php shell以添加任何一个可接受的扩展(例如:php-reverse-shell.jpg.php)并上传它。打开yore终端并(nc -lnvp 443)创建netcat反向shell监听器。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/5e02e4b92293c6ef810efe914e15c496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*E_saHVYWwVcWv-0dUxD4Cw.png"/></div></figure><p id="5f22" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">打开/uploads/目录，运行反向shell。打开您的netcat监听器并找到标志</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/13b17fa144c715d941ecbcecd20d6379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XCf3APGIZ1clraFp98XC_w.png"/></div></div></figure><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/db595cf4969d14f1e530e6f2a16579c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QEvJ-NcygO1ajhCdPqXnWw.png"/></div></div></figure><p id="bbf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ANS:THM { mgu 3y 2 uymguwnjixyty 4 ntaxowjhmzhh }</p><p id="52ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">谢谢你们，</p></div></div>    
</body>
</html>