<html>
<head>
<title>Burp Suite, Nmap, Priv Esc and more!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打嗝套件，Nmap，Priv Esc等等！</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/burp-suite-nmap-priv-esc-and-more-376251add9e9?source=collection_archive---------0-----------------------#2020-08-12">https://infosecwriteups.com/burp-suite-nmap-priv-esc-and-more-376251add9e9?source=collection_archive---------0-----------------------#2020-08-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="39dd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">全部在一篇文章中！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8e29652a77d283f05b03a8ec1df03680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gFU4Fhgrfcq3x6Re"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@arget?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿吉特</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/2f6ffae023febfbb41b12fbcc8e3be72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*PDbS8gPe078MVWrIoZ4GvA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">信用:<a class="ae ky" href="https://tryhackme.com/" rel="noopener ugc nofollow" target="_blank">https://tryhackme.com/</a></figcaption></figure><p id="b366" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">接种疫苗无疑是一个考验玩家技能的挑战，并提供了广泛和多样的工具，肯定是在现实环境中使用的东西。想挑战吗？试试接种！</p><p id="b4db" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">以下是一些你需要知道/知道如何使用的东西:</p><ul class=""><li id="d9fe" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><strong class="lc iu"> Nmap </strong></li><li id="8574" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><strong class="lc iu">打嗝组曲</strong></li><li id="7d0f" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><strong class="lc iu">基本Linux命令</strong></li><li id="5368" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><strong class="lc iu"> Wireshark </strong></li><li id="03c6" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><strong class="lc iu">权限提升</strong></li></ul><p id="672a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在让我们从部署机器开始吧！</p><h2 id="c891" class="mk ml it bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">1) Nmap</h2><p id="c9a8" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">马上，首先应该想到的是Nmap</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/41d0919e055bdd0db88eafe9de58bb2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/0*lfY4kX8PcbCX3Kj5.png"/></div></figure><p id="74e2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">太好了！所以我们看到两个开放的端口！现在，让我们访问实际的网站。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/898c903e6cd1dfef04453285370cee0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rYGdpJ0fNnFsukaD.png"/></div></div></figure><h1 id="c92d" class="nk ml it bd mm nl nm nn mp no np nq ms jz nr ka mv kc ns kd my kf nt kg nb nu bi translated">2)打嗝组曲</h1><p id="a1e7" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">嗯……所以首先，我启动了Burp Suite并拦截了在输入框中输入随机URL的请求。没什么我们感兴趣的。经过几分钟的思考，我意识到我们也许可以找到一些有趣的东西，通过把这个网站的URL和一个随机的端口号放入入侵者中！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/aea05f0ccaa97b3beaa38cfc5f4d017f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cOTcDG88O764IUWA.png"/></div></div></figure><p id="deb0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，经过快速的谷歌搜索，最大端口号是65535。酷！现在我们要做的就是转到有效负载，将有效负载类型设置为数字，数字范围从1到65535。该进攻了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/67102910dc47226cffdf14a2fbcb92e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*HJVQIPFx3PcYxpYh.png"/></div></figure><p id="9b85" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">太好了！考虑到Community Edition的时间有限，肯定有其他方法可以做到这一点，但是对于本文和整体概念来说，这看起来很好。然后我们发现有两个开放端口，端口80和端口9999。虽然端口80似乎不起作用，但我们通过执行以下命令在端口9999上收到了响应！</p><h1 id="9d7c" class="nk ml it bd mm nl nm nn mp no np nq ms jz nr ka mv kc ns kd my kf nt kg nb nu bi translated">3)基本的Linux命令</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/df952ebad24f9caa9ddd7ce8eb2ce48c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*N2P20idaVTvw-q6h.png"/></div></div></figure><p id="a076" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你可能会问，“2130706433”是怎么回事？这基本上是127.0.0.1的字符串版本。运行以下代码时，可以找到从int到string的精确转换器:</p><p id="4a5e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><code class="fe ny nz oa ob b">int pack(byte[] bytes) { int val = 0; for (int i = 0; i &lt; bytes.length; i++) { val &lt;&lt;= 8; val |= bytes[i] &amp; 0xff; } return val; } pack(InetAddress.getByName(dottedString).getAddress());</code></p><p id="b7c9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/2241229/going-from-127-0-0-1-to-2130706433-and-back-again" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/2241229/going-from-127-0-0-1-to-2130706433-and-back-again</a></p><p id="ace5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">但是你看！回头看看curl的结果！我们得到一个. pcap文件。所以，作为任何一个正常人，首先想到的就是Wireshark！在我们跳进水里之前。pcap文件，我们首先需要访问它！这可以通过执行与上次完全相同的命令来完成，除了告诉计算机输出并给我们。pcap文件通过以下命令:</p><pre class="kj kk kl km gt oc ob od oe aw of bi"><span id="9552" class="mk ml it ob b gy og oh l oi oj">--output dump.pcap</span></pre><p id="b104" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">因此，最终应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/55d86a36abed639f2a6db519f43054ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MK-WojEVTi8NakpZ.png"/></div></div></figure><h1 id="bdb2" class="nk ml it bd mm nl nm nn mp no np nq ms jz nr ka mv kc ns kd my kf nt kg nb nu bi translated">4) Wireshark</h1><p id="3800" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">这太棒了！现在我们要做的就是用Wireshark打开文件并分析数据包。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/07e9d4819022c207bd58689527707134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OhpAPsT2iTSGV-p9.png"/></div></div></figure><p id="05cb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">哇，我们这么快就能得到密码！如您所知，该目录名为“pass4maynard.txt ”,因此意味着“maynard”必须是用户名！这很简单，我们需要做的就是SSH并获得用户标志！！！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/9022d241d15add3d961d7e019800ac32.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*aLiw6xW_Wes0FQG3.png"/></div></div></figure><h1 id="f13f" class="nk ml it bd mm nl nm nn mp no np nq ms jz nr ka mv kc ns kd my kf nt kg nb nu bi translated">5)权限提升</h1><p id="24c8" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">现在，在运行sudo -l以检查权限之后，很明显我们需要执行特权提升。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/b09361b2aae0f593bc70bddeec47b812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*ocjxU6k5dlhdqOUi.png"/></div></figure><p id="4a9c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">ExploitDB返回以下内容:</p><p id="1a9c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><a class="ae ky" href="https://www.exploit-db.com/exploits/41240" rel="noopener ugc nofollow" target="_blank">https://www.exploit-db.com/exploits/41240</a></p><p id="8df9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">代码确实需要在编辑等方面做一些小的改动。，但这是最后的结果:</p><pre class="kj kk kl km gt oc ob od oe aw of bi"><span id="5080" class="mk ml it ob b gy og oh l oi oj">obj-m += cve_2017_0358.o all: make -C /lib/modules/4.15.0-58-generic/build M=$(PWD) modules clean: make -C /lib/modules/4.15.0-58-generic/build M=$(PWD) clean</span></pre><p id="346c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">简单。现在我们必须运行sudo insmod。基本上，insmod用于将模块插入内核。只做cd /tmp，运行ls后我们应该会注意到一个有趣的r00t文件。运行。/r00t -p创建嵌套目录和wohoo！输入whoami，你就是root！</p><p id="3345" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">没那么难吧。</p><p id="c881" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">虽然关卡被贴上了“神经病”的标签，但是一点也不难。<strong class="lc iu">这只是基于基本知识，知道如何操作什么工具和使用什么命令。</strong>就这样。几分钟内轻松解决。</p><p id="af1c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们经历的挑战的链接在这里:</p><p id="76b9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">【https://tryhackme.com/room/inoculation T4】</p></div></div>    
</body>
</html>