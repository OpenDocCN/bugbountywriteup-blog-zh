<html>
<head>
<title>Malware analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">恶意软件分析</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/malware-analysis-fe47d6a5f3f?source=collection_archive---------2-----------------------#2022-12-15">https://infosecwriteups.com/malware-analysis-fe47d6a5f3f?source=collection_archive---------2-----------------------#2022-12-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5b37" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">法医麦克布鲁请到REVscue！THM — aoc 2022第12天</h2></div><p id="a03c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恶意软件:用来危害计算机或整个网络的软件。</p><p id="37b5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">目标:渗透网络、破坏敏感数据、破坏运营服务等。</p><p id="87cb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">检查:网络连接(外部和内部横向移动，本质上是一种用于扩展对其他主机或应用程序的访问的技术)、注册表项修改(例如注册表运行项)、文件操作。</p><h2 id="bc4f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">静态和动态分析</h2><p id="07f1" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">静态分析-&gt;不执行恶意代码。侧重于分析二进制文件及其可读信息、属性、程序流和字符串。</p><p id="f5b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">动态分析-&gt;在安全环境(如沙箱)中执行恶意软件。</p><p id="3a7e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将使用工具:<strong class="kh ir">检测它容易和CAPA。</strong></p><p id="f7dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开带有detect it的恶意软件样本，易于查看架构、打包程序(压缩、混淆、加密二进制文件)</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi lz"><img src="../Images/2695727b281a8e371bfc340ecd0bfd8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*munnWeWU1FG26XXhJD9XpA.png"/></div></div></figure><p id="c7b2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开CAPA:检测可执行文件中的功能。打开包装使用:</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ml"><img src="../Images/f2016c397a902309a7a121df127e111a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WaO88KbcVC0OMrmBZMEjTA.png"/></div></div></figure><pre class="ma mb mc md gt mm mn mo bn mp mq bi"><span id="1aa0" class="mr lc iq mn b be ms mt l mu mv">upx -d mysterygift </span></pre><p id="143c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在运行(删除缓存的viv文件后) :</p><pre class="ma mb mc md gt mm mn mo bn mp mq bi"><span id="3fe2" class="mr lc iq mn b be ms mt l mu mv">capa mysterygift</span></pre><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mw"><img src="../Images/e09cba36ad0ef2035738246fbfda4b8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XqLaBAiL1zy9e8Hw5nCzog.png"/></div></div></figure><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mx"><img src="../Images/072f5469178f679398ce7b7b6d91bd71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r6sL74cQuUSGzfGNc4KW4w.png"/></div></div></figure><p id="1c70" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恶意软件滥用的注册表项是什么？</p><p id="d1ec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这需要动态分析:</p><p id="4a71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分析的行为。exe : <strong class="kh ir"> ProcMon(进程监视器)</strong>工具:显示实时注册表、文件系统、进程/线程活动。'</p><p id="e1af" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">启动ProcMon，将filter设置为“进程名为mysterygift.exe”。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi my"><img src="../Images/52a0e9cdcb0c9107cad39f160cd012ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zu_gh6YHEhXMNkfFuD60TA.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">你可以在这里看到很多</figcaption></figure><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nd"><img src="../Images/9d5501e28d283f28bf7fba449e23d84f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q04U6GSkD4HJUzMX6SFvlw.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">排除任务中的给定条目以获得更少的操作</figcaption></figure><p id="b52f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可能会注意到只有一个注册表项同时具有<strong class="kh ir"> RegCreateKey </strong>和<strong class="kh ir"> RegSetValue </strong>。该密钥与名为<strong class="kh ir">注册表运行密钥修改</strong>的持久性技术相关，通常被恶意软件开发者用来安装后门。</p><p id="bfa7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恶意软件滥用的注册表项是什么？以及<br/>根据上一个问题写在注册表项上的值是什么？</p><p id="6197" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Ans-&gt;右键单击操作并检查属性以查找路径。</p><p id="2b31" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">文件修改:</p><p id="6987" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">再次排除和检查</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ne"><img src="../Images/0e3b1ee7dee2e85229391ba73583ce3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6coF3owUVTs8kWOrRdB_Q.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">两个文件:test.jpg和wishes.bat</figcaption></figure><p id="63d0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">网络连接:</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nf"><img src="../Images/b3a8d58b91fcf633b18c3ee4031d6ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7nAi-dWhf9gauOqnUn5BvQ.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">恶意软件向这些域发起请求</figcaption></figure><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/160aa613b419d16db94a682fbabf9069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*GjcMPwa-9HV9iaiAEGTmmg.png"/></div></figure><p id="09fc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个任务到此为止，今天的图片够多了。一会儿见。在那之前继续黑！</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h2 id="d5e1" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae no" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>