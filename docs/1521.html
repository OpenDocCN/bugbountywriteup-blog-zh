<html>
<head>
<title>Facebook OAuth 2.0 Misconfiguration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">脸书OAuth 2.0错误配置</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/facebook-oauth-2-0-misconfiguration-c41574272d90?source=collection_archive---------1-----------------------#2021-08-13">https://infosecwriteups.com/facebook-oauth-2-0-misconfiguration-c41574272d90?source=collection_archive---------1-----------------------#2021-08-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3aac" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">测试vuln.com的授权流时，我找到了一个</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/37cec733b2ad2df7378ad087a7a43a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n2JUlg_YAUY4MyX_"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>拍摄的照片</figcaption></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="c46d" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">介绍</h2><p id="ba9f" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">如果你一直在关注我的网络安全文章，你就会知道我不喜欢在脸书上搜寻，但他们的错误时不时地会妨碍我。尤其是这一个，是其中的一个漏洞。</p><h2 id="60ee" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">OAuth是什么？</h2><p id="05ad" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">OAuth是一个常用的授权框架，它允许网站和web应用程序请求对另一个应用程序(在本例中是脸书)上的用户帐户进行有限的访问。在不向请求应用程序公开登录凭据的情况下授予访问权限。用户可以决定共享的数据量，而不是将他们的帐户完全交给第三方应用程序控制。应用程序可能会使用<em class="mv"> OAuth </em>来请求访问你的电子邮件联系人列表，并使用它来推荐联系人。但是，这种相同的机制可用于提供第三方应用程序认证服务，允许用户使用他们在不同网站拥有的帐户登录。</p><blockquote class="mw"><p id="e8a0" class="mx my it bd mz na nb nc nd ne nf mu dk translated">注意:</p><p id="19db" class="mx my it bd mz na nb nc nd ne nf mu dk translated">OAuth 2.0是当前的标准，一些网站仍然使用遗留版本1。OAuth 2.0是从零开始写的，而不是从OAuth v1开始写的。因此，他们是非常不同的。</p></blockquote><h2 id="cecb" class="lg lh it bd li lj ng dn ll lm nh dp lo lp ni lr ls lt nj lv lw lx nk lz ma mb bi translated"><strong class="ak"> OAuth错误配置</strong></h2><p id="01c7" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">浏览网页时，您几乎肯定会遇到允许您使用脸书帐户登录的网站。大多数时候，这个特性是使用OAuth 2.0框架构建的。这个框架让<em class="mv"> Bug猎人</em>非常感兴趣，因为它天生容易出现实现错误。这可能导致几个漏洞，使得猎人能够获得敏感的用户数据或绕过身份验证。</p><h2 id="37a1" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Vuln.com</h2><p id="4a9d" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在测试了这个网站上的几乎所有东西后，我在<em class="mv">vuln.com</em>上发现了一个OAuth错误配置，下面是如何重现它。</p><p id="75ec" class="pw-post-body-paragraph mc md it me b mf nl ju mh mi nm jx mk lp nn mm mn lt no mp mq lx np ms mt mu im bi translated"><strong class="me iu">步骤:</strong> <br/> <strong class="me iu"> 1 .</strong>使用您的脸书个人帐户选项登录<em class="mv">Vuln.com</em>。</p><p id="3f93" class="pw-post-body-paragraph mc md it me b mf nl ju mh mi nm jx mk lp nn mm mn lt no mp mq lx np ms mt mu im bi translated"><strong class="me iu"> 2。在脸书控制应用程序面板中</strong>打开你的脸书账户&gt;进入设置&gt;删除并撤销对<em class="mv">Vuln.com</em>的任何权限。</p><p id="5dc1" class="pw-post-body-paragraph mc md it me b mf nl ju mh mi nm jx mk lp nn mm mn lt no mp mq lx np ms mt mu im bi translated"><strong class="me iu"> 3。</strong>此时，您的版块应该会立即从您的<em class="mv">Vuln.com</em>账户中注销(但对于<em class="mv">Vuln.com</em>来说，情况并非如此)<br/>从您的脸书账户中删除该应用程序后，您仍然可以使用<em class="mv">Vuln.com</em>，甚至可以修改该个人资料中的任何信息</p><h2 id="21e4" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">报告漏洞1.0</h2><p id="eda3" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在我提交了报告的第一部分后，我也在下面找到了这一部分。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/2d890a89b6bc6fa8753af5af6782accc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i02GKxRVR1aEKtzMddaKPQ.png"/></div></div></figure><h2 id="c122" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">报告漏洞2.0</h2><p id="b435" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">几个星期过去了，我等待着回应，但令我惊讶的是，这就是结果和我的运气，我收藏的许多作品中的一个<strong class="me iu">复制品</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/377140225a3b594966055540aca58097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNxJu91tvVAm9zn5WBk_Tg.png"/></div></div></figure><h2 id="745d" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h2><p id="729f" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">我想指出的是，我发现这个bug只是出于运气。在测试应用程序的任何漏洞，并放弃测试一个新的。我不想让它呆在那里，只是访问我的脸书账户数据。撤销该应用后，我注意到该应用仍然可以访问我的脸书账户，这就是我提交报告的原因。从步骤可以看出，这是一个非常容易的发现。试试吧，你永远不知道。</p></div></div>    
</body>
</html>