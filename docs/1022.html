<html>
<head>
<title>Identifying &amp; Exploiting SQL Injections: Manual &amp; Automated</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">识别和利用SQL注入:手动和自动</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/identifying-exploiting-sql-injection-manual-automated-79c932f0c9b5?source=collection_archive---------0-----------------------#2020-12-13">https://infosecwriteups.com/identifying-exploiting-sql-injection-manual-automated-79c932f0c9b5?source=collection_archive---------0-----------------------#2020-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="da9a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将从识别SQL注入漏洞开始&amp;如何利用易受攻击的应用程序。此外，我们将深入研究自动化工具:Sqlmap，它将缓解攻击升级。</p><p id="ef65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从基础开始:</p><h2 id="9203" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">什么是SQL注入？</h2><p id="0f71" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">SQL注入攻击包括通过从客户端到应用程序的输入数据进行的<strong class="jp ir">SQL查询的<strong class="jp ir">“插入/注入”</strong>。成功的SQL注入漏洞利用——可以<strong class="jp ir">从数据库中读取/修改</strong>(插入/更新/删除)敏感数据，<strong class="jp ir">执行管理操作</strong>(例如关闭DBMS)，<strong class="jp ir">恢复DBMS文件系统上给定文件的内容</strong>，在某些情况下<strong class="jp ir">向操作系统发出命令</strong>。</strong></p><p id="b2bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">SQL注入攻击——其中SQL命令被注入到数据平面输入中，以便<strong class="jp ir">影响预定义SQL命令的执行</strong>。— OWASP。</p><blockquote class="lj lk ll"><p id="d092" class="jn jo lm jp b jq jr js jt ju jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">简而言之:</em> </strong> SQLi攻击干扰预定义的SQL查询，以获取敏感信息或对数据库执行未经授权的操作。</p></blockquote><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/4df92450bea060274dbf416e6e6d8a71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*1eKltW5Gioig3YXH.jpg"/></div></figure><h2 id="cd07" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated"><strong class="ak">SQLi的类型:</strong></h2><ol class=""><li id="66c5" class="ly lz iq jp b jq le ju lf jy ma kc mb kg mc kk md me mf mg bi translated">基于联合的SQLi</li><li id="cf56" class="ly lz iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">基于错误的SQLi</li><li id="cd19" class="ly lz iq jp b jq mh ju mi jy mj kc mk kg ml kk md me mf mg bi translated">盲SQLi <br/> i)基于时间的SQLi <br/> ii)基于布尔的SQLi</li></ol><p id="bff6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们将关注基于联合的SQL注入。</p><h1 id="0418" class="mm km iq bd kn mn mo mp kq mq mr ms kt mt mu mv kw mw mx my kz mz na nb lc nc bi translated">基于联合的SQL注入</h1><p id="37ee" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">在基于Union的SQL注入中，我们试图修改现有的SQL查询，以便从数据库中检索敏感信息。</p><h2 id="2edb" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">步骤:</h2><ol class=""><li id="def4" class="ly lz iq jp b jq le ju lf jy ma kc mb kg mc kk md me mf mg bi translated">找到一个易受攻击的参数来中断现有的SQL查询。输入结束引号— <code class="fe nd ne nf ng b">”</code>或<code class="fe nd ne nf ng b">’</code>。注意应用程序的意外行为。如果应用程序抛出一些错误，那么它可能容易受到SQLi的攻击。</li></ol><p id="b109" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将在acune tix:<a class="ae nh" href="http://testphp.vulnweb.com" rel="noopener ugc nofollow" target="_blank"><em class="lm"/></a><em class="lm">的一个易受攻击的演示站点上测试SQLi。</em></p><p id="7654" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">登录应用程序，检查放置额外的<code class="fe nd ne nf ng b">”</code>或<code class="fe nd ne nf ng b">’</code>的界面是否有任何不当行为。</p><p id="021e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意网址:<a class="ae nh" href="http://testphp.vulnweb.com/artists.php?artist=1" rel="noopener ugc nofollow" target="_blank">http://testphp.vulnweb.com/artists.php?cat=1</a></p><p id="8868" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尝试在参数<strong class="jp ir">类别</strong>中插入一个引号。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/c58d03dce586f0c77fea6bd52fbd0c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tdHnrvVqJ3XR99WKMwDZBA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">比方说，查询是—某个cat ='1 '的东西</figcaption></figure><p id="103e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在注入一个<code class="fe nd ne nf ng b">’</code>时得到一个错误，因此参数<strong class="jp ir"> cat </strong>可能容易受到SQLi的攻击。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nr"><img src="../Images/dbc102b828fe264ccdafac12e5284225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BKI1zrLxV8gy3I_p_X8ubg.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">当最终查询变成—某样东西cat ='1 ' '</figcaption></figure><p id="808d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.让我们尝试在参数<strong class="jp ir"> cat </strong>中插入一个始终为真的条件作为<code class="fe nd ne nf ng b">‘+OR+1=1 --</code>或<code class="fe nd ne nf ng b">‘ OR 1=1 --</code>。看看能不能找到什么有趣的东西。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ns"><img src="../Images/551649f459ae91e4510d83ad39003f73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPBD2EF_5_gbJ_vcgjbgmQ.png"/></div></div></figure><p id="ffd2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">遗憾的是，我们没有得到任何有趣的信息。</p><blockquote class="lj lk ll"><p id="360d" class="jn jo lm jp b jq jr js jt ju jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj kk ij bi translated">或者如果你知道数据库中使用的<strong class="jp ir"> <em class="iq"> table_names </em> </strong>(比如说，<em class="iq">用户名</em> &amp; <em class="iq">密码</em>)，你可以直接使用查询<code class="fe nd ne nf ng b">‘ UNION SELECT username, password FROM users --</code>来选择数据库中的所有用户。</p></blockquote><p id="980c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.但是在这里，由于我们不知道<em class="lm"> table_names，</em>我们将从猜测数据库中<em class="lm">列的数量</em>开始。使用查询<code class="fe nd ne nf ng b">order by 10--</code>。根据数据库中使用的报价，相应地修改请求。在这里，我们没有得到任何错误，这证实了至少有10列存在。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nt"><img src="../Images/295f0c3d449c4cea6f59d32c8d2da158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kz8L0-Hrm4kkFpURX1yW-g.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">查询—某样东西cat ='1 order by 10 —(忽略&amp; rest)</figcaption></figure><p id="c2d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">修改查询为<code class="fe nd ne nf ng b">order by 15--</code>。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nu"><img src="../Images/28046fc781509d074b9400c05074676a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0aK16IDNVgePDsp6ay-n1A.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">查询—某样东西cat ='1 order by 15 —(忽略&amp; rest)</figcaption></figure><p id="809f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到一个SQL错误，因此15不是正确的值。</p><p id="2aa1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，这里写着<strong class="jp ir"> 10 &lt;栏数&lt; 15 </strong>。</p><p id="ecb2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">继续将该值减少到14..13..12，我们仍然得到SQL错误&amp;一旦我们到达11，错误就消失了。这得出的结论是<strong class="jp ir">列数=11。</strong></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nv"><img src="../Images/1005243de4e3d7e2062277a608ce7369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qACdpWgNrf-KCHeUNR0bEw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">查询—某样东西cat ='1 order by 11 —(忽略&amp; rest)</figcaption></figure><blockquote class="lj lk ll"><p id="0808" class="jn jo lm jp b jq jr js jt ju jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>根据数据库接受的值，如果数据库接受一个字符串值，您可能会得到一个数字10(整数)的错误。因此，您可以使用<code class="fe nd ne nf ng b">NULL</code>或<code class="fe nd ne nf ng b"><em class="iq">null</em></code>，它们将被接受为有效参数。因此，对3列的查询将变成<code class="fe nd ne nf ng b">order by null, null, null--</code>。这里，为了简化查询，我使用数字，因为我们知道这是一个有效的参数。</p></blockquote><p id="4571" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.现在，我们知道数据库中的<em class="lm">列</em>的数量是11。我们将寻找可以读取的易受攻击的<em class="lm">列</em>。使用查询<code class="fe nd ne nf ng b">union select 1,2,3,4,5,6,7,8,9,10,11--</code>。这将从易受攻击的<em class="lm">列</em>中检索详细信息。</p><p id="9c9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参考下图，我们得到了数字:2，7和9。因此，<em class="lm">列</em> 2，7 &amp; 9易受SQLi攻击。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nw"><img src="../Images/2eef56f88be87a842ee38bf6bff7d2e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8KqOH4kpxHjeYxbtaRF4qA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">query-something cat = ' 1 union select 1，2，3，4，5，6，7，8，9，10，11 —(忽略&amp; rest)</figcaption></figure><p id="68ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">6.现在，我们得到了易受攻击的<em class="lm">列</em> (2，7，9)。我们将使用它们来检索其他信息。首先是数据库名。使用查询<code class="fe nd ne nf ng b">union select 1,database(),3,4,5,6,7,8,9,10,11 --</code>。这将反映数据库名称，而不是2。或者使用查询<code class="fe nd ne nf ng b">union select 1,2,3,4,5,6,database(),8,9,10,11--</code>。这将反映数据库名称，而不是7。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nx"><img src="../Images/6beaf833e71d6cbebe80e2a6aa3aa872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_77pFjaPM9tXBsjempAasg.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">查询— something cat ='1 union select 1，database()，3，4，5，6，7，8，9，10，11 —(忽略&amp; rest)</figcaption></figure><p id="a104" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到了数据库名— <strong class="jp ir"> acuart。</strong></p><p id="24f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">7.现在，我们将尝试从DB <strong class="jp ir"> acuart中获取<em class="lm"> table_name </em>。</strong>使用查询<code class="fe nd ne nf ng b">union select 1,table_name,3,4,5,6,7,8,9,10,11 from information_schema.tables where table_schema=database()--</code>。相应地修改列。</p><p id="54be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们用<em class="lm">表名</em>代替了2。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ny"><img src="../Images/cb583e385e9dec7087f24d095b868230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9YxVUR7Z7wXn2BSoOARlvw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">query-something cat = ' 1 union select 1，table_name，3，4，5，6，7，8，9，10，11 from information _ schema . tables其中table _ schema = database()—(&amp; rest被忽略)</figcaption></figure><p id="73d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将追踪<em class="lm">table _ name</em><strong class="jp ir">users</strong>，你知道为什么。</p><p id="b8a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">8.现在我们有了数据库(acuart)和表名(users)。我们将选择<em class="lm">列名</em>。使用查询<code class="fe nd ne nf ng b">union select 1,column_name,3,4,5,6,7,8,9,10,11 from information_schema.columns where table_name='users' --</code></p><p id="1b84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">瞧啊。我们得到了各列<strong class="jp ir"> uname </strong> &amp; <strong class="jp ir">的通行证。</strong></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi nz"><img src="../Images/b4d53dce49d3dcddaa1501890f99eed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1_ta4KvWnsd8cRkTKRy6Qw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">query-something cat = ' 1 union select 1，column_name，3，4，5，6，7，8，9，10，11 from information _ schema . columns where table _ name = ' users '—(&amp; rest被忽略)</figcaption></figure><p id="1ad0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">9.最后我们得到了<em class="lm">表_名</em> &amp; <em class="lm">列_名</em>。是时候扔掉凭证了。使用查询<code class="fe nd ne nf ng b">union select 1,uname,3,4,5,6,pass,8,9,10,11 from users --</code>。因为值7也是易受攻击的，所以我们可以在那里检索细节。向下滚动到底部查看结果。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi oa"><img src="../Images/a307d9f933a6b04e75032bd8dafc05ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wrezwRJyQNoWn1S1rd5FEw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">来自用户的查询- something cat ='1 union select 1，uname，3，4，5，6，pass，8，9，10，11—(忽略&amp; rest)</figcaption></figure><p id="e9c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我们在uname:<strong class="jp ir">test</strong>&amp;pass:<strong class="jp ir">test中得到用户的凭证。</strong></p><p id="39d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">10.如果只有1个参数(此处为值2)可检索。使用<strong class="jp ir"> group_concat </strong>将这些值连接在一起。As: <code class="fe nd ne nf ng b">union select 1, group_concat(email,’:’,uname,’:’,pass),3,4,5,6,7,8,9,10,11 from users --</code></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ob"><img src="../Images/2abf94fb343043c3716e83ab150ac399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKx0VLkLkuzf9Efrp8L6Gw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">union select 1，group_concat(email，':'，uname，':'，pass)，3，4，5，6，7，8，9，10，11 from users —</figcaption></figure><p id="75b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哼！SQL注入就是猜测和尝试。要得到完美查询，可能需要反复试验。</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="b16a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们深入研究一下自动化工具，它可能有助于利用SQL注入。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/4a6690a451137e8c56172d01afc8d9e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/0*mxTLNFWefRz-a0hz"/></div></figure><h1 id="6c1e" class="mm km iq bd kn mn mo mp kq mq mr ms kt mt mu mv kw mw mx my kz mz na nb lc nc bi translated">通过SQLMAP利用SQL注入</h1><p id="9bd2" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">SQLMAP是一个开源的渗透测试工具，它自动执行检测和利用SQL注入漏洞以及接管数据库服务器的过程。它配备了一个强大的检测引擎，许多针对终极渗透测试器的利基功能，以及一系列广泛的开关，包括数据库指纹，从数据库获取数据，访问底层文件系统和通过带外连接在操作系统上执行命令。</p><p id="1dbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以从<a class="ae nh" href="http://sqlmap.org/" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多关于SQLMAP的信息。</p><p id="17cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者通过克隆<a class="ae nh" href="https://github.com/sqlmapproject/sqlmap" rel="noopener ugc nofollow" target="_blank"> Git </a>存储库:<code class="fe nd ne nf ng b">git clone --depth 1 https://github.com/sqlmapproject/sqlmap.git sqlmap-dev</code>来下载sqlmap</p><p id="7d17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，Parrot &amp; Kali OS已经预装了SQLMAP。让我们看看SQLMAP中有哪些可用的选项。</p><p id="c7a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用命令:</strong> <code class="fe nd ne nf ng b">#sqlmap -h</code>图1</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ok"><img src="../Images/2de8c7b6d905292ac957f3f38a3869dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HdPEie3FPygq4V0xkumi7Q.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图一</figcaption></figure><p id="967c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，我们将使用指定URL &amp; <code class="fe nd ne nf ng b">--dbs</code>的<code class="fe nd ne nf ng b">-u</code>来查询可用的数据库名称。</p><p id="9c6b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用命令:<code class="fe nd ne nf ng b">#sqlmap -u “<a class="ae nh" href="http://testphp.vulnweb.com/listproducts.php?cat=1" rel="noopener ugc nofollow" target="_blank">http://testphp.vulnweb.com/listproducts.php?cat=1</a>” --dbs</code>图2</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ol"><img src="../Images/36d64097b90333202ca7c3f6d46f8154.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BtX-2wAN3xAi_B_ajnk6eg.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图2</figcaption></figure><p id="fb61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意，在可用的数据库[2]中，我们有2个数据库名称。我们会去找阿夸特。图3。</p><p id="70b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nd ne nf ng b">[*] acuart<br/> [*] information_schema</code></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi om"><img src="../Images/9889ad7adbfdbe98485f70fd4834dd4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p80WsTuR16OWb2N3Ki_KLA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图3</figcaption></figure><p id="9afd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们将在DB acuart中寻找可用的表。</p><p id="ede5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用命令:</strong> <code class="fe nd ne nf ng b">#sqlmap -u “<a class="ae nh" href="http://testphp.vulnweb.com/listproducts.php?cat=1" rel="noopener ugc nofollow" target="_blank">http://testphp.vulnweb.com/listproducts.php?cat=1</a>” -D acuart --tables</code>图4</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi on"><img src="../Images/107e7e6ae194fa3ca8a2f8801e3ea7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E2NuuPp_EPCJOBTANdMW7g.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图4</figcaption></figure><p id="9249" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到了数据库中的表列表。我们要去的桌子:<code class="fe nd ne nf ng b">users</code>。图5。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi oo"><img src="../Images/53f44abb74468c1da21bb1e7bc78d8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5Dl6u9vDWjnz1z_d2eSKQ.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图5</figcaption></figure><p id="974e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用命令:</strong> <code class="fe nd ne nf ng b">#sqlmap -u “<a class="ae nh" href="http://testphp.vulnweb.com/listproducts.php?cat=1" rel="noopener ugc nofollow" target="_blank">http://testphp.vulnweb.com/listproducts.php?cat=1</a>” -D acuart -T users --dump</code>图6</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi op"><img src="../Images/7eedc5d0306dee1aede31c3b1e2df497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zkBpaqtOgsQmvM_fsAoaJg.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图6</figcaption></figure><p id="a0a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，<code class="fe nd ne nf ng b">--dump</code>命令(图6)从users表中转储可用的用户详细信息。因为这个表中只有一个用户(John Smith)，所以我们得到了一个单独的行(图7)。如果有更多的用户，我们会得到相应的详细信息。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi oq"><img src="../Images/e07a0a9702d0419c75d48d80d83f6578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48aDHW8zKugSPKhOd62WzQ.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">图7</figcaption></figure><h2 id="6794" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">**注意事项* *</h2><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/b2234692844e2c10a53fdaf0c4838025.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*wQI1JWzg-_nAqSnp"/></div></figure><p id="10d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意: Sqlmap是一个嘈杂但功能强大的工具，小心使用，否则你会陷入一些严重的麻烦。在任何测试之前，做彻底的研究&amp;了解你正在使用的命令，否则你可能会删除重要的数据库。</p><blockquote class="lj lk ll"><p id="a40a" class="jn jo lm jp b jq jr js jt ju jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj kk ij bi translated">谢谢！<a class="ae nh" href="https://www.linkedin.com/in/adityajain27/?originalSubdomain=in" rel="noopener ugc nofollow" target="_blank"> Aditya Jain </a>简化了SQL注入攻击的概念。在你的指导下学习是令人难以置信的。<em class="iq">😊</em></p></blockquote></div></div>    
</body>
</html>