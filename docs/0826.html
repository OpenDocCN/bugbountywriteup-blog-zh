<html>
<head>
<title>FUNBOX-3: EASY Walkthrough (Vulnhub)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FUNBOX-3:轻松穿越(Vulnhub)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/funbox-3-easy-walkthrough-vulnhub-fd13a1648445?source=collection_archive---------1-----------------------#2020-09-15">https://infosecwriteups.com/funbox-3-easy-walkthrough-vulnhub-fd13a1648445?source=collection_archive---------1-----------------------#2020-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a6ee" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">描述</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4e4fed61d6629b1cf06f09062a086a84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yo0aATL8IYvo5AEL0VttBQ.png"/></div></div></figure><p id="ed41" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是由<a class="ae ln" href="https://twitter.com/@0815R2d2" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> @0815R2d2 </strong> </a>制作的第三个boot2root CTF。这是在Vulnhub上发现的一系列有兔子洞的机器。这是一个简单的，如果你有关于SQL注入和上传反向外壳的知识。下载访问:【https://www.vulnhub.com/entry/funbox-easy,526/】<strong class="kt ir"><em class="lo"/></strong></p><blockquote class="lp lq lr"><p id="2426" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">获得的知识:-</p></blockquote><ol class=""><li id="a733" class="lv lw iq kt b ku kv kx ky la lx le ly li lz lm ma mb mc md bi translated">SQL注入</li><li id="f92f" class="lv lw iq kt b ku me kx mf la mg le mh li mi lm ma mb mc md bi translated">上传反向外壳</li><li id="5481" class="lv lw iq kt b ku me kx mf la mg le mh li mi lm ma mb mc md bi translated">特权提升技术</li></ol><blockquote class="lp lq lr"><p id="cfcb" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">端口扫描</p></blockquote><p id="a0b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在确定了预期的受害者之后，让我们运行一个Nmap扫描来查找开放的端口和正在运行的服务。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mj"><img src="../Images/d5e4b46c5485ba41e83f7eecc406d023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kOM8MmA4cBkvWCEX4OF_-g.png"/></div></div></figure><blockquote class="lp lq lr"><p id="b2c5" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">网络侦察</p></blockquote><p id="b3ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在80端口访问受害者的主页，显示的是Ubuntu的默认页面，没有任何有用的东西。所以，我尝试用gobuster来列举隐藏的目录。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/8c7dab40ef754bf5fa874f252c60d37d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yxvLc2ya_NjFGPJ8QAOoEw.png"/></div></div></figure><p id="525f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在枚举了所有的URL之后，我们将得到两个登录页面，一个在/store上，另一个在/admin上。首先，访问/store，在花了大量时间后，我知道它容易受到SQL注入的攻击。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/73cad95389f9269965e051e0046c5c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tDRN3VuSc9JZrI0qoN3y4Q.png"/></div></div></figure><p id="b371" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在打开SQLmap，因为我们在存储中，所以它可能是数据库名称。让我们试一试。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/a05f2c625871b31fdfe798dbdc095b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31NizblEXx9zBnuOF8lVJQ.png"/></div></div></figure><p id="cebe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们得到了这个😎</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mn"><img src="../Images/e2605a8a12032afc340898a28fcfe0d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pc0OpSt_CbaeA_ziAgMsVQ.png"/></div></div></figure><p id="23c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">登录admin帐户，我们会看到一个添加书籍的列表和一个标签<strong class="kt ir">添加新书</strong>。让我们试着上传PHP反向文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/381405d1fea80661edf12d92c17e6b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXqnpCC8vY7E-JefpnK6Sw.png"/></div></div></figure><p id="0fba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从<a class="ae ln" href="http://pentestmonkey.net/tools/web-shells/php-reverse-shell" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">这里访问PHP反向文件！！！</em></strong></a><strong class="kt ir"><em class="lo"/></strong>解压文件，用你的kali IP修改IP，文件上传成功。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/a59104b7d1e18f6dd014fcd240d31132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ShFZQSch9jbfgcyhmNJ9uQ.png"/></div></div></figure><p id="dbb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在打开一个选项卡，输入URL<strong class="kt ir">http://[IP _ address]/store/</strong>就会得到反向shell。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/cb65eeb510ae3eb142aef569b6119381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J5GRWFdLc4JItF61qxIKag.png"/></div></div></figure><p id="27b3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">导航到主目录，我们可以看到用户tony，其中包含一个password.txt文件。这个文件包含SSH登录凭证，让我们来获取它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/8a2cec292c858861e531185d5c8b384f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*yild_oqycT8LmnxPblw84w.png"/></div></figure><p id="7f27" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过SSH登录到tony。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/074434b1be4fe770d8147be4b6385623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bYJ4v8Vzjxx5oLV209wkEg.png"/></div></div></figure><p id="c2d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我们让tony检查他拥有的sudo权限的密码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/fa2ee6ea2554a1971119f2ebc96149bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*51Q_Q9DsvOUuhJqjPPmQvg.png"/></div></div></figure><p id="66da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">大量的服务🤑但是只有<strong class="kt ir"> pkexec </strong>、<strong class="kt ir"> time </strong>和<strong class="kt ir"> mtr </strong>会帮助我们升级特权。</p><blockquote class="lp lq lr"><p id="140c" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">通过pkexec进行权限提升(通过time<strong class="kt ir">sudo/usr/bin/time/bin/sh</strong>)</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/4d188880d30510233997bce5d6dc649c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtCxENADMudPovcCpQXQUA.png"/></div></div></figure><blockquote class="lp lq lr"><p id="6530" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">通过mtr提升特权</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/15ce54066bc25e0c80d97ed38bf01787.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7wmzjpBbT77SssYIHMebgg.png"/></div></div></figure><p id="ee69" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">等等，还有一种提升权限的方法，就是通过<em class="lo"> lxd。</em>为此访问文章<em class="lo"/><a class="ae ln" href="https://www.hackingarticles.in/lxd-privilege-escalation/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="lo">【https://www.hackingarticles.in/lxd-privilege-escalation/】</em></strong></a>或我的一个穿越<a class="ae ln" href="https://medium.com/@Shubham_Singh_/cheran-1-walkthrough-vulnhub-2922832eda4b" rel="noopener"><strong class="kt ir"><em class="lo">https://medium . com/@ Shubham _ Singh _/cheran-1-walk through-vulnhub-2922832 eda4b</em></strong></a></p><p id="0d46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如需更多演练，请继续关注…</p><h1 id="7c39" class="mw mx iq bd my mz na nb nc nd ne nf ng jw nh jx ni jz nj ka nk kc nl kd nm nn bi translated">在你走之前</h1><p id="eddf" class="pw-post-body-paragraph kr ks iq kt b ku no jr kw kx np ju kz la nq lc ld le nr lg lh li ns lk ll lm ij bi translated">访问我的其他新Vulnhub机器演练的:-</p><div class="nt nu gp gr nv nw"><a href="https://medium.com/@Shubham_Singh_/funbox-2-walkthrough-vulnhub-b1933209acf3" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">FunBox-2演练(Vulnhub)</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">描述</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">medium.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kp nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://medium.com/@Shubham_Singh_/healthcare-1-walkthrough-vulnhub-24d9d050dd9c" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">医疗保健:1次演练(Vulnhub)</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">作者描述</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">medium.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok kp nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://medium.com/@Shubham_Singh_/cheran-1-walkthrough-vulnhub-2922832eda4b" rel="noopener follow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">切兰:1次穿越(Vulnhub)</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">描述</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">medium.com</p></div></div><div class="of l"><div class="om l oh oi oj of ok kp nw"/></div></div></a></div><p id="e942" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">鼓掌👏如果你喜欢你所读的。欢迎反馈。</p></div></div>    
</body>
</html>