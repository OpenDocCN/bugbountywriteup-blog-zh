<html>
<head>
<title>TryHackMe- Bolt CTF Writeup (Detailed)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe- Bolt CTF报道(详细)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-bolt-ctf-writeup-detailed-15c96fff0d26?source=collection_archive---------4-----------------------#2020-10-11">https://infosecwriteups.com/tryhackme-bolt-ctf-writeup-detailed-15c96fff0d26?source=collection_archive---------4-----------------------#2020-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f0070e3f12f1b87b14c8390a0163cc92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pr3Q_8mO-kuXsYHNaofYHg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">CTF报道#9</figcaption></figure><p id="94a9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">欢迎各位！！我们将在<a class="ld le ep" href="https://medium.com/u/dc49a0a3cb16?source=post_page-----15c96fff0d26--------------------------------" rel="noopener" target="_blank"> TryHackMe </a>做博尔特·CTF。</p><div class="lf lg gp gr lh li"><a href="https://tryhackme.com/room/bolt" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">尝试黑客|螺栓</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">TryHackMe是一个学习和教授网络安全的在线平台，全部通过您的浏览器完成。</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">tryhackme.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw jz li"/></div></div></a></div><p id="bd7c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在桌面上为您的CTF计算机创建一个目录，并在CTF目录中为Nmap创建一个目录。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/73043a5759594c0844caaad9da59d8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*90Uo6AUPMmxXElahImTZDA.png"/></div></figure><p id="d2df" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们开始吧！！享受流动吧！！</p><h2 id="11dd" class="mc md it bd me mf mg dn mh mi mj dp mk kq ml mm mn ku mo mp mq ky mr ms mt mu bi translated">任务1-部署机器:</h2><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/fe96d31bddfcb1106e6240d5811ed611.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*znWozhxK1PqrONXpO1PwhA.png"/></div></div></figure><blockquote class="mw mx my"><p id="d043" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#1启动机器<br/>答:不需要回答</p></blockquote><h2 id="7f8d" class="mc md it bd me mf mg dn mh mi mj dp mk kq ml mm mn ku mo mp mq ky mr ms mt mu bi translated">任务2-侵入机器！：</h2><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/9ce4061ede25fa4d3d3be9d670c75d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y0zfSaMThgaW5bRFXWTdTg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">任务列表</figcaption></figure><h2 id="0b3a" class="mc md it bd me mf mg dn mh mi mj dp mk kq ml mm mn ku mo mp mq ky mr ms mt mu bi translated">Nmap扫描:</h2><blockquote class="mw mx my"><p id="32b9" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">nmap-sC-sV-p--关于nmap/bolt <machine_ip/></p><p id="b8be" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">-sC:默认脚本<br/> -sV:版本检测<br/> -oN:输出将存储在您之前创建的“nmap”目录中<br/> -p-:扫描所有端口</p></blockquote><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/5b29d42cbb63dd3c26f5ed6945486171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zyUvjZ0PMvYGFhYqcTzEeQ.png"/></div></div></figure><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/dd05b8014ee67ced5aee1fe1157803f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WiFY51C04R1l-rB1gqp4Tg.png"/></div></div></figure><p id="2112" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有3个端口打开:<br/>22/ssh-OpenSSH 7.6p 1<br/>80/http-Apache httpd 2 . 4 . 29<br/>8000/http-PHP 7 . 2 . 32–1</p><blockquote class="mw mx my"><p id="60d0" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#1.运行CMS的web服务器的端口号是多少？<br/>答案:8000</p></blockquote><p id="8752" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们看看在端口80上运行的服务器和在端口8000上运行的CMS</p><blockquote class="mw mx my"><p id="0d56" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">导航至<target_ip/></p></blockquote><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/55e8eece1648cf23a59ce704b444a531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zqu4D37jaJb75WqqI0Cd_w.png"/></div></div></figure><p id="5c0f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这是apache的默认页面。检查页面的源代码，寻找任何对我们的枚举过程有帮助的有趣信息总是好的。查看URL页的源代码。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/b317ecbf3479a5ca177add29cb6ce0fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*855E81WprksLgneBcEqmUw.png"/></div></div></figure><p id="56d5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们在源代码中没有发现任何隐藏/注释/信息。继续前进。</p><blockquote class="mw mx my"><p id="7f16" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">导航到<target_ip> :8000</target_ip></p></blockquote><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/375d9725f13953bdc499d26370839036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6EKB0662pq5ezr4wBtBKkA.png"/></div></div></figure><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/be8d92084b142c488780161961678531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*A_7rTFqfnw1FeZMINai9Mw.png"/></div></figure><p id="7438" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们发现一个自称为管理员的潜在用户名。其次，他的帖子包含了一个密码，这对我们很有帮助。太好了。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/679f7252ee602146e154d9fc9cccb40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*-NsEVizReo0qkYeK4zw1Xg.png"/></div></figure><p id="a406" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">向下滚动，您会发现CMS上的管理员使用的用户名。两个帖子都回答了我们任务中的两个问题。</p><blockquote class="mw mx my"><p id="afce" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#2.我们可以在CMS中找到的用户名是什么？<br/> Ans: XXXXXX <br/> #3。我们能找到的用户名的密码是什么？<br/>答案:XXXXXX</p></blockquote><p id="e4d2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们必须找到我们可以使用在前面的任务中发现的凭据登录到Bolt CMS的页面。<br/>如果我们谷歌简单地“bolt cms登录页面”并点击第一个链接。我们将被重定向到带有登录说明的页面。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/ae30dade25a799f06462ed5a44c0d50a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNQYoRD8YRBEfXScOwIDcA.png"/></div></div></figure><p id="be7e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">因此，我们可以尝试在URL中使用/bolt导航到登录页面。</p><blockquote class="mw mx my"><p id="4cbb" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">导航到http:// <target_ip> :8000/bolt</target_ip></p></blockquote><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/f5598f035bd8333b89028eda2333d660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EOpOJf3S6C5g53ERQLEerQ.png"/></div></div></figure><p id="5240" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们输入凭据，然后单击登录。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/58613458c03149352fd196e0e8016716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wkouz4q_ev3JtiUf1mMAYQ.png"/></div></div></figure><p id="55e5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">厉害！！我们在CMS！！<br/>如果你注意到左下角显示的是CMS的版本。它实际上回答了下一个任务。让我们提交它。</p><blockquote class="mw mx my"><p id="1d46" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#4.服务器上安装了什么版本的CMS？(例:名称1.1.1) <br/>答案:螺栓3.7.1</p></blockquote><p id="6b78" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在下一个任务中，我们需要搜索以前版本的Bolt CMS可用的漏洞利用的EDB ID。</p><div class="lf lg gp gr lh li"><a href="https://www.exploit-db.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">攻击性安全利用数据库档案</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">漏洞数据库-漏洞、外壳代码、0天、远程漏洞、本地漏洞、Web应用、漏洞报告…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">www.exploit-db.com</p></div></div></div></a></div><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/e6f65463b8e17732a67c2d2bcfaadbee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9zMmeHqUpQWihj-WJLJHg.png"/></div></div></figure><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/b553dc078663b6a7bdaeabea343fbc66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2v9xFcDlXmydG4xCGXe_Rg.png"/></div></div></figure><blockquote class="mw mx my"><p id="aa42" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#5.该CMS的早期版本存在漏洞，允许经过身份验证的RCE。在Exploit DB上找到它。它的EDB ID是什么？<br/> Ans: 48296</p></blockquote><p id="ac9c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在下一个任务中，我们必须提交针对上述漏洞的利用模块中可用的利用的完整路径。让我们启动metasploit。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/2f66b35a5d5bba81382a6eb43af4bee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PWTV-Tuz9qMXxExSDQvmGw.png"/></div></div></figure><figure class="ly lz ma mb gt ju"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="8c17" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">&gt;搜索螺栓</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/cc90ce136b00fad18ea7f4cb146980ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sPQu9r8ARGsAZdFknDhX2w.png"/></div></div></figure><blockquote class="mw mx my"><p id="2c6b" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#6.Metasploit最近为此漏洞添加了一个利用模块。这个漏洞的完整路径是什么？(例:exploit/…。)<br/>注意:如果你找不到漏洞利用模块，很可能是因为你的metasploit没有更新。运行`<strong class="kh iu"> apt更新</strong>`然后`<strong class="kh iu"> apt安装metasploit-framework</strong>`<br/>Ans:exploit/UNIX/web app/bolt _ authenticated _ rce</p></blockquote><p id="9a09" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">&gt;使用1 <br/> &gt;显示选项</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/bb2130d43b457271913df75846dabc9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YRfnMhRG_9mVwu9F1z7RIQ.png"/></div></div></figure><p id="56f6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们需要设置4个设置；密码，主机，用户名，主机。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/c2418086097210906b546c3d0122cd5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*cb-WHgIMqODu5AYPqEjX_A.png"/></div></figure><p id="4bd6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">一旦设置它们，我们就可以运行漏洞利用。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/7db3a13bbae4f0fca7f4e545703e40a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*MrnhEFdT_ebVuGeIvPX4zg.png"/></div></figure><blockquote class="mw mx my"><p id="429e" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#7.在运行漏洞攻击之前，在msfconsole中设置LHOST，LPORT，RHOST，USERNAME，PASSWORD</p></blockquote><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/099b54200e100733aba4b02360d97fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E7YRYw3zcPMRGSnhJFwtEA.png"/></div></div></figure><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/d187e1e8377ed998275bd39c93c3e8a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*ICg08ygoADHkjQebgDy5Uw.png"/></div></figure><p id="a8bd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">查看whoami和id的输出，我们可以确认我们是机器上的root，但是查看/root目录内部，我们没有找到标志。我们可以导航到/home目录，它就在那里等待我们去捕获它。</p><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/4e551ac97d8ba1a53a971e435df385c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*SPM--WDRzUQxhywt-8zxuA.png"/></div></figure><blockquote class="mw mx my"><p id="2f06" class="kf kg mz kh b ki kj kk kl km kn ko kp na kr ks kt nb kv kw kx nc kz la lb lc im bi translated">#8.在机器内部查找flag.txt。<br/>答:XXXXXXXXXXXXXXXXXXXX</p></blockquote><p id="946b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">瞧。！！太棒了！！我们已经成功地完成了房间里的所有任务。</p><figure class="ly lz ma mb gt ju"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="ly lz ma mb gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/32a62a9aea89aa81275ea8bc66d69d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*rh1qhuseqPQ6VJgpgfgK2A.png"/></div></figure><p id="c941" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你喜欢这个帖子，并且这个帖子在任何可能的方面帮助了你，请在评论中告诉我，或者用掌声分享你的爱。</p><blockquote class="ob"><p id="ba69" class="oc od it bd oe of og oh oi oj ok lc dk translated">作为10月PentesterLab赠品的一部分提交</p></blockquote><figure class="ol om on oo op ju"><div class="bz fp l di"><div class="oq ns l"/></div></figure><p id="375b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">谢谢你抽出时间。</p><p id="c56a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">跟着我。</p><p id="1e2d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在推特上关注我。</p><p id="6f27" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">更多的报道正在进行中。</p><p id="ac74" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">保重，注意安全，继续黑！</p><p id="6f25" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">-哈桑·谢赫</strong></p></div></div>    
</body>
</html>