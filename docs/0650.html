<html>
<head>
<title>From Recon to Bypassing MFA Implementation in OWA by Using EWS Misconfiguration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从侦察到利用EWS错误配置绕过OWA的MFA实施</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/from-recon-to-bypassing-mfa-implementation-in-owa-by-using-ews-misconfiguration-b6a3518b0a63?source=collection_archive---------1-----------------------#2020-06-23">https://infosecwriteups.com/from-recon-to-bypassing-mfa-implementation-in-owa-by-using-ews-misconfiguration-b6a3518b0a63?source=collection_archive---------1-----------------------#2020-06-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d038" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个关于我如何最终可以使用一个未注册到MFA的广告帐户的故事，通过使用EWS错误配置来访问电子邮件收件箱并(有能力)转储全球地址列表。</h2></div><p id="b731" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi">بسم الله الرحمن الرحيم</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="ac05" class="lk ll iq lg b gy lm ln l lo lp">Mirroring from: <a class="ae lq" href="http://www.firstsight.me/2020/06/from-recon-to-bypassing-mfa-implementation-in-owa-by-using-ews-misconfiguration/" rel="noopener ugc nofollow" target="_blank">http://www.firstsight.me/2020/06/from-recon-to-bypassing-mfa-implementation-in-owa-by-using-ews-misconfiguration/</a></span></pre></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="6b5e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="ly">注:</em> </strong> <em class="ly">我要再次感谢</em><a class="ae lq" href="https://twitter.com/th3g3nt3lman" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ly">th 3g 3 nt 3 lman</em></strong></a><strong class="kh ir"><em class="ly"/></strong><em class="ly">为他讲述了</em> <a class="ae lq" href="https://www.youtube.com/watch?v=l0YsEk_59fQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ly"> Github Recon和敏感数据曝光</em> </strong> </a> <strong class="kh ir"> <em class="ly">。</em> </strong> <em class="ly">我用它作为寻找广告凭据的一种方式。</em></p><p id="ea14" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ly">同时也感谢来自黑山信息安全</em>   <em class="ly">的博布洛克对他们在</em> <a class="ae lq" href="https://www.blackhillsinfosec.com/bypassing-two-factor-authentication-on-owa-portals/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">上发表的研究绕过了OWA和Office365门户</strong> </a> <strong class="kh ir"> <em class="ly">(通过使用EWS错误配置)</em> </strong> <em class="ly">。我用它来访问这个受保护的帐户，并增加它的影响。</em></p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="6b46" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像往常一样，我将尝试用两种不同的方法发布这篇文章，它们是:</p><ul class=""><li id="107f" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">对于那些只需要这一发现的要点的人(如果读者已经理解了每一个流程，它可以节省大量的时间)，请查看TL；DR部分，以及</li><li id="49e0" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">对于那些需要了解这一发现的执行流程或过程的人。总之，它可以告诉读者一些心态，并希望能帮助人们丰富自己的见解。</li></ul><p id="b610" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请欣赏这个故事。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="bcec" class="mn ll iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">I. TL速度三角形定位法(dead reckoning)</h1><p id="e075" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">以下是关于这个问题的简单观点:</p><ul class=""><li id="e566" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">寻找允许通过<strong class="kh ir">两种方法</strong>登录的目标，即作为雇员(使用域帐户)，以及作为其帐户是专门为站点本身创建的用户。</li><li id="0748" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">要使用员工帐户(域帐户)登录，站点<strong class="kh ir">会将我们引向另一个帐户。TLD </strong>(例如:从。com到网)——<strong class="kh ir">ADFS终点</strong>。</li><li id="d770" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">如果我们可以用域名登录，我们就可以访问这个网站，对吗？</li><li id="50ea" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">开始侦察GitHub。net域(不是。com)。比如:<strong class="kh ir"><em class="ly">password " . target . net "</em></strong></li></ul><p id="18f4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ly">参见</em><a class="ae lq" href="https://twitter.com/th3g3nt3lman" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ly">th 3g 3 nt 3 lman</em></strong></a><strong class="kh ir"><em class="ly"/></strong><em class="ly">会谈于</em> <strong class="kh ir"> <em class="ly"> Bugcrowd大学:</em></strong><em class="ly"/><a class="ae lq" href="https://www.youtube.com/watch?v=l0YsEk_59fQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ly">Github Recon及敏感数据曝光</em> </strong> </a> <em class="ly">或我的一篇报道:</em> <a class="ae lq" href="http://www.firstsight.me/2020/02/from-recon-to-optimizing-rce-results-simple-story-with-one-of-the-biggest-ict-company-in-the-world/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ly">从Recon到优化RCE结果</em> </strong></a></p><ul class=""><li id="d525" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">找到了一个包含多个文件的存储库，这些文件包含3000多行代码。在一行中，我<strong class="kh ir">发现了一个用户名(服务帐户— svc_nameofsvc)和密码，看起来像一个域帐户</strong>。试图登录与该帐户在ADFS，但结果显示，该帐户未注册与使用的MFA。简而言之，该帐户必须向所申请的MFA注册才能登录。当然，我们也需要用作MFA的“东西”。</li><li id="e9b7" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><strong class="kh ir">试图增加其影响</strong>。如果我们报告一个问题，我们发现了一个有效的密码，但无法登录，因为它被阻止，这不是很酷。</li><li id="55e4" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">尝试<strong class="kh ir">找到EWS端点</strong> →两者的子域枚举。com和。net →查找电子邮件子域(常见实现)→将EWS放在找到的子域后面→显示登录提示→使用找到的凭据登录→ <strong class="kh ir">能够登录</strong> —在此端点没有实现MFA(没有显示收件箱，记住，这是EWS)。</li><li id="8d86" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">执行<strong class="kh ir"> MailSniper </strong>工具至<strong class="kh ir"> EWS端点</strong>。成功阅读收件箱。</li></ul><p id="6526" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参见<a class="ae lq" href="https://www.blackhillsinfosec.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">黑山信息安全研究</strong> </a> : <a class="ae lq" href="https://www.blackhillsinfosec.com/bypassing-two-factor-authentication-on-owa-portals/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">绕过OWA和Office365门户上的双因素认证</strong> </a>。PoC视频关于他们的研究:<a class="ae lq" href="https://www.youtube.com/watch?v=Bb_T3ILfllU" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> O365 MFA旁路信息</strong> </a>。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/0d35b4f953a362411516016b3942d745.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gKntTOjbACURTh3_.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图1-成功阅读收件箱</figcaption></figure><ul class=""><li id="d3dc" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">做一个报告(7页左右)，把这个问题报告给程序负责人。</li><li id="5dd9" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">试图再次增加它的影响。告诉他们，如果我们有能力<strong class="kh ir">利用这个问题转储“全球通讯录”</strong>是有可能的。从那里，我们<strong class="kh ir">也能够做密码喷涂</strong>(与发现的密码相同)<strong class="kh ir">到</strong> <strong class="kh ir">其他服务账户</strong>即被创建。</li></ul><p id="6c1c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ly">参见</em> <a class="ae lq" href="https://www.blackhillsinfosec.com/abusing-exchange-mailbox-permissions-mailsniper/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ly">滥用Exchange邮箱权限与mail sniper</em></strong></a><em class="ly">—转储全局通讯录。</em>一<em class="ly">二见</em> <a class="ae lq" href="https://www.blackhillsinfosec.com/attacking-exchange-with-mailsniper/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ly">攻击交换与mail sniper</em></strong></a><em class="ly">——进行口令喷洒。</em></p><ul class=""><li id="88a7" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">当天分赏<strong class="kh ir">。并在第二天</strong>固定<strong class="kh ir">。</strong></li></ul><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/3633b757b9965e568bb11cae63094f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*n9hi_gcTAWxFrnKq.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图2——大约2天就修复了这个Bug</figcaption></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="eefe" class="mn ll iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">二。旅程</h1><h2 id="8338" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.1.幕后第一部分</h2><p id="2919" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">有一天，我想测试范围内资产中包含的一个子域。从可用的许多资产来看，似乎只有该资产允许用户以两种方式登录，即作为员工(使用域帐户)，以及作为其帐户是专门为此应用程序创建的用户。</p><p id="8a12" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当时我尝试用一些被认为是弱密码的常用密码登录，效果并不好。在几次失败的尝试之后，我决定用一个员工帐户来测试登录方法。</p><p id="8cd7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们选择使用员工帐户登录时，该应用程序将引导我们使用另一个帐户登录ADFS端点。TLD(例如，来自。com到。网)。从这里，我们可以得出结论，如果我们有一个员工帐户(域帐户)，那么我们可以登录到这些应用程序。</p><p id="2568" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">那么，我们该怎么办呢？</strong></p><p id="b365" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯，我正试着回归基本。在这种情况下，我开始在GitHub上侦察，寻找可能对我有用的东西。(这次会谈可能是一个非常好的参考:<a class="ae lq" href="https://www.youtube.com/watch?v=l0YsEk_59fQ" rel="noopener ugc nofollow" target="_blank"> Github Recon和敏感数据曝光</a>)。总之，我找到了一个有趣的知识库，让我找到了有趣的发现(本文不讨论)。发送报告后，他们在两天内进行分诊和奖励。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/ef0469181820d0d5f82fbb979e325057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*slpv44ANpMc734qu.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图3 —该计划的第一个发现</figcaption></figure><p id="16a9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一个关于recon部分的参考:我的一篇文章:<a class="ae lq" href="http://www.firstsight.me/2020/02/from-recon-to-optimizing-rce-results-simple-story-with-one-of-the-biggest-ict-company-in-the-world/" rel="noopener ugc nofollow" target="_blank">从Recon到优化RCE结果</a>。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="8304" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.2.幕后第二部</h2><p id="14c9" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">那天之后，我发现了另外两个简单的问题(也获得了奖励),然后我就再也不知道该怎么做了。</p><p id="c55d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，我再次回到GitHub去呼吸新鲜空气。我再次做的事情是把<strong class="kh ir">密码“. target . net”</strong>关键词放到GitHub上。在之前的资源库从GitHub移除后，我发现另一个有趣的资源库<strong class="kh ir">在第一页</strong>排名第5。</p><p id="9cf4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">老实说，那些结果上没有密码信息。但是根据我的经验，<strong class="kh ir">凭证并不总是放在参数后面</strong>。从这种心态出发，然后我开始探索这个知识库。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="496e" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.3.探测</h2><p id="0db3" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">当我打开那个存储库时，我真的被它的行数(3000多行代码)惊呆了。嗯，当我发现这个的时候是我所在时区的午夜，我当时的状态不太好，无法阅读这么多行——记住，我做这个GitHub Recon <strong class="kh ir">是为了呼吸新鲜空气</strong>。</p><p id="a307" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，当我看到第6-27行时，情况发生了变化——关于一个AD帐户和连接字符串(尽管<strong class="kh ir">在这一行中还没有</strong>凭证)。</p><p id="5280" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从这里开始，我希望开发人员犯一个常见的错误，将硬编码凭证放在这个回购中。(是的，<strong class="kh ir">希望成真</strong>)！</p><p id="c4d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第394行，我发现2个我认为是凭据的文本(我怀疑是否有开发人员制作如此困难的参数)。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="7668" class="lk ll iq lg b gy lm ln l lo lp">string Table = "file.xlsx";<br/>XYZEndpoint endpoint = new XYZEndpoint("<strong class="lg ir">username_here</strong>", "<strong class="lg ir">very_complex_password_here</strong>");<br/>string response = endpoint.GetCollectionData(Table);</span></pre><p id="e2b4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于这种情况，后来我立即把它用在ADFS端点(使用的那个。net域)。尝试登录后，我什么也做不了。账户<strong class="kh ir">没有在<em class="ly">审查</em> MFA </strong>上注册。</p><p id="9b3f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">(我删除了用来避免误解这篇报道的MFA。我担心人们是否认为这是MFA供应商的漏洞——注意:它不是。</p><p id="379b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我停下来了吗？还没有。我试图找到另一个端点(如VPN服务)，但我再次无法使用它登录。我已经尝试了大约3个VPN端点，没有一个能够让我登录。</p><p id="f428" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么，我停下来了吗？再说一遍，还没有。我必须设法增加它的影响。如果我们报告一个问题，我们发现了一个有效的密码，但无法登录，因为它被阻止，这不是很酷。</p><p id="00e7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ly">在这种情况下，时间越来越紧！为什么？因为我确定，</em> <strong class="kh ir"> <em class="ly">会有一个报警被触发</em> </strong> <em class="ly">因为(至少)有超过</em> <strong class="kh ir"> <em class="ly"> 4次的尝试是从我来自的国家</em> </strong> <em class="ly">进行的。</em></p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="7f28" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.一种不用注册审查MFA就能阅读收件箱的方法</h2><h2 id="44f5" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.1.Exchange Web服务(EWS)端点！</h2><p id="6e2c" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">对这种情况几乎绝望，然后是Alhamdulillah，我想起了BlackHills InfoSec发布的一项关于绕过OWA门户网站双因素认证的研究。</p><p id="13ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据研究，他们(BlackHills InfoSec)表示，尽管该帐户被2FA封锁(在这种情况下，该帐户未被封锁，但尚未在所用的MFA上注册)，但我们有可能阅读该帐户上的每封电子邮件。这可以通过在EWS端点使用常见的错误配置来实现。</p><p id="7957" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将引用一个关于这一点的很好的解释(让专家来解释给你听，包括那些做了精彩演讲的人——尼克·兰德斯的<a class="ae lq" href="https://www.youtube.com/watch?v=cVhc9VOK5MY" rel="noopener ugc nofollow" target="_blank">展望和交换坏人——以及那些发布这项研究的人——黑山信息安全</a>的<a class="ae lq" href="https://www.blackhillsinfosec.com/?team=beau-bullock" rel="noopener ugc nofollow" target="_blank">博·布洛克)。</a></p><blockquote class="og oh oi"><p id="d6a4" class="kf kg ly kh b ki kj jr kk kl km ju kn oj kp kq kr ok kt ku kv ol kx ky kz la ij bi translated">Beau说:在DerbyCon的时候，我参加了一个由Nick Landers做的名为“展望T12坏人的交流”的演讲。这是一个很棒的演讲，我强烈推荐大家去看看。在他的演讲中，Nick收到了听众关于双因素身份认证(2FA)是否会阻止他在演讲中提到的攻击的问题。尼克回复了一句我觉得很有意思的话。他说 <strong class="kh ir">“我看到一些组织将2FA封锁在OWA。因此，当您访问Outlook Web Access时，您必须提供一个令牌，然后才能完成登录。这不会阻止很多攻击，因为双因素身份验证不适用于EWS或自动发现页面上的NTLM身份验证。”</strong></p></blockquote><p id="dbaa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么，EWS是什么？引用自Beau的研究:“<em class="ly"> EWS是基于web的API，在Exchange服务器上启用，微软建议客户在开发需要与Exchange交互的客户端应用程序时使用。API允许应用程序能够与用户邮箱中的电子邮件、联系人、日历等进行交互</em>。</p><p id="c7c7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">简而言之，在一般的实现中(感谢程序所有者的解释)，即使ADFS受到了MFA的保护，但有时系统所有者会忽略强制其他端点使用MFA(在本例中为EWS端点)。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="2143" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.2.寻找EWS端点-子域枚举！</h2><p id="6760" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">起初，我不知道这个目标上是否有EWS端点配置错误。所以，我正在尝试做子域枚举。</p><p id="8a72" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">老实说，我知道公司通常的做法是将这个EWS端点放在<strong class="kh ir">mail</strong>/<strong class="kh ir">email</strong>/<strong class="kh ir">webmail</strong>子域上。但是，做这种列举并不是浪费时间。至少只需要几分钟。而且结果，InshaAllah，希望以后对我有用(谁知道呢，也许有一天他们会把*.target.com做成范围内目标的一部分)。</p><p id="f143" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>在这种情况下，我使用Screetsec创建的<a class="ae lq" href="https://github.com/Screetsec/Sudomy" rel="noopener ugc nofollow" target="_blank"> Sudomy子域枚举工具</a>。</p><p id="f0a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">几分钟后，我得到了结果。然后不出所料，他们有“<strong class="kh ir"> mail </strong>”子域。当我第一次访问mail.target.com时，这个子域又把我指引到了ADFS端点(在。net TLD)。然后在第二次尝试中，我试图将EWS放在mail.target.com后面，它显示了一个登录提示。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/6347bd9b851a5ce425fc57242b5249a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-UrPSWqWydNyUC96.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图4 —登录提示</figcaption></figure><p id="c7fc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我在这个提示符下输入找到的凭证时，我终于成功了！我可以在不提供任何MFA的情况下登录，也不需要向所使用的MFA注册该帐户。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/0d707926d9eff99a12f8757224e19312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Yt_sgF6ZZplmLikM.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图5 —未注册MFA就成功登录</figcaption></figure><p id="fec3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据这个结果，我决定继续我的第一个目标，那就是阅读收件箱，而不必注册MFA。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="e9ad" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.3.准备环境</h2><p id="a1a7" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">所以，我们需要做的第一件事就是从这些账户上下载https://github.com/dafthack/MailSniper的邮件狙击工具。基本上，这个工具是为了让人们更容易使用某些词在电子邮件中搜索数据。但是，这个工具也可以帮助我们在EWS环境中阅读电子邮件。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="d63f" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.4.“旁路”</h2><p id="2bc6" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">下载完工具后，运行powershell并执行以下命令:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="f06c" class="lk ll iq lg b gy lm ln l lo lp"><strong class="lg ir">C:\Users\YoKo\Tools&gt; </strong>powershell.exe -exec bypass<br/>Windows PowerShell<br/>Copyright (C) Microsoft Corporation. All rights reserved. <br/> <br/>Try the new cross-platform PowerShell <a class="ae lq" href="https://aka.ms/pscore6" rel="noopener ugc nofollow" target="_blank">https://aka.ms/pscore6</a> <br/> <br/><strong class="lg ir">PS C:\Users\YoKo\Tools&gt;</strong> cd .\MailSniper-master\<br/><strong class="lg ir">PS C:\Users\YoKo\Tools\MailSniper-master&gt;</strong> Import-Module .\MailSniper.ps1<br/><strong class="lg ir">PS C:\Users\YoKo\Tools\MailSniper-master&gt;</strong> Invoke-SelfSearch -Mailbox <strong class="lg ir">username</strong>@<strong class="lg ir">domain.tld</strong> -ExchHostname <strong class="lg ir">mail.domain.tld</strong> -Remote</span></pre><p id="27a6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">简而言之，应该执行两个命令，它们是:</p><ul class=""><li id="6016" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated"><em class="ly">导入-模块。\MailSniper.ps1 </em>，以及</li><li id="142a" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><em class="ly">Invoke-self search-邮箱</em> <strong class="kh ir"> <em class="ly">用户名</em></strong><em class="ly">@</em><strong class="kh ir"><em class="ly">domain . TLD</em></strong><em class="ly">-exch hostname</em><strong class="kh ir"><em class="ly">mail . domain . TLD</em></strong><em class="ly">-Remote</em></li></ul><p id="7bb5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，我们输入命令后，<strong class="kh ir">会弹出一个凭证框</strong> <strong class="kh ir">，要求<strong class="kh ir">用户名</strong> @ <strong class="kh ir"> domain.tld </strong>的凭证</strong>。我们需要做的只是再次输入凭证。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/83bc939b73ceb40fd5a097bb2ea3d16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/0*NetU6-WieuZMbj3_.png"/></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图6 — Windows PowerShell凭据请求</figcaption></figure><p id="ac16" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一切都正确，那么工具会给我们一个信息，如果“他们”找到了一个收件箱文件夹。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="0cc0" class="lk ll iq lg b gy lm ln l lo lp">[*] Trying Exchange version Exchange2010<br/> <br/>cmdlet Get-Credential at command pipeline position 1<br/>Supply values for the following parameters:<br/>Credential<br/>[*] Using EWS URL <a class="ae lq" href="https://mail.domain.tld/EWS/Exchange.asmx" rel="noopener ugc nofollow" target="_blank"><strong class="lg ir"><em class="ly">https://mail.domain.tld/EWS/Exchange.asmx</em></strong></a><br/>[***] Found folder: Inbox<br/>[*] Now searching mailbox: <strong class="lg ir">username</strong>@<strong class="lg ir">domain.tld</strong> for the terms *password* *creds* *credentials*.</span></pre></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="f0bb" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.5.结果呢</h2><p id="1113" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">几分钟后(取决于邮件中找到多少提供的关键词)，我们会得到一个结果。在这种情况下，与密码、凭证或这个帐户上的凭证相关的东西是社交媒体信息。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/d92bb0d8ceee1fc50fae1379fc396b17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jMjLdru8d4EIvJeK.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图7 —使用MailSniper通过EWS访问目标的收件箱</figcaption></figure><p id="511e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了确保结果是正确的，我还试着用同样的账号和密码登录这些社交媒体。<strong class="kh ir">结果是，正确！</strong>但不幸运的是，社交媒体行为保护要求我输入正确的电话号码(这很正常，我试图从不同的国家登录)。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/cde990fb627f276c09e3dbf7ee937254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TciJsHRqt0N3fdfo.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图8 —查看受害者收件箱中我自己的邮件的另一个测试</figcaption></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="4fa2" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.6.再次尝试增加它的影响</h2><p id="e5da" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">也许我们中的一些人会问，我们不能用这个帐号登录VPN，我们也有有限的访问权来利用这个帐号来利用系统(因为我们不能用它来进入目标内部网络)。那么，我们还能做些什么呢？</p><p id="e4f1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯，我也有一个类似的问题，至少，直到我看到了黑山信息安全公司的博·布洛克发布的另一项研究。简而言之，针对我们的情况，我们还可以做两件事。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="1a07" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.6.1.全局地址列表转储和密码喷洒到整个帐户</h2><p id="488b" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">在我们进一步讨论之前，让我问你一个问题，系统所有者在维护多个服务帐户时最常犯的错误是什么？(记住，在这种情况下，我找到了一个服务帐户)。</p><p id="a403" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你认为有一种<strong class="kh ir">的可能性</strong>，如果系统所有者<strong class="kh ir">为另一个服务账户(或他们管理的另一个账户)</strong>使用相同的密码，那么我可以说答案是正确的。</p><p id="17d6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果我们能够转储全球地址列表，那么在沙拉我们有机会找到其他具有相同模式的服务帐户。而且我们还有机会对所有找到密码的服务账户执行密码喷射攻击(不需要测试其他凭证，因为我相信企业中有限速保护。我们只需要测试我们找到的一个密码)。</p><p id="7834" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了做到这一点，我们可以看到这两项研究:</p><ul class=""><li id="2405" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">第一项研究:<a class="ae lq" href="https://www.blackhillsinfosec.com/abusing-exchange-mailbox-permissions-mailsniper/" rel="noopener ugc nofollow" target="_blank">利用MailSniper </a>滥用Exchange邮箱权限。转储全局地址列表的方法可以在本研究的“<strong class="kh ir"> Invoke-OpenInboxFinder </strong>”部分找到。</li><li id="4fc3" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">第二次研究:<a class="ae lq" href="https://www.blackhillsinfosec.com/attacking-exchange-with-mailsniper/" rel="noopener ugc nofollow" target="_blank">用MailSniper </a>攻击交易所。Beau Bullock陈述的一个好消息是:“<em class="ly">在测试中，我注意到EWS密码喷涂方法明显更快。无论是Invoke-PasswordSprayOWA还是使用15线程的Burp Intruder，都用了大约1小时45分钟的时间</em> <strong class="kh ir"> <em class="ly">完成了对10000个用户的喷。向EWS喷同样的用户列表只用了9分28秒</em>。</strong>“很好，不是吗？</li></ul><p id="19fe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从这里，我们正好有机会增加它的影响！嗯，我说一个机会，因为我真的不确定这种技术是否可行。但是通过研究中提出的方法，我确信这是可行的！</p><p id="112a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注:我<strong class="kh ir">没有执行这个</strong>。没有任何许可，我们不能做这件事。(是的，在真正的攻击中，攻击者不会询问任何权限，但请注意，在bug hunting中的<strong class="kh ir">，我们并没有打算违反</strong>。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="1f1a" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.4.7.另一种可能的情况</h2><p id="7413" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">在另一种情况下，外部攻击者有可能将此问题与社会工程活动结合起来。例如，他们表现得像找到的帐户的有效帐户所有者，并试图通过电子邮件欺骗(target.tld域)与受害者通信。</p><p id="36ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，攻击者与内部团队“建立关系”,以确保这些攻击者能够完全访问帐户(使用设备/电话号码/等向MFA注册)。由攻击者控制)。不确定这种情况有多有效，但是考虑一下风险可能会很好。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="52ca" class="lk ll iq bd mo nv nw dn ms nx ny dp mw ko nz oa my ks ob oc na kw od oe nc of bi translated">2.5.奖励</h2><p id="ca17" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">举报已经一天审奖励，第二天固定。</p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/bd6b356a8bcd7e44efe589b08b3091d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0NrS6wj1sAMbxXZq.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk translated">图9——这个错误在大约2天内就被修复了</figcaption></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="6edb" class="mn ll iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">三。经验教训</h1><p id="0bd8" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">在这一部分，我想再补充一些我在一篇文章中提到过的<a class="ae lq" href="http://www.firstsight.me/2020/02/from-recon-to-optimizing-rce-results-simple-story-with-one-of-the-biggest-ict-company-in-the-world/" rel="noopener ugc nofollow" target="_blank">的经验教训:</a></p><ul class=""><li id="7c8c" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">在我看来(如果我错了，请纠正我)，侦察并不总是意味着资产发现活动。在这一次，这也意味着我们试图学习API如何工作，target的开发文化，等等。</li></ul><p id="1893" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请记住，在回复<a class="ae lq" href="https://twitter.com/mongobug" rel="noopener ugc nofollow" target="_blank"> @Mongobug </a>的一条推文时，<a class="ae lq" href="https://twitter.com/NahamSec" rel="noopener ugc nofollow" target="_blank"> @NahamSec </a>也用非常简单的话解释了recon的一个定义:<em class="ly"> Recon不应该仅限于寻找资产和过时的东西。它还能理解应用程序，找到不易使用的功能。为了取得成功，需要在应用程序的侦察和良好的ol黑客之间取得平衡。</em></p><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/264e6db337575d9699ce67184a8e6ef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2LHVZCg-0WC8R6BS.png"/></div></div></figure><ul class=""><li id="857c" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">不要放弃阅读从GitHub Recon活动中在GitHub存储库中找到的每一行代码。老实说，我还没有完全阅读代码。我只是取点，读参数，试着理解流程，看看有没有什么好的可以用的。</li><li id="2449" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">根据我的经验，凭证并不总是放在参数后面。从这种心态出发，尝试探索你找到的知识库。</li><li id="3711" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">请享受你的捕虫活动。也许不是每个人都同意这一点，但是，不要总是想着赏金(特别是如果你刚刚开始在这一个，从来没有一个经验)。尽量考“合法/官方”目标。总之，它可以提高你的知识，方法，以及在提供奖励的目标中寻找漏洞的任何东西。</li></ul><p id="28bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我试图从不提供赏金的目标(但开启了负责任的揭露计划)那里学到很多技术(我从未面对过)。在这一点上，我能说的一件事是，那些被使用的技术并不总是我们每天面对的技术。换句话说，我们需要一个官方的“操场”(法律目标)来学习它，让我们熟悉它。</p><ul class=""><li id="1385" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">试着回到基础</li><li id="2aed" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">如果你认为有人能轻而易举地做到，那么试着<a class="ae lq" href="https://twitter.com/brutelogic/status/964143091635630080" rel="noopener ugc nofollow" target="_blank">看看这些来自<a class="ae lq" href="https://twitter.com/brutelogic" rel="noopener ugc nofollow" target="_blank"> @BruteLogic </a>的激励性话语</a>:“他们认为我们做事很快。但是有很多艰苦的工作，无止境的反复试验。花很多时间分析搜索引擎结果，阅读大量没有帮助的信息。他们最终看到的是表演时间。我们让它看起来很容易，但事实并非如此。”</li></ul><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi on"><img src="../Images/cdcd4010c66e1de503a10f9797afd5a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pBYN7qqG426DNdwR.png"/></div></div></figure><ul class=""><li id="8a80" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">最后一条是我最喜欢的名言(说真的，这很美) :</li></ul><figure class="lb lc ld le gt nk gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nj"><img src="../Images/8f95d053619669e01d6b1e8fdbfefc6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5iKs_sAsyaWFJKFd.png"/></div></div></figure><p id="07ce" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些话真的激励我分享东西，即使我分享的东西并不总是好东西。但是在安拉的允许下，我得到了很多反馈，这些反馈激励我改正我的错误或改进事情。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="31f4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好了，最后我的简单文章到此结束。下次见，英沙拉。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="bf59" class="mn ll iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">四。信用</h1><ul class=""><li id="1e09" class="lz ma iq kh b ki ne kl nf ko oo ks op kw oq la me mf mg mh bi translated"><a class="ae lq" href="https://twitter.com/th3g3nt3lman" rel="noopener ugc nofollow" target="_blank"> Th3g3nt3lman </a>在Bugcrowd大学演讲:<a class="ae lq" href="https://www.youtube.com/watch?v=l0YsEk_59fQ" rel="noopener ugc nofollow" target="_blank"> Github Recon和敏感数据曝光</a>。</li><li id="8f13" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><a class="ae lq" href="https://www.blackhillsinfosec.com/bypassing-two-factor-authentication-on-owa-portals/" rel="noopener ugc nofollow" target="_blank">绕过OWA的双重认证&amp; Office365门户</a> —黑山信息安全。</li><li id="4968" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><a class="ae lq" href="https://www.youtube.com/watch?v=Bb_T3ILfllU" rel="noopener ugc nofollow" target="_blank"> O365 MFA旁路信息</a> (PoC视频)—黑山信息安全。</li><li id="a3ca" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">尼克·兰德斯的《坏人的展望与交换》——关于德比康6.0</li><li id="9a02" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><a class="ae lq" href="https://www.blackhillsinfosec.com/abusing-exchange-mailbox-permissions-mailsniper/" rel="noopener ugc nofollow" target="_blank">利用MailSniper滥用Exchange邮箱权限</a> —黑山信息安全。</li><li id="6084" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><a class="ae lq" href="https://www.blackhillsinfosec.com/attacking-exchange-with-mailsniper/" rel="noopener ugc nofollow" target="_blank">用MailSniper攻击交易所</a> —黑山信息安全。</li><li id="3d85" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">邮件狙击手——https://github.com/dafthack/MailSniper。</li><li id="282d" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><a class="ae lq" href="https://github.com/Screetsec/Sudomy" rel="noopener ugc nofollow" target="_blank"> Sudomy子域枚举工具</a> by Screetsec。</li><li id="1bda" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><a class="ae lq" href="http://www.firstsight.me/2020/02/from-recon-to-optimizing-rce-results-simple-story-with-one-of-the-biggest-ict-company-in-the-world/" rel="noopener ugc nofollow" target="_blank">从侦察到优化RCE结果</a>。</li></ul></div></div>    
</body>
</html>