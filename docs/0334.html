<html>
<head>
<title>Using Shodan Better Way! :)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Shodan更好的方法！:)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/using-shodan-better-way-b40f330e45f6?source=collection_archive---------0-----------------------#2019-07-05">https://infosecwriteups.com/using-shodan-better-way-b40f330e45f6?source=collection_archive---------0-----------------------#2019-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="24a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好！</p><p id="07a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你们都有一个获得巨额奖金的好时光；)更不用说，它确实激励我去寻找那些获得奖金的人，让他们停止拖延，与其他黑客和睦相处。</p><p id="dc4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">老实说，很长一段时间以来，我一直是一个脚本小子，只是随意地到处复制粘贴有效载荷，但从未试图理解技术本身。</p><p id="c864" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">切换到开发模式对我更好地理解概念帮助很大，在那段时间里，我意识到有效载荷是如何有意义的。与此同时，我注意到许多人提到shodan和其他平台，如censys、binaryedge和ZoomEye，作为他们的首选工具，我想知道人们如何找到这些隐藏的资产，因为大多数人已经知道它们。事实证明，秘密在于你如何寻找模式，以及你对你的目标了解多少。技术和工具对你们所有人都是可用的，但这完全取决于你如何使用它们。</p><p id="9496" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我学习的初始阶段，我总是用来搜索一个模式，如“site.com ”,就是这样，我希望一些Jenkins实例会弹出来，因为我相信我有好运:P但这完全不是真的。</p><p id="9b5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果很好，但没有达到我的预期，因为大多数公司都有一个安全团队制定指导方针，这使得我们作为黑客的工作有点乏味。所以我开始学习(研究)如何让我的侦察更好更有效。</p><p id="9463" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我经常做的第一步是在Shodan.io上搜索SSL证书。Shodan有很多过滤器可以用来过滤结果中的垃圾。一个这样的过滤器是<strong class="jp ir"> ssl:"target" </strong>，它将在ssl证书中搜索字符串<strong class="jp ir"> target </strong>。</p><p id="1bfa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了演示，我们将搜索Paypal的SSL证书。</p><blockquote class="kl km kn"><p id="af2f" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">【https://www.shodan.io/search?query=ssl%3A%22Paypal%22 T4】</p></blockquote><p id="5947" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你所看到的，shodan已经搜索了Paypal名下的证书，更不用说我们可以看到太多的垃圾，如访问被拒绝，这是因为Akamai，但我们也可以通过在我们的搜索查询中添加200(这是一个状态代码)来过滤掉它们，这样我们的查询看起来就像<strong class="jp ir"> ssl:"paypal" 200 </strong>。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/bf6c3b077c62aca6e08950459e29e76e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m9P3Vm381bZEtU8tmUgpPw.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">过滤结果</figcaption></figure><blockquote class="kl km kn"><p id="cd1e" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><a class="ae ks" href="https://www.shodan.io/search?query=ssl%3A%22Paypal%22+200" rel="noopener ugc nofollow" target="_blank">https://www.shodan.io/search?query=ssl%3A%22Paypal%22+200</a></p></blockquote><p id="4995" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以通过append在我们的查询中后跟模式，对您不希望搜索的特定内容进行反向搜索。</p><blockquote class="kl km kn"><p id="3539" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><a class="ae ks" href="https://www.shodan.io/search?query=ssl%3A%22Paypal%22+-%22AkamaiGHost%22" rel="noopener ugc nofollow" target="_blank">https://www.shodan.io/search?query = SSL % 3A % 22 paypal % 22+-% 22 akamaighost % 22</a></p></blockquote><p id="1a3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不知道为什么，但我对管理亚马逊AWS上的资源很感兴趣。为了提高搜索效率，我使用了<strong class="jp ir"> org:"Amazon" ssl:"target" </strong></p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi lj"><img src="../Images/e66f542e4b0efe086fbaa62781b8a8c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*21RBA0RXd99B9qhg8zdtpA.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">亚马逊AWS</figcaption></figure><blockquote class="kl km kn"><p id="8cf5" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">【https://www.shodan.io/search? T2】query = org % 3A % 22 Amazon % 22+SSL % 3A % 22 paypal % 22</p></blockquote><p id="b6dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我关注的另一个特定搜索模式是在html源中查找一些特定的内容，shodan通过为同一个“HTML”引入过滤器使我们的工作变得简单。</p><p id="f40c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我了解到版权页脚总是出现在应用程序中，所以我总是关注它，也许会有一些东西弹出来。</p><p id="762e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">搜索查询应该类似于<strong class="jp ir"> html:“模式”。</strong></p><p id="5817" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也不要忘记，它帮助我找到一个特定技术后的资产很多。例如，为了搜索Jenkins实例，我倾向于使用<strong class="jp ir">html:“Dashboard Jenkins”</strong>或类似的东西。许多人会争辩说宁愿使用<strong class="jp ir"> http.component:"jenkins" </strong>来搜索特定的技术或组件，但我更喜欢自己的方式。</p><blockquote class="kl km kn"><p id="7b0a" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><a class="ae ks" href="https://www.shodan.io/search?query=http.component%3A%22jenkins%22" rel="noopener ugc nofollow" target="_blank">https://www.shodan.io/search?query = http . component % 3A % 22 Jenkins % 22</a></p><p id="01e1" class="jn jo ko jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated"><a class="ae ks" href="https://www.shodan.io/search?query=html%3A%22Dashboard+Jenkins%22" rel="noopener ugc nofollow" target="_blank">https://www.shodan.io/search?query = html % 3A % 22 dashboard+Jenkins % 22</a></p></blockquote><p id="8233" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我提到要确保你注意到关于你的目标的所有事情，并照顾这些平台上的人，我还注意到在寻找私人程序时一些奇怪的事情。</p><p id="cfd9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我注意到一些资产在其证书中使用了certmaster@redacted.com。所以我在一个对黑客友好的平台上照看它们，确实发现了一些开放的Kube实例，我相应地向它们报告了这些实例。</p><p id="d3ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">后来，我注意到许多应用程序工程师使用staging environment来开发一个新的特性或者他们正在开发的东西。所以我开始关注ssl:“公司发展”之类的东西，后来我发现了一个对公众开放的Django应用程序。</p><p id="dcef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样在这个过程中，我发现了几个运行在开发模式下的Ruby on Rails (ROR)应用程序，但当时没有公开的特殊漏洞(据我所知),所以我将它们保存在我的笔记中，几天后我给我的好朋友Harsh Jaiswal发了消息，后来发现一个Rails应用程序容易受到RCE的攻击。</p><p id="40d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没有这样的秘密工具可以找到所有秘密/隐藏的资产，但这取决于你和你的观察技巧。如果你想尝试不在你的Bug Bounty方法论下的新东西。不要害怕尝试新事物，确保你对你发现的任何事情都做笔记。</p><p id="de78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">狩猎愉快！</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="ec28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ko">关注</em> <a class="ae ks" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="ko"> Infosec报道</em> </a> <em class="ko">获取更多此类精彩报道。</em></p><div class="lr ls gp gr lt lu"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">信息安全报道</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">medium.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi ld lu"/></div></div></a></div></div></div>    
</body>
</html>