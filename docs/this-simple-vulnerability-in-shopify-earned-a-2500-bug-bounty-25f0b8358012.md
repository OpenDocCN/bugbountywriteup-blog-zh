# Shopify 中的这个简单漏洞赢得了 2500 美元的漏洞奖金

> 原文：<https://infosecwriteups.com/this-simple-vulnerability-in-shopify-earned-a-2500-bug-bounty-25f0b8358012?source=collection_archive---------0----------------------->

## 不要忘记检查用户访问权限

# **总结**

最常见的漏洞之一发生在用户能够访问他们不应该访问的内容时。如果恶意参与者利用此漏洞并访问他人的机密信息，这可能会导致敏感数据泄漏。这是一种叫做[信息泄露](https://portswigger.net/web-security/information-disclosure)的漏洞形式，它可以采取多种形式。

通常，web 应用程序开发人员在检查用户是否能够访问他们请求的信息方面做得很好。但是，在隐藏或模糊的地方，很容易忘记验证用户是否有适当的访问权限。例如，我之前[写了一个在 GitLab 中发现的价值 20，000 美元的 bug，它同样会向未授权用户泄露数据](https://medium.com/@roberto.cyberkid/how-this-easy-vulnerability-resulted-in-a-20-000-bug-bounty-from-gitlab-d9dc9312c10a)。

Shopify 有一个类似的漏洞，被 HackerOne 用户`zambo`发现，它允许用户检索他们不应该访问的订单信息。

![](img/4c9858447c437e76ec5f2c2219bbaff9.png)

人工智能生成的“商店小偷”craiyon.com 的图像

# 利用

> 我将在 HackerOne 查看`zambo`的总结和报告[。原分析请阅读原摘要](https://hackerone.com/reports/968165)

[Shopify](https://www.shopify.com/) 是全球最大的电子商务平台之一。它允许用户建立网上商店并与他们的客户进行互动，而几乎不需要处理构建和支持这样一个在线应用程序所需的任何技术难题。提供的功能之一是一个聊天应用程序，允许客户与商店进行实时互动。

HackerOne 用户`zambo`调查了一个选项，该选项允许“我需要更新我的订单。 *"* 点击该按钮时，会发出一个`POST`请求，其中包含一个`order_lookup` JSON 和所请求的信息。*注意:下面的请求来自* `*zambo*` *的原始帖子，但是被修改以显示一个正常的请求以及关于目标的编辑信息。*

![](img/7d1d7a18c533454658f4e89972dbc2d6.png)

发布关于“我需要更新我的订单”的请求来源: [HackerOne 报告](https://hackerone.com/reports/968165)

`zambo`注意到对`email`值执行的唯一验证是确保提供了邮件服务器。这意味着将`email`值改为`@gmail.com`、`@yahoo.com`等。，那么这将通过验证。然后，`zambo`还注意到`order_number`值应该从 1000 开始，并在每个新订单上增加 1。结合这两个事实，`zambo`能够发现这实际上是一个 [IDOR](https://portswigger.net/web-security/access-control/idor) ，攻击者将有能力获得该商店上任何订单的订单信息。

## 为什么这笔赏金值 2500 美元？

在安全方面，人们通常认为 CIA(机密性、完整性和可用性)三要素是指导安全的原则。在这种情况下，违反了保密原则。我不确定从订单中泄露的信息会造成多大的损害(例如，是否只是购买的订单产品或是否包括敏感的财务信息)，但无论如何，用户信息都应该保持隐私。

这使得该 bug 的严重性为中等。幸运的是，似乎没有升级或违反完整性或可用性，这将使错误更加严重。然而这个 bug 为`zambo`赢得了当之无愧的 2500 美元奖励。再次祝贺！提醒(也是鼓励)臭虫不必复杂到造成巨大的破坏。

![](img/96bccb24b14724010db9f5f044df7a6b.png)

人工智能在 craiyon.com“shopify shark”上生成的图像

感谢您通读，请在下面留下任何建设性的反馈、建议或问题！如果你喜欢，请考虑跟随我或[请我喝杯咖啡](https://www.buymeacoffee.com/robertocyberkid)。在 roberto.cyberkid@gmail.com 联系我，在 twitter 上关注我，在 LinkedIn 上联系我！

*来自 Infosec 的报道:Infosec 上每天都会出现很多难以跟上的内容。* [***加入我们的每周简讯***](https://weekly.infosecwriteups.com/) *以 5 篇文章、4 个线程、3 个视频、2 个 Github Repos 和工具以及 1 个工作提醒的形式免费获取所有最新的 Infosec 趋势！*