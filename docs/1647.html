<html>
<head>
<title>CAP Machine Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制帽机演练</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/cap-machine-walkthrough-7d2a27e8fa6c?source=collection_archive---------1-----------------------#2021-10-18">https://infosecwriteups.com/cap-machine-walkthrough-7d2a27e8fa6c?source=collection_archive---------1-----------------------#2021-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/554d1544d389bcc990ab66245e0b437f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jTy90w-zUo0Km5nIyWb2qw.jpeg"/></div></div></figure><p id="c078" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗨，这是HTB制帽机的简单介绍。</p><p id="56ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先我开始用Nmap扫描:</p><p id="3a9e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">nmap -sC -sV 10.10.10.104</code></p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi la"><img src="../Images/2ab5bdbfd733384aa17c0cc73f4a4c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bsfe6e64Q-6QFyeRWBnTUQ.png"/></div></div></figure><p id="0b62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这没有给我任何结果。然后我浏览了web应用程序，发现该应用程序有Pcap分析，所有数据都显示为0。我尝试更改值，如1、2、3，并在URL中尝试0，并更改了值，然后我下载了Pcap文件并通过Wireshark对其进行了分析。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lf"><img src="../Images/8b5c01907d86b51ba6d70e371a92fa0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1XrDorJPHsjpEXPUo38MKw.png"/></div></div></figure><p id="e81e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它有一个开放的ssh用户名和密码。我用它通过ssh连接。</p><p id="0588" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">ssh nathan@10.10.10.245</code></p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi la"><img src="../Images/03757fd3922bbe1a9337ea165c0d90f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1UpIE5IVXdwq85BQ4JlDMw.png"/></div></div></figure><p id="847d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我登录到这里，使用ls命令列出了目录和文件，了解到该标志在cat user.txt中，并提交了用户标志。</p><p id="840a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后使用这个python命令获得root访问权限。</p><p id="30b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">python3.8 -c ‘import os; os.setuid(0); os.system(“/bin/bash”)’</code></p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi la"><img src="../Images/28af2eefdcb1c95bfbaa8b3da17dc622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jog4N1a4dY2HMFRW5w8Uww.png"/></div></div></figure><p id="9362" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我去根目录，得到根标志。</p><p id="8dbe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>