<html>
<head>
<title>Microsoft bug reports lead to ranking on Microsoft MSRC Quarterly Leaderboard (Q3 2022)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微软错误报告在微软MSRC季度排行榜上名列前茅(2022年第三季度)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/microsoft-bug-reports-lead-to-ranking-on-microsoft-msrc-quarterly-leaderboard-q3-2022-c6c9f70e2ccd?source=collection_archive---------2-----------------------#2022-12-23">https://infosecwriteups.com/microsoft-bug-reports-lead-to-ranking-on-microsoft-msrc-quarterly-leaderboard-q3-2022-c6c9f70e2ccd?source=collection_archive---------2-----------------------#2022-12-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="711a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我提交的安全漏洞报告中的微软MSRC季度排行榜。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3b969416383f0b21da9aaff00ec439b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4e1gkU0HEXTtx9wWIPhnGQ.png"/></div></div></figure><h2 id="abec" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">目录</h2><p id="41f5" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">— <a class="ae mg" href="#c401" rel="noopener ugc nofollow">第0部分— Whoami？</a> <br/> — <a class="ae mg" href="#920d" rel="noopener ugc nofollow">第一部分—选择一个节目</a> <br/> — <a class="ae mg" href="#af29" rel="noopener ugc nofollow">第二部分—让狩猎开始吧！</a> <br/> — <a class="ae mg" href="#dc93" rel="noopener ugc nofollow">第三部分—举报</a> <br/> — <a class="ae mg" href="#ae49" rel="noopener ugc nofollow">第四部分—申领奖励</a> <br/> — <a class="ae mg" href="#8792" rel="noopener ugc nofollow">披露时间表</a></p><h1 id="c401" class="mh ks iq bd kt mi mj mk kw ml mm mn kz jw mo jx ld jz mp ka lh kc mq kd ll mr bi translated">第0部分— Whoami？</h1><p id="1d5b" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">大家好，我是来自泰国的安全顾问Supakiad Satuwan。在本文中，我将讲述我在微软bug bounty程序上发现的第一个有效bug的故事。这让我有机会登上MSRC 2022年第3季度安全研究排行榜。我们开始吧！</p><h2 id="7539" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">什么是MSRC？</h2><blockquote class="ms mt mu"><p id="f643" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated"><strong class="lp ir">Microsoft安全响应中心(MSRC) </strong>是microsoft defender社区的一部分，处于Microsoft安全响应发展的前沿。该平台吸引了致力于保护微软客户和更广泛生态系统的安全研究人员。有关更多详细信息:<a class="ae mg" href="https://msrc.microsoft.com/" rel="noopener ugc nofollow" target="_blank">微软安全响应中心</a></p></blockquote><h1 id="920d" class="mh ks iq bd kt mi mj mk kw ml mm mn kz jw mo jx ld jz mp ka lh kc mq kd ll mr bi translated">第1部分—选择计划</h1><ul class=""><li id="1795" class="ne nf iq lp b lq lr lt lu la ng le nh li ni mf nj nk nl nm bi translated">在开始我的bug赏金狩猎之旅之前，我导航到<a class="ae mg" href="https://www.microsoft.com/en-us/msrc/bounty" rel="noopener ugc nofollow" target="_blank">微软赏金项目| MSRC </a>寻找范围内和正在进行的项目列表。在浏览了列表后，我决定从事<a class="ae mg" href="https://www.microsoft.com/en-us/msrc/bounty-dynamics?rtc=1" rel="noopener ugc nofollow" target="_blank">微软动态365和Power平台</a>项目。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/a0e59ac91c20a8ea10adc37b6416dd68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kQh1mrhF0-ISyCsuurYF4A.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated"><a class="ae mg" href="https://www.microsoft.com/en-us/msrc/bounty-dynamics?rtc=1" rel="noopener ugc nofollow" target="_blank">微软Dynamics 365和Power平台</a></figcaption></figure><h1 id="af29" class="mh ks iq bd kt mi mj mk kw ml mm mn kz jw mo jx ld jz mp ka lh kc mq kd ll mr bi translated">第二部分——让狩猎开始吧！</h1><h2 id="8b1f" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">分析目标</h2><ul class=""><li id="0d81" class="ne nf iq lp b lq lr lt lu la ng le nh li ni mf nj nk nl nm bi translated">我在Power Apps平台上开始寻找。</li><li id="efbf" class="ne nf iq lp b lq ns lt nt la nu le nv li nw mf nj nk nl nm bi translated">在分析Power Apps平台和其上的应用程序时，我注意到一个应用程序向<a class="ae mg" href="https://apps.powerapps.com" rel="noopener ugc nofollow" target="_blank">https://apps.powerapps.com</a>发送请求</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="ab gu cl nx"><img src="../Images/458855d3522668c8f04d93fc16af6346.png" data-original-src="https://miro.medium.com/v2/format:webp/1*7YgRB5ew-e9xvysvcWbsZg.png"/></div></figure><ul class=""><li id="286f" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">它引起了我的注意。因此，我导航到以下URL:</li></ul><pre class="kg kh ki kj gt ob oc od bn oe of bi"><span id="0ae5" class="og ks iq oc b be oh oi l oj ok">https://apps.powerapps.com/authflow/authframe?telemetryLocation=global</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/363a538d5b9eeb0f8d266199ae0abff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v88kWWsJmOvuoSV6nRWc3A.png"/></div></div></figure><ul class=""><li id="0325" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">此页面未显示任何内容。但是，在查看HTML代码后，我注意到<strong class="lp ir"> telemetryLocation </strong>参数的值反映到了页面上。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/a85dca7f1576a408b2aedaa6db97b0be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fWRowG2RRo_J8Jm9Y-6_pA.png"/></div></div></figure><ul class=""><li id="50b3" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">我将<strong class="lp ir">遥测定位</strong>参数的值从<strong class="lp ir">全局</strong>修改为<strong class="lp ir"> m3ez </strong>。结果证明我可以控制遥测值。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/2772af08fea17e6201cd97c03347b3e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IyCyPHvdV6bMkQfBD7V5bA.png"/></div></div></figure><h2 id="26b9" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">利用开始！</h2><ul class=""><li id="bd91" class="ne nf iq lp b lq lr lt lu la ng le nh li ni mf nj nk nl nm bi translated">在分析了这个页面之后，我通过注入以下JavaScript有效负载执行了跨站点脚本(XSS)测试:</li></ul><pre class="kg kh ki kj gt ob oc od bn oe of bi"><span id="d7ec" class="og ks iq oc b be oh oi l oj ok">&lt;/script&gt;</span></pre><ul class=""><li id="7a3a" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">结果，我发现页面反映了没有输入验证或净化机制的有效负载。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/3edec1db237fc102d728a8570ac5b03a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*51z_sKXwa7N3xYwsWGVKcw.png"/></div></div></figure><ul class=""><li id="a454" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">我将以下XSS有效载荷注入到<strong class="lp ir">遥测定位</strong>参数中:</li></ul><pre class="kg kh ki kj gt ob oc od bn oe of bi"><span id="ff14" class="og ks iq oc b be oh oi l oj ok">&lt;/script&gt;&lt;body/onload=alert(`m3ez`)&gt;</span></pre><ul class=""><li id="30ee" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">最终的网址是</li></ul><pre class="kg kh ki kj gt ob oc od bn oe of bi"><span id="51e1" class="og ks iq oc b be oh oi l oj ok">https://apps.powerapps.com/authflow/authframe?telemetryLocation=&lt;/script&gt;&lt;body/onload=alert(`m3ez`)&gt;</span></pre><ul class=""><li id="8c68" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">打开链接后，XSS负载被执行，如下图所示。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/db61970834c31427e0b6c44b43a940a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eL0zild2gK6s1JYyBJ5Auw.png"/></div></div></figure><blockquote class="ms mt mu"><p id="a561" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated">验证性测试（Proof of Concept的缩写）</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oo op l"/></div></figure><h1 id="dc93" class="mh ks iq bd kt mi mj mk kw ml mm mn kz jw mo jx ld jz mp ka lh kc mq kd ll mr bi translated">第3部分—报告</h1><p id="da3a" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在发现并确认目标易受跨站点脚本攻击(XSS)后，我立即通过MSRC门户网站开始了报告过程。这包括以下步骤:</p><ul class=""><li id="8719" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">导航至<a class="ae mg" href="https://msrc.microsoft.com/report/vulnerability/new" rel="noopener ugc nofollow" target="_blank">报告漏洞| MSRC研究员门户</a></li><li id="413a" class="ne nf iq lp b lq ns lt nt la nu le nv li nw mf nj nk nl nm bi translated">输入漏洞详细信息，包括影响、概念验证和证据。然后，提交了表格。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/4cb1c63a9252f68beedc4151cdc810e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-J19dsQbbKGk8nt_e4CSuw.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">【microsoft.com T4】MSRC研究员门户</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/3faef968fd2d8e839e8880549d2f467c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7AYnMWRW8O41yIfJGYjoA.png"/></div></div></figure><ul class=""><li id="1db7" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">4天后，MSRC团队回复并确认了我的报告。^_^</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/a64a980a80305ae154236b3bff0f36dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VqeNOy8ZIRlO8pcrKwU19Q.png"/></div></div></figure><ul class=""><li id="841b" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">同一天，微软奖金团队回复说，他们正在审查我的漏洞报告的可能奖金。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/d7f58000f8e5b5f9e4784126ed2c9c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qlyN8cvAmr_DWh54ohE_eg.png"/></div></div></figure><ul class=""><li id="87f3" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">几个小时后，我收到了来自微软亚洲研究院^_^团队的好消息</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/32d489814c4b77dd11226cc3c61015c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LG1tD4hZlhq0lmwk_0xlnQ.png"/></div></div></figure><h2 id="ae49" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">第4部分—申领奖励</h2><ul class=""><li id="b5a1" class="ne nf iq lp b lq lr lt lu la ng le nh li ni mf nj nk nl nm bi translated">在Microsoft bounty团队确认我的报告有资格获得奖金后，他们询问了奖金支付提供商的选择。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/05824c15256b5c78a11b24538b519e6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_IBtgX7iNL00jcpFyWhoBw.png"/></div></div></figure><blockquote class="ms mt mu"><p id="4757" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated"><strong class="lp ir">注意</strong>:目前，微软仅支持通过Bugcrowd或微软支付中心交付奖励，以获得奖金。</p></blockquote><ul class=""><li id="abf0" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">几周后，我收到了一封来自Bugcrowd的电子邮件，其中包含一个来自微软Bug Bounty计划的提交声明链接。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/7081e1bbfcd4a8c91813d2f779a67e20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IPoI9zvzGTk7cyV-BXUNBQ.png"/></div></div></figure><ul class=""><li id="2315" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">认领后，我收到了微软Bug赏金计划的第一笔奖励。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/4bd29e1177aafcc160724d8a9fe9dca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MdhoKaYti7-zccYmqmQ9HA.png"/></div></div></figure><ul class=""><li id="c4c4" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">几个月后，我的名字已经登上2022年Q3 <a class="ae mg" href="https://msrc.microsoft.com/leaderboard" rel="noopener ugc nofollow" target="_blank">排行榜| microsoft.com MSRC研究员门户</a></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/62938c6eb7d2bc2067ff1c56af49687f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G3k8Ae67aoBpcJ2ONm_HQA.png"/></div></div></figure><ul class=""><li id="f83c" class="ne nf iq lp b lq mw lt mx la ny le nz li oa mf nj nk nl nm bi translated">我在最近的微软MSRC季度排行榜上获得了认可，并将获得一些MSRC魔术礼品作为对我成就的奖励！</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/c9cd974dd59ac45b96834d613d360850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JLh1S5FDcozji2r_hRFJPA.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/71b5a8f19ea42a4b14a89195ef665f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/1*DgNwZjZxAt_1I0QEGc2sJg.gif"/></div></figure><h2 id="8792" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">披露时间表</h2><ul class=""><li id="0d8f" class="ne nf iq lp b lq lr lt lu la ng le nh li ni mf nj nk nl nm bi translated"><strong class="lp ir">2022年9月23日</strong> —通过MSRC门户发现并报告漏洞。</li><li id="5b77" class="ne nf iq lp b lq ns lt nt la nu le nv li nw mf nj nk nl nm bi translated"><strong class="lp ir">2022年9月27日</strong> — MSRC团队确认。MSRC机票已移至审核/重新发布。</li><li id="979d" class="ne nf iq lp b lq ns lt nt la nu le nv li nw mf nj nk nl nm bi translated"><strong class="lp ir">2022年9月27日</strong>——MSRC状态从审查/报告变更为开发中</li><li id="283f" class="ne nf iq lp b lq ns lt nt la nu le nv li nw mf nj nk nl nm bi translated"><strong class="lp ir">2022年12月1日</strong> — MSRC状态更改为预发布和完成。</li><li id="6dd8" class="ne nf iq lp b lq ns lt nt la nu le nv li nw mf nj nk nl nm bi translated"><strong class="lp ir">2022年12月23日</strong> —公开发布安全公告。</li></ul><blockquote class="ms mt mu"><p id="b013" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated">这是我的第一篇bug bounty文章，也是我在微软bounty程序上发现的有效bug的一部分。我希望你喜欢这个故事。感谢您的阅读。</p><p id="5ce9" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated">特别感谢<strong class="lp ir"> Suphitcha Worasing </strong>复习内容和语法。</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/53c9e94db2ec6451f1c221448e57ca07.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*rTfN5Bc2OdJivD7NnyxFrw.gif"/></div><figcaption class="no np gj gh gi nq nr bd b be z dk translated">如有任何意见和建议，^_^将不胜感激</figcaption></figure><p id="e4bf" class="pw-post-body-paragraph ln lo iq lp b lq mw jr ls lt mx ju lv la mz lx ly le nb ma mb li nd md me mf ij bi translated">我很感谢你的反馈，也很乐意在我的博客上听到你的想法。如果您有任何意见或建议，请随时通过LinkedIn或Twitter联系我。</p><blockquote class="ms mt mu"><p id="fd53" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated"><em class="iq">LinkedIn:</em><a class="ae mg" href="https://www.linkedin.com/in/supakiad-satuwan/" rel="noopener ugc nofollow" target="_blank"><em class="iq">Supakiad s .</em></a></p><p id="e1f2" class="ln lo mv lp b lq mw jr ls lt mx ju lv my mz lx ly na nb ma mb nc nd md me mf ij bi translated"><em class="iq">推特:</em><a class="ae mg" href="https://twitter.com/Supakiad_Mee" rel="noopener ugc nofollow" target="_blank"><em class="iq">(@ Supakiad _ Mee)</em></a></p></blockquote><p id="ce9f" class="pw-post-body-paragraph ln lo iq lp b lq mw jr ls lt mx ju lv la mz lx ly le nb ma mb li nd md me mf ij bi translated"><em class="mv">谢谢大家的支持！</em></p></div></div>    
</body>
</html>