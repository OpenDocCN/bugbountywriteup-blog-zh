<html>
<head>
<title>Hacking A Home Network</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">入侵家庭网络</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/hacking-a-home-network-54e06a9d9730?source=collection_archive---------1-----------------------#2021-08-22">https://infosecwriteups.com/hacking-a-home-network-54e06a9d9730?source=collection_archive---------1-----------------------#2021-08-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/228ce1d46387c5de3ba8da8516594aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBjkT97z8ehWmubbiFWquA.jpeg"/></div></div></figure><p id="7444" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi kz translated">如果有人有合适的工具并且知道如何使用它们，那么进入家庭网络是一件简单的事情。在下面的例子中，我们将闯入一个家庭WiFi网络，利用网络上的一台计算机，最后，我将向您展示如何最好地保护自己免受这些类型的攻击。但首先，有趣的是。入侵网络。</p><p id="5944" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你需要什么:</p><ul class=""><li id="088d" class="li lj it kd b ke kf ki kj km lk kq ll ku lm ky ln lo lp lq bi translated">Aircrack-ng软件套件</li><li id="d2cd" class="li lj it kd b ke lr ki ls km lt kq lu ku lv ky ln lo lp lq bi translated">能够监控模式和数据包注入的网络适配器。</li><li id="e6e4" class="li lj it kd b ke lr ki ls km lt kq lu ku lv ky ln lo lp lq bi translated">Wireshark</li><li id="3ab6" class="li lj it kd b ke lr ki ls km lt kq lu ku lv ky ln lo lp lq bi translated"><strong class="kd iu">一个你有权限攻击的WiFi网络</strong>。</li></ul><p id="a852" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您将需要一个可以进入监控模式的网络适配器，这将允许我们监听设备之间的数据包交换，而不管它们的目的地。您需要使用数据包注入来中断目标网络。我们开始吧。</p><p id="e52f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将网络适配器插入计算机后，您可以通过运行<strong class="kd iu"> iwconfig </strong>命令找到设备的名称:</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/613e6d55dcd8c1eba17a219b1b14ba7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tyoVk5GihINsWMWV"/></div></div></figure><p id="24ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">知道设备名称后，使用<strong class="kd iu"> airmon-ng </strong>命令启动监控模式。在这种情况下，无线接口称为wlan0，我们将把它添加到命令的末尾:</p><p id="a03d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> airmon-ng启动wlan0 </strong></p><p id="1af1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您再次运行<strong class="kd iu"> iwconfig </strong>，您可以确认设备现在处于监控模式，并注意到接口名称的变化。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/aca63036d6ae9a33c73c95362c509c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PIpZVedpTW9jKbTG"/></div></div></figure><p id="a373" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们的设备处于监控模式时，我们现在可以运行命令来发现要监控的网络。</p><p id="6782" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> airodump-ng wlan0mon </strong></p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/4985855292eff07c97c4db1accf691f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MlM_DA9B5hUQ0-NI"/></div></div></figure><p id="a498" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在上面的截图中看到的如下:</p><p id="2ca2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">BSSID这是网络的广播ID。换句话说，这是物理接入点的MAC地址。</p><p id="9b72" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">b)接入点正在使用的信道。</p><p id="35fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ESSID这是网络的名称。</p><p id="14a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有了这些信息，我们就能找到我们有权攻击的网络。在我们的例子中，我们正在攻击死亡地带3.0。记下BSSID、通道和ESSID以备将来使用。</p><p id="61e1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将监控死区3.0，看看有哪些设备连接到它。我们将使用以下命令来实现这一点:</p><p id="041f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">airodump-ng-d 08:9E:08:EE:7D:68-c 6 WLAN 0 mon</strong></p><p id="e0e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用这个命令，我们使用选项<strong class="kd iu"> -d </strong>来显示我们需要的特定BSSID，使用选项<strong class="kd iu"> -c </strong>来查看它所在的通道。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/430eab3fb11c001a8c7c157cecb18250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5ScWeQKexxcycn3v"/></div></div></figure><p id="4c90" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当airodump显示死区3.0的网络流量时，我们注意到在屏幕底部有连接到BSSID的站点。这些站只是连接到特定AP的设备。</p><p id="57c2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在这里看不到的是4次握手。4次握手是AP和连接设备之间使用的协议。通过这种握手，交换了WPA/WPA2预共享密钥，这就是我们所追求的。</p><p id="72d8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了获得这种4次握手，我们将使用airodump-ng来捕获AP和网络上其他设备之间的数据包交换。为此，我们将使用以下命令:</p><p id="e2ff" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">airodump-ng-C6-w dead _ cap-d 08:9E:08:EE:7D:68 WLAN 0 mon</strong></p><p id="904d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里，我们告诉airodump在这个特定通道上捕获这个特定BSSID上的任何数据，并将它们写入名为dead_cap的文件。再一次，在最后指定我们的接口。</p><p id="1da9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">捕获完成后，我们下一步是将所有设备从目标网络中移除。由于大多数设备被设置为自动重新连接到他们已知的网络，他们将被迫进入我们梦寐以求的4次握手。</p><p id="1354" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为此，我们将使用以下命令:</p><p id="feda" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">air play-ng-deauth 0-a 08:9E:08:EE:7D:68-c 0E:9A:9O:C8:70:F1 WLAN 0 mon</strong></p><p id="e47d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里我们使用的是airplay-ng命令(aircrack套件的一部分)— deauth 0是用于在接入点发送身份验证数据包的命令。我们有<strong class="kd iu"> -a </strong>是我们的BSSID，<strong class="kd iu"> -c </strong>是显示在前一个窗口的Station下的设备之一。请注意，虽然我们使用<strong class="kd iu"> -c </strong>将特定设备作为目标，但这是可选的，如果需要，您可以将该命令发送到目标网络上的每个设备。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/69163fe1fabae485aa7256902293cb56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qAM3CBOhT7Kub-lr"/></div></div></figure><p id="87c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">上面的屏幕截图向我们展示了正在发送的身份验证数据包。在下面的屏幕中，我们可以看到我们的目标设备重新连接到我们的网络。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/ebe43a7b0873e7b718a47dfef3d3e5a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_XvgwkV64PXNVW7w"/></div></div></figure><p id="0eaf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是奇迹发生的地方。我们的目标设备已经回到网络，正如我们所看到的，我们已经捕获了4次握手。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/1c0d7a1842b64ea105fc21a8f920773c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Sfv2y-mkrCkwcxxZ"/></div></div></figure><p id="cbed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">捕获的数据以多种格式输出，但是出于我们的目的，我们将把重点放在。cap文件，可以使用Wireshark打开。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/ea9c13cdece8d4d45b914215d407829c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ao3IUtTCSnmU_h9y"/></div></div></figure><p id="c6ce" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在Wireshark中打开捕获后，我们可以使用显示过滤器EAPoL(代表LAN上的可扩展认证协议)，当我们这样做时，我们可以看到4次握手。此外，我们可以通过查看WPA密钥数据下的数据包详细信息来确认PSK/WPA已被共享。</p><p id="573b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通过捕获我们的预共享密钥，我们可以运行离线暴力攻击来暴露密码。</p><p id="96ef" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">强力攻击将使用臭名昭著的rockyou.txt单词表进行，但任何单词表都可以。要运行我们的暴力攻击，我们将使用以下命令:</p><p id="4eff" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">air crack-ng dead _ cap . cap-w/usr/share/word lists/rock you . txt</strong></p><p id="1cbb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个命令获取我们的dead_cap文件，并使用<strong class="kd iu"> -w </strong>调用我们目录中的单词表。</p><figure class="lx ly lz ma gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lw"><img src="../Images/18949b0a0ec21e22a1492a8a9f0daa3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JxzHZHkZTrO0udFk"/></div></div></figure><p id="b6ef" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以看到，我们破解了名为死区3.0的BSSID的WiFi网络密码，现在我们在网络内部，我们可以找到各种各样的麻烦。在下一部分，我们将做一些窥探。</p><p id="bb4c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">未完待续…</p></div></div>    
</body>
</html>