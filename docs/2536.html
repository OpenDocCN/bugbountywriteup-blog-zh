<html>
<head>
<title>Fine-Tune Security Alerts &amp; Optimisation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微调安全警报和优化</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/fine-tuning-optimising-security-alerts-5b12a1f6d42f?source=collection_archive---------2-----------------------#2022-11-16">https://infosecwriteups.com/fine-tuning-optimising-security-alerts-5b12a1f6d42f?source=collection_archive---------2-----------------------#2022-11-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5b0e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">蓝队足球活动</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/039a56b0e0df8d2bb50a3a7c085d794a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wV5CvkpcDe08YDyK"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@denisseleon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹尼斯·莱昂</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="504e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是安全警报调整？</h1><p id="0dda" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">消除和减少误报警报数量以提高准确性的持续过程。它还通过减少进程过载来帮助提高CPU的性能。</p><p id="89a7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在调整之前，首先确定合适的调整点，因为有一些不同的方法来调整警报。这些是:</p><ul class=""><li id="f854" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">收听安全洋葱</li><li id="b0b2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">在SIEM中调谐</li><li id="c750" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">在MISP调音</li><li id="b2a0" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">在GITLAB中调谐</li></ul><p id="5fa2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ng">必须首先创建调谐标签来跟踪警报调谐活动</em></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="b360" class="kz la it bd lb lc no le lf lg np li lj jz nq ka ll kc nr kd ln kf ns kg lp lq bi translated">在Security Onion中调整安全警报</h1><p id="41d7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一旦安装并设置了安全洋葱NIDS(例如在linux操作系统中)，就可以从配置文件中或者使用Linux命令来调整<a class="ae ky" href="https://docs.securityonion.net/en/2.3/managing-alerts.html" rel="noopener ugc nofollow" target="_blank">安全洋葱</a>中的snort规则，如下所示。这些是:</p><p id="214d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">使用安全标识符(SID)修改规则</strong></p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="9c05" class="ny la it nu b be nz oa l ob oc">sudo so-rule modify add -h #To understand the syntax<br/>sudo so-rule modify list #List out any current modified rule(s)<br/>sudo so-rule modify add &lt;SID&gt; &lt;some text in double quotes&gt; #To add/modify an existing NIDS rule<br/>grep &lt;SID&gt; /opt/so/rules/nids/all.rules #To check the modified rule.</span></pre><p id="c67f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">使用安全标识符(SID)禁用规则</strong></p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="48fd" class="ny la it nu b be nz oa l ob oc">sudo so-rule disabled list #List out any current disabled rule(s)<br/>sudo so-rule disabled add &lt;SID&gt; #To disable an existing NIDS rule<br/>grep &lt;SID&gt; /opt/so/rules/nids/all.rules #To check if the &lt;SID&gt; is commented out.</span></pre><p id="03f2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">重写签名</strong></p><p id="19d2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要创建规则的副本并禁用原始规则而不是修改规则，您可以使用vi命令编辑以下文件。</p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="3f30" class="ny la it nu b be nz oa l ob oc">sudo vi /opt/so/rules/nids/local.rules</span></pre><p id="ca5e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ng">*有关安全洋葱管理警报的更多信息，请访问此</em> <a class="ae ky" href="https://docs.securityonion.net/en/2.3/managing-alerts.html#modify-the-sid" rel="noopener ugc nofollow" target="_blank"> <em class="ng">站点</em> </a> <em class="ng"> * </em></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="0d5f" class="kz la it bd lb lc no le lf lg np li lj jz nq ka ll kc nr kd ln kf ns kg lp lq bi translated">调整SIEM中的安全警报</h1><h2 id="cb50" class="od la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">压制规则</h2><p id="581e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">临时调优通常通过立即禁用大量警报来实现。然后将对警报进行彻底调查，并将足够的详细信息发送给组织以采取行动。一旦警报的合法性被他们确认是否是已知活动，就可以相应地做出调整警报的决定。</p><h2 id="362e" class="od la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated"><strong class="ak">修改本地查询后缀</strong></h2><p id="2c80" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这将允许您在本地为特定组织应用规则。</p><h2 id="9a62" class="od la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">请求关闭规则自动化</h2><p id="ef47" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果无法通过任何方式进行调优，可以生成一个票证来自动关闭规则。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="daed" class="kz la it bd lb lc no le lf lg np li lj jz nq ka ll kc nr kd ln kf ns kg lp lq bi translated">调整恶意软件信息共享平台(MISP)</h1><p id="26a7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">MISP是一个平台，来自不同威胁情报来源的各种IOC在此聚合。该信息随后被传感器用于索引以搜索IOC。如果匹配，则生成威胁情报警报</p><p id="e5d8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">MISP调整将允许您在全球范围内调整与您有合同关系的所有组织/客户的警报，以保护他们的IT基础设施。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/42a9ba3036d3b8f59fc74c0fd827e837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OIwjLS10xQVHLJBecMM62Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.misp-project.org/" rel="noopener ugc nofollow" target="_blank">https://www.misp-project.org/</a></figcaption></figure><h2 id="8eca" class="od la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">MISP如何帮助生成警报？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/28cfee6c5e2a81c35365c43464aaeca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p3VMoKwnn4xkwUCIdNm5lQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">MISP警报的高级视图</figcaption></figure><p id="7d85" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">在MISP禁用警报:</strong></p><ul class=""><li id="7083" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">登录MISP帐户，在搜索框中搜索Uuid(唯一用户id)以找到您正在调查的警报。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/1d965001ad59be76d048640f4f802bd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*_s8u0ZXqsF80aLgwuAgk9A.png"/></div></figure><ul class=""><li id="894b" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">一旦您登录到该警报事件的MISP页面，请按CTRL+F查找触发该警报并需要调整的项目。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/c8e007b5624c9a2ff8926ca8cab67b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhm5imwAaKzoepdYljCZFA.png"/></div></div></figure><ul class=""><li id="2ba7" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">找到该项目后，点击右边的“编辑”按钮(<em class="ng">，如下图</em>)。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/bf5e90225ecc53fc75abfefec894f0a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*sEGvBCV_1a_vclXpH1URig.png"/></div></figure><ul class=""><li id="a5a4" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">在“编辑属性”页面下，<strong class="lt iu">如果您不再希望它作为警报再次触发，请取消选中</strong>“入侵检测系统”。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/52ae71e095ac9b4d718d2f3857420519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O07851h871_bgvVLk3RUTA.png"/></div></div></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="23f4" class="kz la it bd lb lc no le lf lg np li lj jz nq ka ll kc nr kd ln kf ns kg lp lq bi translated">在GITLAB中调谐</h1><p id="c347" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">可以在Gitlab上创建顶级域(TLD)白名单文件，以添加误报域，然后向主分支机构提交合并请求。接下来，通过运行以下命令更新PCAP收集器。这将从全局警报中排除误报域。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/97208ace17e1fb590c781daba52d2142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MxX7poRh-vPBcSLLCa2SIg.png"/></div></div></figure><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="6893" class="ny la it nu b be nz oa l ob oc">apt-get update &amp;&amp; apt-get install &lt;bro-script file&gt;</span></pre></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h2 id="822a" class="od la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae ky" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4个线程、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>