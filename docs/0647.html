<html>
<head>
<title>API Token Hijacking Through Clickjacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过点击劫持的API令牌劫持</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/api-token-hijacking-through-clickjacking-2e36c02e6c48?source=collection_archive---------1-----------------------#2020-06-22">https://infosecwriteups.com/api-token-hijacking-through-clickjacking-2e36c02e6c48?source=collection_archive---------1-----------------------#2020-06-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b0fa79f18a0f39d97d666003cd6e1b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vEA4DddrsMpo6c2YT_Cz-g.png"/></div></div></figure><p id="6351" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嘿伙计们！我希望你们都平安无事。非常感谢你对我的<a class="ae kw" href="https://medium.com/bugbountywriteup/weak-cryptography-leads-to-open-redirect-3fe052c12995" rel="noopener"> <strong class="ka ir">以前的</strong> </a>博客感兴趣。</p><p id="5c39" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如标题所言，我将向你展示我在Bugcrowd网站P2栏目下的一个“文学”发现。您也可以使用它来接管帐户，通过改变受害者的电子邮件与攻击者的电子邮件，禁用2FA等等。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/5950a9012952e91084313b2770eb6711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08w5JQkWNwzasHh6VQzXDA.jpeg"/></div></div></figure><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/d6350b74674d88401b721461077148a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/1*duL2N0j3NCeQ2mQ4HyLI6A.gif"/></div></figure><h1 id="ea08" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们开始吧！</h1><p id="025a" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated"><strong class="ka ir">截图1: </strong>这是clickjacking的HTML代码(DM on <a class="ae kw" href="https://twitter.com/darklotuskdb" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> twitter </strong> </a>如果你想要这个代码的话)。在这里，您必须插入您的burp collaborator URL或您控制的任何其他服务器来获取令牌。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/66fcdd64c7d8f6dd9cf945bbc2701550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YhHhbvfAknxN39izgTvueQ.png"/></div></div></figure><p id="502b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">截图2: </strong>正如你在上面看到的，在后台我们有一个易受攻击的站点在运行，在它的上面，是我们恶意的点击劫持代码，在“<strong class="ka ir"> myCODE </strong>”后面有一个我们要劫持的“复制”按钮。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/924981d6c314072f7a7e41cb443900e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UAHlwo4NGkt5GuWCqRefqQ.png"/></div></div></figure><p id="833f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">截图三:</strong>现在我已经把“不透明度”设置为零，让受害者可以看到易受攻击的网站，这里受害者要做的是:<br/> 1。点击“我的代码”。(这会自动将令牌复制到剪贴板)<br/> 2 .将其粘贴到验证框中，然后单击提交。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mh"><img src="../Images/7e48c6133059d8cf025a1351c175ff56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNzp5vseXgxTycMBYPki2w.png"/></div></div></figure><p id="94ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">截图4: </strong>我们就大功告成了！现在只需查看您的burp合作者日志，您将获得受害者令牌。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/915569650bbdef6f35d14ebf694237bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NTJ-h6KtIO3WZ8dDioMhw.jpeg"/></div></div></figure><p id="f7e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">截图5: </strong>现在我们已经通过点击劫持成功劫持了受害者的令牌。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/35558797efb5af2fb3efb889b5548f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-9Ws5YWyN5GGnCBIL-59aw.jpeg"/></div></div></figure><p id="2400" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关注我的<a class="ae kw" href="https://twitter.com/darklotuskdb" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">推特</strong> </a>获取惊人的bug赏金提示。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/0daad94c916e933453f0d489c17c1c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*R0hAngI3kPn-r46_W5IYJQ.gif"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated"><strong class="bd lf">谢谢</strong></figcaption></figure></div></div>    
</body>
</html>