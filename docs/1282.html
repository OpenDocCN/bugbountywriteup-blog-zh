<html>
<head>
<title>Multi-Factor Authentication (MFA) and Integration using SAML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SAML的多因素身份验证(MFA)和集成</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/multi-factor-authentication-mfa-and-integration-using-saml-8ec0f8b41296?source=collection_archive---------2-----------------------#2021-04-30">https://infosecwriteups.com/multi-factor-authentication-mfa-and-integration-using-saml-8ec0f8b41296?source=collection_archive---------2-----------------------#2021-04-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="12e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上一篇文章中，我已经分享了我对SAML的了解，它背后的历史，以及它的工作机制。但事情并没有就此结束，我想进一步了解它，然后我发现它在配置和集成MFA解决方案和IDP时也使用了，作为身份验证机制的附加层。所以我们来多了解一下。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/15ad07fb9d2723ab32ec1722d6be356b.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*L4urbowMXUQHkWJ7.jpg"/></div></figure><h2 id="7b18" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">首先，什么是MFA(多因素认证)？</h2><p id="6aa8" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk ij bi translated">多因素身份认证只不过是一种额外的身份认证级别，我们需要再提供一个因素，可能是OTP、来自应用程序的数字代码(Google Authenticator)或声明我们是谁的硬令牌。这不仅会提高安全性，还会降低身份盗窃的风险。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/0d71975a57a937e8ec75d32e88625068.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/0*Esanra62SLrxDeWO"/></div></figure><h2 id="5a44" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">MFA是如何工作的？</h2><p id="92aa" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk ij bi translated">MFA的工作机制类似于用户密码机制。在上图中，我们可以看到一个链接。首先，用户需要输入他的凭证。一旦他的身份得到验证，他需要再次以MFA的形式提供他的身份，这可以是来自应用程序或设备的OTP或令牌。</p><p id="e3e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与用户凭证存储在数据库中并用于验证的方式一样，拥有自己的唯一设备id作为标识符的MFA设备也需要配置到用户配置文件中，以便验证用户的身份。</p><h2 id="ac1b" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">多种纤维织物的类型</h2><p id="4ad5" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk ij bi translated">对于要进行身份验证的用户，密码是身份验证的一个强制因素。当涉及到附加层时，传统的方法是以一次性短信的形式发送到我们的电子邮件和移动设备上。</p><p id="7d70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">MFA以硬令牌和软令牌的形式出现。</p><ul class=""><li id="1691" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">硬令牌:硬令牌是一种使用物理设备进行身份验证的形式，如生物特征、OTP身份验证令牌等。最好的例子是RSA安全认证令牌。</li><li id="eaaa" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">软令牌:软令牌是使用“电话作为令牌”的一种形式。一般来说，使用移动应用程序或设备被用作软令牌。最常见的是Google authenticator和Microsoft authenticator，它们有OTP，也可以作为软令牌推送通知。</li></ul><h2 id="33a3" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">如何配置MFA</h2><p id="633c" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk ij bi translated">一些网站要求其用户在访问网站时配置MFA。这些网站中的大多数都支持一些MFA软令牌，如Google Authenticator。</p><ul class=""><li id="7453" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated"><strong class="jp ir">使用软令牌应用的MFA</strong></li></ul><p id="496f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户需要通过使用移动设备扫描QR码或设备链接码来配置此MFA。然后，Google Authenticator的唯一设备ID将链接到用户的个人资料。</p><p id="f5d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而企业根据需求使用不同的方法来配置MFA。如果企业使用Azure active directory解决方案，Azure会提供在门户中直接配置MFA的功能，可以是短信、电话或微软认证器推送通知的形式。这在启用单点登录(SSO)时增加了一层额外的安全性。</p><ul class=""><li id="04c2" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated"><strong class="jp ir">使用SAML配置的MFA</strong></li></ul><p id="05b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如在之前的<a class="ae mg" href="https://adithyathatipalli.medium.com/what-is-saml-and-how-it-is-useful-for-sso-24d83b98185a?source=your_stories_page-------------------------------------" rel="noopener">文章</a>中提到的，SAML用于认证，也有助于启用SSO。SAML还可以用于在不同设备之间配置MFA。</p><p id="57c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在企业中，多个主机使用不同的sp。通过使用SAML，我们可以通过以下任何方式实施MFA。</p><ul class=""><li id="9bf8" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">无MFA</li><li id="468a" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">基于主机到主机的MFA</li><li id="400f" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">所有人的MFA。</li></ul><p id="de58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在某些情况下，当具有高安全性要求的应用程序需要重新认证时，我们可以使用SAML来中断SSO会话并启动重新认证。</p><p id="39b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结论:</p><p id="7b34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过在企业应用程序和设备之间实施MFA，可以更好地管理用户身份并降低身份被盗的风险。MFA可以直接在企业的Active Directory中实施，或者在作为联邦身份连接的应用程序中实施。此外，我们可以使用SAML配置联邦连接。</p><p id="5e20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您阅读本文:)</p><p id="7bc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢我的作品，请支持我。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mh"><img src="../Images/29c9f7cbddd2750bc061d7b9594acdfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*xHSVib7bIulzy4XdtHHF8g.png"/></div></div></figure><p id="ce39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">其他资源:</p><div class="mm mn gp gr mo mp"><a href="https://uit.stanford.edu/service/saml/mfa" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">如何配置多因素和强制认证应用程序</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">简介斯坦福的身份提供商(IdP)提供进行Web单点登录所需的认证服务…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">uit.stanford.edu</p></div></div></div></a></div><div class="mm mn gp gr mo mp"><a href="https://docs.microsoft.com/en-us/azure/active-directory/authentication/concept-mfa-howitworks" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">Azure AD多因素身份验证概述</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">多因素身份认证是一个过程，在此过程中，用户在登录过程中会被提示提供其他形式的…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">docs.microsoft.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd kr mp"/></div></div></a></div><div class="mm mn gp gr mo mp"><a href="https://www.irs.gov/privacy-disclosure/multi-factor-authentication-implementation" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">多因素身份认证实施</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">第1075号出版物,《联邦、州和地方机构税务信息安全指南》( Pub。1075)要求…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">www.irs.gov</p></div></div><div class="my l"><div class="ne l na nb nc my nd kr mp"/></div></div></a></div><div class="mm mn gp gr mo mp"><a href="https://www.deyda.net/index.php/en/2020/04/02/saml-authentication-between-citrix-microsoft-with-azure-mfa/" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">思杰和微软之间的SAML认证与Azure MFA-Deyda.net</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">由于项目越来越多，这里有一点如何与我以前的文章总结。</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">www.deyda.net</p></div></div><div class="my l"><div class="nf l na nb nc my nd kr mp"/></div></div></a></div></div></div>    
</body>
</html>