<html>
<head>
<title>TryHackMe — Content Discovery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe —内容发现</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-content-discovery-ade077cf7437?source=collection_archive---------2-----------------------#2022-05-01">https://infosecwriteups.com/tryhackme-content-discovery-ade077cf7437?source=collection_archive---------2-----------------------#2022-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f904" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将介绍另一个TryHackMe挑战“内容发现”。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/03959d72982e3c0fd78b2ac720e5dfde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEqpbXg3qcyRWtPpp5tiCw.png"/></div></div></figure><p id="d23a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个房间告诉我们如何识别web服务器中的隐藏内容，并利用它们来探索更多的漏洞。让我们开始吧…</p><p id="2fc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">网页上的内容有许多类型，如配置文件、图像、媒体等。有几种方法来探索他们使用自动，手动和其他方式。</p><h2 id="4dd5" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">1.指南</h2><p id="8ff1" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">找到隐藏内容的第一个方法是搜索robots.txt文件。它是一种索引文件，包含该目录中的所有数据、权限和内容。</p><p id="8fd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们的机器中，我们将探索robots.txt，看看哪些是允许的，哪些是不允许的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/800917837f86c6f985a26d79ef321084.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*SV1MyCWAEApvTWPPAC0G0Q.png"/></div></figure><p id="13b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上图中，我们可以看到有一个我们不允许的目录。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="2d73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一个方法是使用<strong class="jp ir"> favicon数据库</strong>。</p><p id="06c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">favicon是浏览器地址栏或标签中显示的一个小图标，用于标记网站。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi md"><img src="../Images/6be89a9bb89268f1814229febace4d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/0*iKDvqns4qrZ88OeJ.png"/></div></figure><p id="74b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有时当使用不同的框架来构建一个网站时，作为安装一部分的favicon将被留下来用自定义框架替换，如果网站开发人员没有用自定义框架替换它，这可以给我们一个使用什么框架的线索。</p><p id="321f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">OWASP有一个通用框架图标的数据库，我们可以用它来检查目标图标【https://wiki.owasp.org/index.php/OWASP_favicon_database T2】</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mf"><img src="../Images/5dfa53b42076b9400189d3b13f13c8b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*70VNTMQuZiCgIQVjWHA8ng.png"/></div></div></figure><p id="7d59" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个挑战中，我们将看到创作者使用哪个favicon。我们将导航到静态页面的源代码，并将favicon的散列与OWASP数据库进行比较。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mg"><img src="../Images/d734d267b98a9f82898959bb4b13dca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C47NT6Y0JrX5OsgqlUb4lg.png"/></div></div></figure><p id="088c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们将使用Curl命令来获取这个页面中使用的favicon的哈希值。</p><p id="1818" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以使用Linux终端或Powershell来获取哈希值。</p><p id="a770" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir">网站地图XML文件</strong></p><p id="f2a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Sitemap是一个XML文件，它包含了所有者希望在搜索引擎上看到的每个文件的详细列表。在网站抓取过程中，网站地图文件对识别内容起着至关重要的作用。</p><p id="0f7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个挑战中，我们需要导航到网站地图文件，并确定所有者不希望我们探索的秘密路径。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/ad5856d8a19a82cdbefe577730e9977b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*NFsOimrN-xJniUU4UdpnfA.png"/></div></figure><p id="a1f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一种方法是使用<strong class="jp ir"> Http-Headers </strong></p><p id="5f24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们向服务器发出请求时，它会用不同的头来响应，这些头包含与web应用程序相关的非常有用的信息，如服务器版本、框架等。使用Curl进行请求也是获取更多内容的一种方式。</p><p id="b538" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir">框架堆栈</strong></p><p id="f30f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个网站都使用某种网站栈来构建自己的网站。在网站上我们可以看到这个框架的源代码。当我们导航到源网站时，根据版本号和其他关键信息，我们可以识别公开的漏洞来利用它们</p><p id="af0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本次挑战中，我们将访问网站，然后导航到框架网站以确定一些关键信息。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/2c87ee7ed169dee8cc5ada2e0f8281b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3RIKWYFrPrX3i5qcIEI89w.png"/></div></div></figure><p id="0f88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到了框架源代码页面，让我们导航到网站并获取标志来清除这个挑战。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/64e25f4389be9749fa632e4f42bae34f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*4fu_JHK8Xlkvo9OpHKflKg.png"/></div></figure><p id="b76c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据框架页面中给出的说明，我们得到了标志。</p><p id="555f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir"> OSINT- Google Dorking </strong></p><p id="3111" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谷歌呆子们正在以一种更有效的方式使用搜索引擎来缩小搜索结果的范围。我们可以使用一些关键字，以定制的方式得到结果，如文件类型，特定的网站，特定的关键字等。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/915e7d2251bc710ee6f4d86260fb4ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nF8pclA7-maN0CrIPdcXHg.png"/></div></div></figure><p id="9e48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir"> OSINT — Wappalyzer </strong></p><p id="f1d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Wappalyzer是一个在线工具和浏览器扩展，它可以帮助我们了解某个特定网站使用的所有框架和语言</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/047b3860031fd0625a470284322ba97e.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/0*XPR75aRPy2vPXWFQ"/></div></figure><p id="fddc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir"> OSINT — Wayback机</strong></p><p id="dcad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Wayback machine是archive.org的一个特色，这是一个非盈利的社区建设网站，它就像一个在线存储器，存储所有网站的变化，文件等等。这有助于我们了解网站是如何变化的，也有助于我们发现许多漏洞。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mm"><img src="../Images/b32d42c9a388e3e6f14c7346558cd5ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLDiQmrjR-s7xDMdGieE-g.png"/></div></div></figure><p id="5463" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir"> GitHub </strong></p><p id="8b02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Git是一个<strong class="jp ir">版本控制系统</strong>，它跟踪项目中文件的变更。在团队中工作更容易，因为您可以看到每个团队成员正在编辑的内容以及他们对文件所做的更改。当用户完成更改后，他们用一条消息提交这些更改，然后将它们推回到一个中心位置(存储库),供其他用户将这些更改拉回到他们的本地机器。</p><p id="0b05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用GitHub的搜索功能来查找公司名称或网站名称，以尝试定位属于您的目标的存储库。一旦被发现，你可能会接触到你还没有发现的源代码、密码或其他内容。</p><p id="d351" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir"> S3铲斗</strong></p><p id="795c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> S3水桶</strong></p><p id="69c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">S3桶是亚马逊AWS提供的一种存储服务，允许人们在云中保存文件甚至静态网站内容，可以通过HTTP和HTTPS访问。文件的所有者可以设置访问权限，使文件成为公共的、私有的甚至可写的。有时，这些访问权限设置不正确，无意中允许访问不应该对公众开放的文件。</p><p id="d521" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">S3存储桶的格式是http(s):// <strong class="jp ir"> {name}。</strong><a class="ae me" href="http://s3.amazonaws.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">s3.amazonaws.com</strong></a>【姓名】由业主决定，如<a class="ae me" href="http://tryhackme-assets.s3.amazonaws.com/" rel="noopener ugc nofollow" target="_blank">tryhackme-assets.s3.amazonaws.com</a>。可以通过许多方式发现S3桶，例如在网站的页面源、GitHub存储库中找到URL，甚至自动化这个过程。</p><p id="7142" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一种常见的自动化方法是使用公司名称，后跟常见术语，如<strong class="jp ir">{ name }</strong>-资产、<strong class="jp ir"> {name} </strong> -www、<strong class="jp ir">{ name }</strong>-公有、<strong class="jp ir">{ name }</strong>-私有等。</p><p id="5aab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir">自动化发现</strong></p><p id="ee49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">自动发现是使用工具而不是手动发现内容的过程。虽然有许多不同的内容发现工具可用，但都有各自的特点和缺陷，我们将介绍三个预装在我们的攻击箱上的工具，ffuf、dirb和gobuster。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="9731" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您阅读本文:)</p><p id="312d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将在下一篇文章中联系。</p></div></div>    
</body>
</html>