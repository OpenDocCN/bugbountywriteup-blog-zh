<html>
<head>
<title>Vulnerable design leads to personal data leakage- yet another case of an inter-application vulnerability…</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">易受攻击的设计导致个人数据泄露——这是应用程序间漏洞的又一个例子…</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/vulnerable-design-leads-to-personal-data-leakage-yet-another-case-of-an-inter-application-8a9d7e2d0f1a?source=collection_archive---------1-----------------------#2020-03-09">https://infosecwriteups.com/vulnerable-design-leads-to-personal-data-leakage-yet-another-case-of-an-inter-application-8a9d7e2d0f1a?source=collection_archive---------1-----------------------#2020-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="7298" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">序</h1><p id="524a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">距离我发表第一篇关于现代web应用程序中应用程序间漏洞的文章已经有一段时间了。最近我在bug赏金猎人中发现了其中的一个，我个人认为它太好了，不应该与更广泛的社区分享。</p><p id="b90d" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如果你是tl之一；伙计们，我们在这里谈论的是由于应用程序的跨系统依赖和集成而存在的问题。长话短说——单独来看，两个应用程序都没有漏洞，但是当把它们看作一个整体时，您会有很大的安全隐患。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/7e18b00854436875582cd091f68244cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*Qwcop7HYdYJnxz-ZQuwgKg.jpeg"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">这种情况…</figcaption></figure><p id="83ca" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如果你想更多地了解这个概念，我鼓励你阅读我2018年的<a class="ae ma" href="https://medium.com/bugbountywriteup/inter-application-vulnerabilities-and-http-header-issues-23e961c55421" rel="noopener">文章。</a></p><h1 id="f4b6" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">背景</h1><p id="ba44" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">漏洞是在一家大型国际公司的漏洞奖励计划中发现的，出于保密原因，我不能透露细节。</p><p id="75ae" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">公司的bug bounty计划的范围包括多个域(应用程序)，用于非常相似的目的。在测试这些应用时，你很容易注意到其中某些功能的代码是共享的。我这么说是什么意思？这两个应用程序似乎都查询了同一个后端数据源来获取一些关于用户的信息。</p><h1 id="4edc" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">这不是问题，对吗？不对。</h1><p id="e966" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">还有一个问题。在我们的案例中，共享的机制包括处理(读/写)敏感个人数据的机制，这些数据可以在成功注册后更新。然而，注册机制本身显然是分离的。</p><p id="8229" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">我试着在下图中想象我们的处境。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/04c933caa4c47d5168ceef9d4fe78a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YWeRWDbTbKJzuQotttrgzA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">脆弱的设计</figcaption></figure><p id="deb5" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">数据检索过程相对简单。如果身份验证成功，应用服务器将向后端数据源发送请求，根据身份验证期间提供的电子邮件地址查询个人数据。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mg"><img src="../Images/926a65d6ebe9ca7b6dd18bf9a4580360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ohRX2NXLI-tvTgcxR7sqvA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">易受攻击的设计—从数据库中查询数据</figcaption></figure><p id="2429" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">你可能已经知道它要去哪里。如果没有，试着猜猜如果有人使用已经在App1中注册的相同电子邮件地址在App2中注册会发生什么。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mh"><img src="../Images/ab8c260a141f42cb7537f02120c84d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cc8j7TKkJPJce9avDdYx1Q.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk translated">易受攻击的设计—访问其他用户的数据</figcaption></figure><p id="cbea" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">哎呀！我们可以通过知道他的电子邮件地址来访问任何在数据库中注册的用户的个人数据！顺便说一下，既没有账户激活电子邮件，也没有任何其他机制来防止这种攻击。</p><p id="975f" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">想象一下这样一种情况:互联网上的电子邮件地址被随意泄露。我们可以简单地通过易受攻击的App1传输所有这些地址，如果幸运的话，我们将获得与其中一些地址相关的个人详细信息。然后，我们对App2再次进行同样的练习，收集更多的个人信息。不错吧。至少好到能拿到赏金。</p><h1 id="3d44" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">摘要</h1><p id="df8e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">建立安全的系统比发现系统中的漏洞要困难得多。如果您需要集成您无法真正影响的多个应用程序设计，构建会变得更加困难。祝建筑商和建筑师好运。我希望这篇文章能让您避免系统中的应用程序间漏洞。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="ca0e" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><em class="mp">关注</em> <a class="ae ma" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="mp"> Infosec报道</em> </a> <em class="mp">获取更多此类精彩报道。</em></p><div class="mq mr gp gr ms mt"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">信息安全报道</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh lu mt"/></div></div></a></div></div></div>    
</body>
</html>