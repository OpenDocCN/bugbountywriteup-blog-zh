<html>
<head>
<title>HEROCTF WALKTHROUGH part-2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HEROCTF演练第2部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/heroctf-walkthrough-part-2-49756e9846a1?source=collection_archive---------0-----------------------#2021-04-29">https://infosecwriteups.com/heroctf-walkthrough-part-2-49756e9846a1?source=collection_archive---------0-----------------------#2021-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cd67b5fef08bc5b121ec1d43d5f54ccc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uk2zHVSip4F2lnxUb1fing.png"/></div></div></figure><p id="0428" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完成第一轮法医挑战后，我们进入第二部分。在第二部分中，我们的挑战是找到用户名和密码的明文格式。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/987e21acb876ea3a63ef6b7af902c3bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*m7Ws36oFfbk5ibqzQdGAlw.png"/></div></figure><p id="0c27" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，我们需要列出所有的配置单元地址。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lb"><img src="../Images/cc7b4625befc276681360380851ee38d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aS2aP364EYMa5hsOgWKR3g.png"/></div></div></figure><p id="3446" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了找到用户名和密码，我们需要hivelist中的另一个hive地址。这里我们使用这个\ SystemRoot \ System32 \ Config \ SAM配置单元地址来查找用户名和密码。SAM(安全帐户管理器)是windows XP、Windows Vista、Windows 7、8.1和10中使用的数据库，用于存储用户的密码</p><p id="410f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我们知道所有的散列都存储在SAM中，所以我们将所有的散列转储到一个txt文件中</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lc"><img src="../Images/ff30f2d53e69091e75d1c6e26bf67d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DsiuYa9mmA_mjN1uu1kM3A.png"/></div></div></figure><p id="d0d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">是的，我们已经完成了，我们的散列存储在herohash.txt中。然后下一步是破解散列。我们知道Windows系统是用LM和NTLM算法来加密用户密码的</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ld"><img src="../Images/78902a9dc14316bfd7accdb34f8c5a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dCOQP2X-N-GSbtygbBE_w.png"/></div></div></figure><p id="5b42" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我用https://crackstation.net/来破解密码。破解站是一个强大的哈希破解在线工具。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lf"><img src="../Images/1a6d4f5caa06cba28a7185c47c543270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVWY4pXq6rwfisA0UqrAyw.png"/></div></div></figure><p id="687c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">是的，我们破解了它。最后一面旗帜是</p><p id="44ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">英雄{Razex:liverpoolfc123}</p><p id="b764" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">谢谢大家；</p></div></div>    
</body>
</html>