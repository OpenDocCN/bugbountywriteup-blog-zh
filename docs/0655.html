<html>
<head>
<title>Almost everything about Browser Security for Beginners Part-1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">几乎所有关于初学者浏览器安全性的内容第1部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/almost-everything-about-browser-security-for-beginners-part-1-85e4dae5ca04?source=collection_archive---------0-----------------------#2020-06-26">https://infosecwriteups.com/almost-everything-about-browser-security-for-beginners-part-1-85e4dae5ca04?source=collection_archive---------0-----------------------#2020-06-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6369" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章是为想学习浏览器安全头和概念的初学者准备的。我们开始吧！😃</p><p id="30cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">必备知识:</strong> HTML基础知识和【HTTP请求如何工作</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/f16fd01ebf06ead688b5e5093507253f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*vJuduiGs2SCedEfAIPqBVg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">Pc mac拍摄的照片</figcaption></figure><h1 id="2e2f" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">1.Http严格传输安全标头(HSTS)</h1><p id="3a3c" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">HSTS告诉浏览器，它应该始终通过HTTPS连接，即使是针对<strong class="js iu">的初始请求</strong>。HSTS很容易在网页上启用，但同时也很容易被忽略。如果攻击者试图将HTTPS更改为HTTP，它会自动重定向到https，<strong class="js iu">如果启用了HSTS。</strong></p><p id="9fe0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="me">例如</em> </strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/1b3f2be78bc08a7e5364134f68f57c22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*hyTXggFgl-yniqN_5z5JSg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">HSTS已启用</figcaption></figure><h2 id="5f4d" class="mg lc it bd ld mh mi dn lh mj mk dp ll kb ml mm lp kf mn mo lt kj mp mq lx mr bi translated">如果没有启用HSTS</h2><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/a4a83153e193104db2468768974af956.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*IFvvsa2c1Yi8j7WWR0whdA.png"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/cf7948d889a56d0459b3f30be6530d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*G7jTWvCzR3_5PAjnt7f4aw.png"/></div></figure><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/375c46f0463cfe72a94e69b580193acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*Bx_HRGaRYmVHgD-OoIn1pA.png"/></div></figure><p id="9962" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我能够将HTTPS更改为HTTP，并通过未加密的通道将其连接到网站的管理页面，那么攻击者就可以对网页进行各种类型的攻击。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/1d8e3aeb5be68d14ea2aeed04371d084.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*eP-pIfiS5dMWOS0gbut4Nw.png"/></div></figure><h1 id="b78f" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">2.x-框架-选项标题</h1><p id="6a48" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">要理解X-Frame options头，您需要了解Iframe。Iframe是<strong class="js iu"> </strong> <a class="ae ko" href="https://www.w3schools.com/tags/tag_iframe.asp" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> HTML标签</strong> </a>中的一种，它允许你在你的网页中显示不同的网页，如Instagram和Youtube。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mw"><img src="../Images/904d751d10d89cb965f18721a1648572.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U8tprxPK6vVaDCm0p5R0jg.png"/></div></div></figure><p id="de15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">试用iframe脚本示例！</strong></p><p id="afec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="me">T64】！DOCTYPE html&gt;<br/>&lt;html&gt;<br/>&lt;头&gt; <br/> &lt;样式&gt;<br/>H3 { text-align:center；字体大小:50px颜色:红色；}<br/>p { font-size:20px；颜色:绿色；字体粗细:粗体；}<br/>&lt;/style&gt;<br/>&lt;/head&gt;<br/>&lt;body style = " background-color:# f0f 8 ff "&gt;<br/>&lt;H4&gt;在这个网页中，通过使用iframe我正在播放两个不同域的视频歌曲&lt;/H4&gt;<br/>&lt;</em><em class="me">iframe</em><em class="me">width自动播放；加密媒体；陀螺仪；画中画" allow full screen style = " padding:20px；"&gt;</em><strong class="js iu"><em class="me">&lt;/iframe&gt;</em>T47】</strong></p><p id="03a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="me">&lt;iframe</em></strong><em class="me">width = " 555 " height = " 333 " src = "</em><a class="ae ko" href="https://www.instagram.com/p/BwZwaReBKod/embed" rel="noopener ugc nofollow" target="_blank"><em class="me">https://www.instagram.com/p/BwZwaReBKod/embed</em></a><em class="me">" frame border = " 0 " allow = "加速度计；自动播放；加密媒体；陀螺仪；画中画" style = " padding:20px；"&gt;&gt;</em><strong class="js iu"><em class="me">&lt;/iframe&gt;</em></strong></p><p id="3d9b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="me">&lt;/正文&gt; <br/> &lt; /html &gt; </em></p><p id="d55f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当你在你的页面上使用不同的域名时，有可能发生<a class="ae ko" href="https://portswigger.net/web-security/clickjacking" rel="noopener ugc nofollow" target="_blank">点击劫持攻击</a>。通常，<strong class="js iu">点击劫持</strong>是通过在用户看到的页面顶部显示一个<strong class="js iu"> iframe </strong>内的不可见页面或<strong class="js iu"> HTML元素</strong> t来执行的。用户认为他们点击的是可见的页面，但实际上，他们点击的是一个不可见的元素，这个元素在附加页面上被调换了位置。</p><p id="94fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了避免点击劫持攻击，我们需要标题标签中的<strong class="js iu"> X-Frame-Options </strong></p><h2 id="5889" class="mg lc it bd ld mh mi dn lh mj mk dp ll kb ml mm lp kf mn mo lt kj mp mq lx mr bi translated">x框架选项:指令</h2><p id="d278" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">常见的<strong class="js iu">指令有:</strong></p><ul class=""><li id="be82" class="nb nc it js b jt ju jx jy kb nd kf ne kj nf kn ng nh ni nj bi translated"><strong class="js iu"> deny: </strong>该指令阻止站点在<strong class="js iu"> &lt;帧&gt; </strong>中呈现，即站点不能嵌入其他站点。</li><li id="aab7" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu">同源:</strong>当框架与页面具有相同的原点时，该指令允许页面显示在框架中。</li></ul><p id="96e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">启用<strong class="js iu"> X-Frame-Options报头</strong>是好的，但是，减轻iframe攻击的更好方法是通过使用<strong class="js iu"> CSP frame-anchester </strong></p><p id="17b6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="me">内容-安全-政策:框架-祖先'自我'</em> </strong></p><h1 id="bb07" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">3.同源政策</h1><p id="a389" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">首先，<strong class="js iu">由来</strong>是什么？Origin被定义为三部分的组合:<strong class="js iu">协议、主机名和端口号</strong>。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f4693617ef5d443aa0855ee838ab21ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*hpXRaGKiRjxWbeMOsVa24g.png"/></div></figure><p id="03c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="me"/><a class="ae ko" href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"><em class="me">同源策略</em> </strong> </a> <em class="me">是一种关键的安全机制，限制从一个源加载的文档或脚本如何与另一个源的资源交互。它有助于隔离潜在的恶意文档，减少可能的攻击媒介。</em></p><p id="e309" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们考虑，在这个网页内的在<a class="ae ko" href="https://www.test1.com/admin" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">https://www.test1.com/admin</strong></a><strong class="js iu"/>托管的网页是加载不同网页的<strong class="js iu"> iframe </strong>。我们的源主机定义为<a class="ae ko" href="https://www.test1.com" rel="noopener ugc nofollow" target="_blank"><strong class="js iu"/></a><strong class="js iu">。</strong></p><p id="fc55" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下表中,“URL”列描述了我们想要访问的完整URL，以及它们是否因同源策略而可访问:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/ab158cc0069a44a93c7b046d33896f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*gdFN3q5jfOznr4ZXipJtWg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">HTTP状态代码</figcaption></figure><p id="6cf5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">默认情况下，<strong class="js iu">同源策略</strong>在大多数浏览器中都是开启的。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/551b112bd54bc5bd8a6b8ce06b1aa4b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*QTLDgVDQ8X44TBR-v0aiKA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">介质的权限策略</figcaption></figure><h1 id="59e8" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">4.罗斯与T21分享政策</h1><p id="dfe2" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">拥有同源策略很酷，因为<strong class="js iu">同源策略</strong>不仅可以阻止恶意网站读取另一个网站的数据，还可以阻止真正的使用，如获取<strong class="js iu">图像、API调用、web字体图标和CDN </strong>，这些通常是从另一个域请求的。</p><p id="5c8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是为什么我们需要CORS！共享策略是一种安全特性，它允许来自一个源的网页访问另一个域的资源，同时最大限度地减少跨域请求共享带来的安全风险。</p><p id="a3ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> CORS </strong> : <strong class="js iu">简单请求</strong>和<strong class="js iu">飞行前</strong> <strong class="js iu">请求</strong>，</p><h2 id="0515" class="mg lc it bd ld mh mi dn lh mj mk dp ll kb ml mm lp kf mn mo lt kj mp mq lx mr bi translated">简单的要求。</h2><p id="9b43" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">简单的请求不需要预先检查。CORS使用HTTP方法，比如GET、POST、HEAD来处理简单的请求。</p><ol class=""><li id="56be" class="nb nc it js b jt ju jx jy kb nd kf ne kj nf kn ns nh ni nj bi translated">当浏览器从另一个域请求资源时。假设<code class="fe nt nu nv nw b"><a class="ae ko" href="https://www.example" rel="noopener ugc nofollow" target="_blank">https://www.<strong class="js iu">example</strong></a>.com</code>发起AJAX请求<code class="fe nt nu nv nw b">GET <a class="ae ko" href="https://api.example.com" rel="noopener ugc nofollow" target="_blank">https://api.example.com</a></code></li><li id="f19c" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ns nh ni nj bi translated">除了添加Host这样的头，浏览器还会自动为跨源请求添加<code class="fe nt nu nv nw b">Origin</code>请求头:</li></ol><pre class="kq kr ks kt gt nx nw ny nz aw oa bi"><span id="e698" class="mg lc it nw b gy ob oc l od oe">GET /widgets/ HTTP/1.1<br/><strong class="nw iu">Host: api.example.com<br/>Origin: https://www.example.com</strong><br/>Accept-Language: en-US,en;q=0.5<br/>Accept-Encoding: gzip, deflate<br/>Content-Type: application/json<br/>Content-Length: 5443<br/>Connection: close<br/>Referer: <a class="ae ko" href="https://www.google.com" rel="noopener ugc nofollow" target="_blank">https://www.google.com</a></span></pre><p id="7283" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.服务器检查<code class="fe nt nu nv nw b">Origin</code>请求报头。如果允许原始值，它将<code class="fe nt nu nv nw b">Access-Control-Allow-Origin</code>设置为请求报头<code class="fe nt nu nv nw b">Origin</code>中的值。</p><pre class="kq kr ks kt gt nx nw ny nz aw oa bi"><span id="43a4" class="mg lc it nw b gy ob oc l od oe">HTTP/1.1 200 OK  <br/><strong class="nw iu">Access-Control-Allow-Origin: https://www.example.com </strong> <br/>Access-control-allow-credentials: true<br/>Access-control-allow-headers: LightStep-Access-Token, Content-Type<br/>Access-control-allow-origin: *</span></pre><p id="e1e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">4.当浏览器收到响应时，浏览器会检查<code class="fe nt nu nv nw b">Access-Control-Allow-Origin</code>标题，看它是否与选项卡的来源匹配。否则，响应将被阻止。如果<code class="fe nt nu nv nw b">Access-Control-Allow-Origin</code>与单原点完全匹配或包含<strong class="js iu"> * </strong>操作符，测试成功。</p><p id="0553" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">使用*操作符</strong>有很高的安全风险，因为它<strong class="js iu">禁用了CORS的大多数安全规则。</strong></p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi of"><img src="../Images/4194dc80fd9070436b1d295e0e90813d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*CDudoEXXUvBPer2B8Psk8A.png"/></div></figure><h2 id="4370" class="mg lc it bd ld mh mi dn lh mj mk dp ll kb ml mm lp kf mn mo lt kj mp mq lx mr bi translated">飞行前请求</h2><p id="8f4b" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">一个标准的<strong class="js iu">飞行前请求</strong>将在原始请求之前发出，以验证他们是否有行动的许可。这就是为什么它被称为<strong class="js iu">飞行前请求。</strong>它使用HTTP <code class="fe nt nu nv nw b">OPTIONS</code>方法。</p><p id="d314" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与<strong class="js iu">选项请求</strong>一起发送的还有另外两个请求头，这里是一个预检请求的例子:</p><pre class="kq kr ks kt gt nx nw ny nz aw oa bi"><span id="881b" class="mg lc it nw b gy ob oc l od oe">Origin: http://example.com<br/>Access-Control-Request-Method: <em class="me">POST</em><br/>Access-Control-Request-Headers: <em class="me">X-Custom-Header</em></span></pre><p id="24ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果<code class="fe nt nu nv nw b">api.example.com</code>不愿意接受动作，那么它阻塞，如果它愿意接受，那么它可以用下面的标题来响应:</p><pre class="kq kr ks kt gt nx nw ny nz aw oa bi"><span id="005d" class="mg lc it nw b gy ob oc l od oe">Access-Control-Allow-Origin: https://example.com<br/>Access-Control-Allow-Methods: <em class="me">GET, POST, OPTIONS</em><br/>Access-Control-Allow-Headers: <em class="me">X-Custom-Header</em><br/>Access-Control-Max-Age: <em class="me">86400</em></span></pre><p id="7a9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">关于详细的解释，我建议阅读https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS的一篇优秀文章</p><h1 id="be65" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">5.内容安全政策</h1><p id="9aa8" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated"><strong class="js iu">C</strong>content<strong class="js iu">S</strong>security<strong class="js iu">P</strong>policy由应用服务器根据浏览器的策略进行设置，如果网站从其他地方加载资源或脚本，浏览器会立即阻止它。</p><p id="801e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个想法是，如果攻击者试图加载他的脚本，如果脚本不在网站策略上，浏览器会阻止它，将不会有攻击。这是一种白名单方法，您可以将脚本源列入白名单。</p><h2 id="8bba" class="mg lc it bd ld mh mi dn lh mj mk dp ll kb ml mm lp kf mn mo lt kj mp mq lx mr bi translated">如何设置CSP，</h2><p id="ad76" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">由<strong class="js iu"> web服务器</strong>通过<strong class="js iu"> HTTP头</strong>设置<strong class="js iu"> CSP </strong>，供<strong class="js iu">浏览器</strong>执行，内容-安全-策略:策略</p><p id="3354" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="me">内容-安全-策略:default-src ' self ' * . trusted . com</em></p><ul class=""><li id="7c95" class="nb nc it js b jt ju jx jy kb nd kf ne kj nf kn ng nh ni nj bi translated"><strong class="js iu"><em class="me">default-src:self ' * . trusted . com</em></strong>这将指示web浏览器仅从页面的<strong class="js iu"> origin/trusted.com </strong>加载所有资源</li><li id="a8c2" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu"> <em class="me">字体- </em> src: </strong>决定应该加载什么字体</li><li id="69a9" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu"> <em class="me"> img-src: </em> </strong>决定应该加载什么图像</li><li id="a499" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu"> <em class="me">脚本-src </em> : </strong>决定应该加载什么脚本</li><li id="33d1" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu"><em class="me">style-src:</em></strong><em class="me"/>决定了应该加载什么样式/CSS</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi og"><img src="../Images/cbbabb3320a322b8d3ee6b0c80d8bda1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uVoQB0YjIFjDidQ1L_Qj9A.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">CSP示例</figcaption></figure><p id="291a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">CSP是一个巨大的话题！😄因此，我强烈推荐在Mozilla developer 中阅读更多关于CSP的内容。</p><h1 id="c9cf" class="lb lc it bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">6.特征策略</h1><p id="3b9b" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">它允许网站启用、禁用和修改web功能，如摄像头、麦克风、扬声器、通知、Iframe中的全屏、地理定位和浏览器中的某些API调用。</p><p id="c1d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它类似于内容安全策略，但它不是将安全列入白名单，而是将<strong class="js iu">网页功能列入白名单。</strong></p><h2 id="efe5" class="mg lc it bd ld mh mi dn lh mj mk dp ll kb ml mm lp kf mn mo lt kj mp mq lx mr bi translated">如何使用功能策略</h2><p id="14f4" class="pw-post-body-paragraph jq jr it js b jt lz jv jw jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn im bi translated">要使用特性策略，浏览器需要知道两件事:你正在为哪个特性创建策略(<strong class="js iu">指令)</strong>，以及你希望如何处理那个特性(<strong class="js iu"> allowlist </strong>)。</p><pre class="kq kr ks kt gt nx nw ny nz aw oa bi"><span id="330c" class="mg lc it nw b gy ob oc l od oe">Feature-Policy: &lt;directive&gt; &lt;allowlist&gt;</span></pre><p id="7cde" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">指令</strong> <em class="me"> → </em>摄像头、麦克风、扬声器、地理定位等。</p><p id="061b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">允许列表→ </strong> *，自身，无，来源</p><ul class=""><li id="16eb" class="nb nc it js b jt ju jx jy kb nd kf ne kj nf kn ng nh ni nj bi translated"><strong class="js iu"> * </strong> →在嵌套浏览上下文中启用(iframes)。</li><li id="d5ed" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu"> self </strong> →在文档和iframes中可访问的相同来源。</li><li id="5a07" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu">无</strong> →禁用文档和任何嵌套iframes的功能。</li><li id="1876" class="nb nc it js b jt nk jx nl kb nm kf nn kj no kn ng nh ni nj bi translated"><strong class="js iu">原产地→仅允许指定的原产地。</strong></li></ul><p id="dab0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">例如</strong></p><pre class="kq kr ks kt gt nx nw ny nz aw oa bi"><span id="f073" class="mg lc it nw b gy ob oc l od oe">Feature-Policy: <!-- -->Camera<!-- --> 'none'<br/>Feature-Policy: <!-- -->Camera<!-- --> 'self' <a class="ae ko" href="https://test1.com" rel="noopener ugc nofollow" target="_blank">https://test1.com</a></span></pre><p id="77f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">更多信息请访问https://w3c.github.io/webappsec-feature-policy/</p><p id="f004" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="me">第二部分</em></strong>→<a class="ae ko" href="https://medium.com/@Kamesh.Karmegam/almost-everything-about-browser-security-for-beginners-part2-a16f8592ab49" rel="noopener">https://medium.com/@Kamesh.karmegam/初学者几乎所有关于浏览器安全的内容-part2-a16f8592ab49 </a></p></div></div>    
</body>
</html>