<html>
<head>
<title>Extract an Android Backup File</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提取一个Android备份文件</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/extract-an-android-backup-file-96172efd4d86?source=collection_archive---------1-----------------------#2020-11-22">https://infosecwriteups.com/extract-an-android-backup-file-96172efd4d86?source=collection_archive---------1-----------------------#2020-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6ee2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">移动应用程序数字取证分析</h2></div><p id="7519" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">这不是一个真实世界的演练，而是以一个名为“Cat”的HTB Android挑战赛为例，进行一个简单的Android备份文件审查。本文不是关于如何解决这一挑战的指南，而是要了解取证分析的移动端。</em></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/942f63a4a07ce00bc283b23c75302bd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihjLdT611TJQhn4nTyVKRQ.jpeg"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated"><a class="ae lv" href="https://101android.com/full-phone-backup-adb/" rel="noopener ugc nofollow" target="_blank">https://101android.com/full-phone-backup-adb/</a></figcaption></figure><h1 id="aae5" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">。ab文件</h1><p id="437a" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">解压缩从HTB下载的cat.zip文件会显示cat.ab文件。这里，<strong class="kk iu">。ab </strong>扩展名表示这是一个Android备份文件。这必须是使用adb(Android调试桥)命令行或Android SDK软件创建的。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mt"><img src="../Images/26b09edab91ffa15cffa20b4d1ff5010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zgqv78IsOo4lm2wtSvZqLg.png"/></div></div></figure><h2 id="6c55" class="mu lx it bd ly mv mw dn mc mx my dp mg kr mz na mi kv nb nc mk kz nd ne mm nf bi translated">adb(Android调试桥)命令行工具</h2><p id="871b" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">允许您与android驱动的设备或仿真器实例进行通信。</p><h2 id="c62e" class="mu lx it bd ly mv mw dn mc mx my dp mg kr mz na mi kv nb nc mk kz nd ne mm nf bi translated">Android SDK软件</h2><p id="ee16" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">允许您<a class="ae lv" href="https://code.tutsplus.com/tutorials/the-android-sdk-tutorial--cms-34623" rel="noopener ugc nofollow" target="_blank">开发android应用程序</a>。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><p id="044b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在运行<code class="fe nn no np nq b">file</code>命令，轻松找出文件类型和版本。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nr"><img src="../Images/c0ffb909d8a2ba83ad0b2aa54610a069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5bR6MU1RPbiBa1t1gh-gA.png"/></div></div></figure><p id="9db5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要提取这个备份文件的内容，只需运行下面的<a class="ae lv" href="https://loganakamatsu.com/2016/extracting-adb-backups/" rel="noopener ugc nofollow" target="_blank">命令-lin </a> e。</p><p id="6e2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nn no np nq b">(printf “\x1f\x8b\x08\x00\x00\x00\x00\x00” ; tail -n +5 cat.ab) | tar -xvz</code></p><p id="6a4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">该命令:</strong></p><ul class=""><li id="d889" class="ns nt it kk b kl km ko kp kr nu kv nv kz nw ld nx ny nz oa bi translated">添加gzip头:<code class="fe nn no np nq b">printf “\x1f\x8b\x08\x00\x00\x00\x00\x00”</code></li><li id="565b" class="ns nt it kk b kl ob ko oc kr od kv oe kz of ld nx ny nz oa bi translated"><code class="fe nn no np nq b">tail -n +5 cat.ab</code> -该命令从第5行开始读取文件，直到文件结束。如果你运行<code class="fe nn no np nq b">cat cat.ab | less</code>你会发现前四行是不必要的数据。</li></ul><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/fd31c8e76f737f8a245c0b45524f4a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*GK06QkK6fSHc0N3_HJB2FA.png"/></div></figure><ul class=""><li id="4889" class="ns nt it kk b kl km ko kp kr nu kv nv kz nw ld nx ny nz oa bi translated"><code class="fe nn no np nq b">tar -xvz</code> -解压缩gzip文件。</li></ul><p id="606a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">最终输出结果</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oh"><img src="../Images/26f3d086cb663a5d690591c3853fc68f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4bQgez4OhGLJkFKURlU9oA.png"/></div></div></figure><p id="9493" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">cat.ab备份文件，使用上面的命令已经成功提取了两个文件夹。现在，您可以进一步研究这些文件夹以实现您的目标。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi oi"><img src="../Images/9ab280a72762c13fdca5cd239f91714c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vjiF9S8eHtRHWM_2wj-ZPA.png"/></div></div></figure></div></div>    
</body>
</html>