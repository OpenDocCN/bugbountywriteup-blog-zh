<html>
<head>
<title>This SIMPLE vulnerability in Shopify earned a $2500 bug bounty</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Shopify中的这个简单漏洞赢得了2500美元的漏洞奖金</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/this-simple-vulnerability-in-shopify-earned-a-2500-bug-bounty-25f0b8358012?source=collection_archive---------0-----------------------#2022-08-01">https://infosecwriteups.com/this-simple-vulnerability-in-shopify-earned-a-2500-bug-bounty-25f0b8358012?source=collection_archive---------0-----------------------#2022-08-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7647" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要忘记检查用户访问权限</h2></div><h1 id="b795" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated"><strong class="ak">总结</strong></h1><p id="c575" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">最常见的漏洞之一发生在用户能够访问他们不应该访问的内容时。如果恶意参与者利用此漏洞并访问他人的机密信息，这可能会导致敏感数据泄漏。这是一种叫做<a class="ae lw" href="https://portswigger.net/web-security/information-disclosure" rel="noopener ugc nofollow" target="_blank">信息泄露</a>的漏洞形式，它可以采取多种形式。</p><p id="507f" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">通常，web应用程序开发人员在检查用户是否能够访问他们请求的信息方面做得很好。但是，在隐藏或模糊的地方，很容易忘记验证用户是否有适当的访问权限。例如，我之前<a class="ae lw" href="https://medium.com/@roberto.cyberkid/how-this-easy-vulnerability-resulted-in-a-20-000-bug-bounty-from-gitlab-d9dc9312c10a" rel="noopener">写了一个在GitLab中发现的价值20，000美元的bug，它同样会向未授权用户泄露数据</a>。</p><p id="209d" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">Shopify有一个类似的漏洞，被HackerOne用户<code class="fe mc md me mf b">zambo</code>发现，它允许用户检索他们不应该访问的订单信息。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/4c9858447c437e76ec5f2c2219bbaff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wdq44-jgI1mZFiwv_tv3sg.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">人工智能生成的“商店小偷”craiyon.com的图像</figcaption></figure><h1 id="17ce" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">利用</h1><blockquote class="mw mx my"><p id="6314" class="la lb mz lc b ld lx ju lf lg ly jx li na lz ll lm nb ma lp lq nc mb lt lu lv im bi translated">我将在HackerOne 查看<code class="fe mc md me mf b">zambo</code>的总结和报告<a class="ae lw" href="https://hackerone.com/reports/968165" rel="noopener ugc nofollow" target="_blank">。原分析请阅读原摘要</a></p></blockquote><p id="f51c" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated"><a class="ae lw" href="https://www.shopify.com/" rel="noopener ugc nofollow" target="_blank"> Shopify </a>是全球最大的电子商务平台之一。它允许用户建立网上商店并与他们的客户进行互动，而几乎不需要处理构建和支持这样一个在线应用程序所需的任何技术难题。提供的功能之一是一个聊天应用程序，允许客户与商店进行实时互动。</p><p id="2b22" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">HackerOne用户<code class="fe mc md me mf b">zambo</code>调查了一个选项，该选项允许“我需要更新我的订单。 <em class="mz"> " </em>点击该按钮时，会发出一个<code class="fe mc md me mf b">POST</code>请求，其中包含一个<code class="fe mc md me mf b">order_lookup</code> JSON和所请求的信息。<em class="mz">注意:下面的请求来自</em> <code class="fe mc md me mf b"><em class="mz">zambo</em></code> <em class="mz">的原始帖子，但是被修改以显示一个正常的请求以及关于目标的编辑信息。</em></p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nd"><img src="../Images/7d1d7a18c533454658f4e89972dbc2d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F-fzCaMEbLk0xKoAlNKakg.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">发布关于“我需要更新我的订单”的请求来源:<a class="ae lw" href="https://hackerone.com/reports/968165" rel="noopener ugc nofollow" target="_blank"> HackerOne报告</a></figcaption></figure><p id="fb8e" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated"><code class="fe mc md me mf b">zambo</code>注意到对<code class="fe mc md me mf b">email</code>值执行的唯一验证是确保提供了邮件服务器。这意味着将<code class="fe mc md me mf b">email</code>值改为<code class="fe mc md me mf b">@gmail.com</code>、<code class="fe mc md me mf b">@yahoo.com</code>等。，那么这将通过验证。然后，<code class="fe mc md me mf b">zambo</code>还注意到<code class="fe mc md me mf b">order_number</code>值应该从1000开始，并在每个新订单上增加1。结合这两个事实，<code class="fe mc md me mf b">zambo</code>能够发现这实际上是一个<a class="ae lw" href="https://portswigger.net/web-security/access-control/idor" rel="noopener ugc nofollow" target="_blank"> IDOR </a>，攻击者将有能力获得该商店上任何订单的订单信息。</p><h2 id="f561" class="ne kj it bd kk nf ng dn ko nh ni dp ks lj nj nk ku ln nl nm kw lr nn no ky np bi translated">为什么这笔赏金值2500美元？</h2><p id="1691" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在安全方面，人们通常认为CIA(机密性、完整性和可用性)三要素是指导安全的原则。在这种情况下，违反了保密原则。我不确定从订单中泄露的信息会造成多大的损害(例如，是否只是购买的订单产品或是否包括敏感的财务信息)，但无论如何，用户信息都应该保持隐私。</p><p id="2770" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">这使得该bug的严重性为中等。幸运的是，似乎没有升级或违反完整性或可用性，这将使错误更加严重。然而这个bug为<code class="fe mc md me mf b">zambo</code>赢得了当之无愧的2500美元奖励。再次祝贺！提醒(也是鼓励)臭虫不必复杂到造成巨大的破坏。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nq"><img src="../Images/96bccb24b14724010db9f5f044df7a6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dxQglfvk3EWlko_wp8Sh1A.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">人工智能在craiyon.com“shopify shark”上生成的图像</figcaption></figure><p id="8112" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated">感谢您通读，请在下面留下任何建设性的反馈、建议或问题！如果你喜欢，请考虑跟随我或<a class="ae lw" href="https://www.buymeacoffee.com/robertocyberkid" rel="noopener ugc nofollow" target="_blank">请我喝杯咖啡</a>。在roberto.cyberkid@gmail.com联系我，在twitter上关注我，在LinkedIn上联系我！</p></div><div class="ab cl nr ns hx nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="im in io ip iq"><p id="c743" class="pw-post-body-paragraph la lb it lc b ld lx ju lf lg ly jx li lj lz ll lm ln ma lp lq lr mb lt lu lv im bi translated"><em class="mz">来自Infosec的报道:Infosec上每天都会出现很多难以跟上的内容。</em> <a class="ae lw" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu"> <em class="mz">加入我们的每周简讯</em> </strong> </a> <em class="mz">以5篇文章、4个线程、3个视频、2个Github Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</em></p></div></div>    
</body>
</html>