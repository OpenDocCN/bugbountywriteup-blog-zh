<html>
<head>
<title>Checking price doesn’t always work!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">查价格不一定管用！</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/checking-price-doesnt-always-work-48235fd350e5?source=collection_archive---------1-----------------------#2019-08-16">https://infosecwriteups.com/checking-price-doesnt-always-work-48235fd350e5?source=collection_archive---------1-----------------------#2019-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/8e20a423f09b8a7b87b1ec9334705a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*ha19YnMY4LS-MyI6GyuagQ.jpeg"/></div></figure><p id="5de9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最近，我不得不为我的锻炼计划订购一些补充剂，我正在搜索一些允许送货的网站，并找到了一个好网站。作为一个bug猎人，我总是认为网站可能有一些缺陷，或者让我们好好看看支付系统。</p><p id="5952" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，我运行了我的<strong class="jw ir">打嗝套件</strong>,我选择了一个商品，拦截了请求并更改了POST主体中的价格(只是为了检查它是否从这里开始)，但它移动到了购物车上，价格仍然相同。</p><p id="f170" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，我有两个选择:第一，当我从购物车中结账时，第二，当我进一步走向付款时。我点击了checkout选项，通过再次拦截请求，使用burp中的Proxy选项卡再次更改了价格。但是它加载到下一页没有任何变化。我还有一个选项，我很快填写了地址，然后通过信用卡点击支付选项，再次拦截了请求，这次再次更改了价格，然后继续查看最终的更改，并获得了一条成功消息，</p><blockquote class="ks"><p id="df82" class="kt ku iq bd kv kw kx ky kz la lb kr dk translated"><em class="lc">价格已更改，无法继续移动</em></p></blockquote><figure class="le lf lg lh li jr gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/6934be318a96c3c16b9f4161a634b724.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/1*LAuMf-9xdBcoYvlIiVhFKQ.gif"/></div></figure><p id="432f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我是如此的混乱，以至于他们甚至检查已经改变的价格，现在我可能没有选择。那天晚上我点了我选的东西后就睡着了。</p><p id="bb4b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">几天后，我想再试一次支付系统，我有了一个主意。我选择了另一个项目，并按照我以前的尝试移动到最后的结帐部分，这一次选择了货到付款，我可以看到这一次的请求包含项目数量，这要么是之前没有，要么是我忘记尝试了。但无论如何，我当时在COD里面，所以试图将项目的数量改为负数，但没有结果，它只是在清空我的购物车，我在内心深处想，如果这不起作用，浪费这么多时间是不好的。然后，我将数量改为0.1，它再次清空了我的购物车。所以，我终于知道我想的所有选择都行不通。</p><p id="d949" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我关了笔记本上了床，又开了手机。我在网站上看到一条消息，</p><blockquote class="ks"><p id="b934" class="kt ku iq bd kv kw kx ky kz la lb kr dk translated">"您的订单已经确认，很快就会发货."</p></blockquote><p id="1f74" class="pw-post-body-paragraph ju jv iq jw b jx lj jz ka kb lk kd ke kf ll kh ki kj lm kl km kn ln kp kq kr ij bi translated">然后我查看了我的邮件，瞧，我得到了订购的商品，数量是. 1，价格实际上是，</p><blockquote class="lo lp lq"><p id="83fa" class="ju jv lr jw b jx jy jz ka kb kc kd ke ls kg kh ki lt kk kl km lu ko kp kq kr ij bi translated">原始价格*数量</p></blockquote><p id="11af" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因为它少于符合免费送货条件的订单，他们也增加了一些运费，但我很高兴我没有放弃。我得到了一个教训，仅仅检查价格是没有用的，数量也可以发挥很大的作用。这也适用于开发人员，他们只检查篡改的价格，但只检查数量作为<strong class="jw ir"> &gt; 0 </strong>。</p><p id="a33f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">谢谢你阅读它！</p><p id="0819" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">狩猎愉快！</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="bbc7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="lr">关注</em> <a class="ae mc" href="https://medium.com/bugbountywriteup" rel="noopener"> <em class="lr"> Infosec报道</em> </a> <em class="lr">获取更多此类精彩报道。</em></p><div class="md me gp gr mf mg"><a href="https://medium.com/bugbountywriteup" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd ir gy z fp ml fr fs mm fu fw ip bi translated">信息安全报道</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">收集了世界上最好的黑客的文章，主题从bug奖金和CTF到vulnhub…</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu js mg"/></div></div></a></div></div></div>    
</body>
</html>