<html>
<head>
<title>All about File upload XSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">所有关于文件上传XSS</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/all-about-file-upload-xss-c72c797aaba3?source=collection_archive---------1-----------------------#2021-05-10">https://infosecwriteups.com/all-about-file-upload-xss-c72c797aaba3?source=collection_archive---------1-----------------------#2021-05-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2e7b45d66ea63fdbd533242cff2f7d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tx8nnGwCdCY5SBtRk5he7g.png"/></div></div></figure><p id="dc54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你好黑客们，</p><p id="9f5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望你们做得很好，并狩猎大量的昆虫和美元！</p><p id="3360" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经在之前的文章《<a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/all-about-cross-site-scripting-xss-406a2db6c330"> <strong class="ka ir">关于XSS </strong> </a>的一切》中讨论过XSS。让我给你介绍另一种找到XSS的方法，通过文件上传。</p><p id="d367" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">文件上传是为web应用程序寻找跨站脚本(XSS)的重要机会。</strong></p><p id="f82b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如我们所知，许多网络应用程序允许客户或他们的用户为许多不同的目的上传文件，这只是在他们身上找到漏洞的机会。因此，让我们看看如何攻击这些允许文件上传到那里的入口点，以便找到XSS。</p><blockquote class="kx ky kz"><p id="5eba" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated"><strong class="ka ir"> XSS通过文件名</strong></p></blockquote><p id="5489" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当您上传任何文件时，文件名总是反映在网页上，因此您可以使用XSS有效负载更改文件名，并尝试在web应用程序上上传它。XSS可能会在那里被触发。</p><div class="le lf gp gr lg lh"><a href="https://hackerone.com/reports/403692" rel="noopener  ugc nofollow" target="_blank"><div class="li ab fo"><div class="lj ab lk cl cj ll"><h2 class="bd ir gy z fp lm fr fs ln fu fw ip bi translated">HackerOne上披露的Node.js第三方模块:[天马-static]...</h2><div class="lo l"><h3 class="bd b gy z fp lm fr fs ln fu fw dk translated">我想报告一下天马中存储的xss静态的，它允许任何人执行任意的javascript来做任何事情…</h3></div><div class="lp l"><p class="bd b dl z fp lm fr fs ln fu fw dk translated">hackerone.com</p></div></div></div></a></div><blockquote class="kx ky kz"><p id="e27e" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated"><strong class="ka ir"> XSS穿越元数据</strong></p></blockquote><p id="3894" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="la">什么是元数据？</em></p><p id="dff7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">元数据是提供关于其他数据的信息的数据。你可以简单地称之为数据的数据。</p><p id="8450" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它给你关于数据的基本信息。出于许多其他原因，可以手动创建它，但今天我们将使用元数据来触发我们的XSS有效负载。对于手动创建元数据，您可以使用<a class="ae kw" href="https://github.com/exiftool/exiftool" rel="noopener ugc nofollow" target="_blank"> ExifTool </a>来帮助您完成此过程。</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lq"><img src="../Images/b88652e6c19433e24066ca7bde15a292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ox8sx_Uhdc7F7o5OxKiFdw.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">在元数据中写入xss有效负载</figcaption></figure><div class="le lf gp gr lg lh"><a href="https://hackerone.com/reports/964550" rel="noopener  ugc nofollow" target="_blank"><div class="li ab fo"><div class="lj ab lk cl cj ll"><h2 class="bd ir gy z fp lm fr fs ln fu fw ip bi translated">Shopify在HackerOne上披露:XSS通过上传头像PNG存储...</h2><div class="lo l"><h3 class="bd b gy z fp lm fr fs ln fu fw dk translated">你好团队，我发现在https://accounts.shopify.com/accounts/通过头像无限制上传文件，而XSS存储在…</h3></div><div class="lp l"><p class="bd b dl z fp lm fr fs ln fu fw dk translated">hackerone.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me jw lh"/></div></div></a></div><p id="cb00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">只有当exif元数据没有从文件中剥离时，才会出现这种情况。</p><blockquote class="kx ky kz"><p id="7e0c" class="jy jz la ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated"><strong class="ka ir"> XSS通过SVG文件</strong></p></blockquote><p id="6c33" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果web应用程序允许上传SVG(可缩放矢量图形)文件扩展名，这也是一种图像类型。然后尝试通过SVG文件手工制作XSS有效载荷。</p><p id="d31f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="la">可缩放矢量图形(SVG)是一种基于XML的二维图形矢量图像格式，支持交互性和动画。</em></p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/8d2abcc4bb21fdb2ea217b755429b7b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1bzThcUpz3Bxu0Hx9lLJzA.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">有效载荷</figcaption></figure><div class="le lf gp gr lg lh"><a href="https://hackerone.com/reports/148853" rel="noopener  ugc nofollow" target="_blank"><div class="li ab fo"><div class="lj ab lk cl cj ll"><h2 class="bd ir gy z fp lm fr fs ln fu fw ip bi translated">Paragon Initiative Enterprises在HackerOne上披露:存储的XSS...</h2><div class="lo l"><h3 class="bd b gy z fp lm fr fs ln fu fw dk translated">浏览器处理SVG文件的方式很糟糕。如果你提供的是用户可以上传的SVG文件，* *只允许…</h3></div><div class="lp l"><p class="bd b dl z fp lm fr fs ln fu fw dk translated">hackerone.com</p></div></div></div></a></div><p id="9f37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有效载荷</p><div class="le lf gp gr lg lh"><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/XSS%20Injection#xss-in-js-context" rel="noopener  ugc nofollow" target="_blank"><div class="li ab fo"><div class="lj ab lk cl cj ll"><h2 class="bd ir gy z fp lm fr fs ln fu fw ip bi translated">swisskyrepo/payloads all things</h2><div class="lo l"><h3 class="bd b gy z fp lm fr fs ln fu fw dk translated">Web应用程序安全和Pentest/CTF-swisskyrepo/payloads all things的有用负载和旁路列表</h3></div><div class="lp l"><p class="bd b dl z fp lm fr fs ln fu fw dk translated">github.com</p></div></div><div class="lz l"><div class="mg l mb mc md lz me jw lh"/></div></div></a></div><p id="178c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这对你们有用</p><p id="68b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">快乐黑客</p><p id="79b0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">推特账号:-<a class="ae kw" href="https://twitter.com/Xch_eater" rel="noopener ugc nofollow" target="_blank">https://twitter.com/Xch_eater</a></p></div></div>    
</body>
</html>