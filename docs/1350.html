<html>
<head>
<title>Facebook Page Admin Disclosure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">脸书页面管理披露</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/facebook-page-admin-disclosure-7d8893a4a674?source=collection_archive---------2-----------------------#2021-05-31">https://infosecwriteups.com/facebook-page-admin-disclosure-7d8893a4a674?source=collection_archive---------2-----------------------#2021-05-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="49ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kl translated"><span class="l km kn ko bm kp kq kr ks kt di">大家好</span> <em class="ku">大家好，我是来自尼泊尔的kunjan Nayak，这篇文章是关于在脸书发现的一个安全漏洞，当我使用FB4A </em> <strong class="jp ir"> <em class="ku">(安卓系统的脸书)</em> </strong> <em class="ku">的页面收件箱喜欢一个FB页面时，操作总是以页面管理员的个人id进行，暴露了页面管理员的身份，而不是页面管理员的</em>。<strong class="jp ir"> </strong>问题已经<em class="ku">解决，并根据负责任的披露政策发布。</em></p><h1 id="5e88" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">方案</h1><p id="3753" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi kl translated"><span class="l km kn ko bm kp kq kr ks kt di">一个</span>页面帖子，是使用“提升你的页面”功能通过视频创建的，与这个<a class="ae ly" href="https://www.facebook.com/119405895873/posts/10158670033715874/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="ku">帖子</em> </strong> </a> <strong class="jp ir"> <em class="ku">完全相似。</em> </strong>滥用此类帖子，恶意用户可以利用这一点，创建此类帖子，并通过包含“喜欢”按钮的私人消息将帖子共享到受害者页面，以便从受害者管理员那里获得页面喜欢，从而暴露他们的身份。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/e534e6690c223baceb4552fb6b3cb57f.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*I-WJYKrP4D9ldX6-4SAbgQ.png"/></div></figure><p id="3609" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当帖子链接被发送到受害者页面收件箱，并且附件用FB4A应用程序打开时，可以选择通过页面收件箱内链接预览中出现的页面“<strong class="jp ir"> like </strong>”按钮来喜欢攻击者页面，这导致了一个安全漏洞，当点击Like按钮时，操作是以页面管理员个人语音而不是页面的形式完成的，因此该页面是从暴露管理员身份的管理员个人配置文件中喜欢的。尽管管理员在默认情况下在页面收件箱中作为页面进行交互。</p><p id="5d57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是链接预览？</strong></p><p id="ccfc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">链接预览比普通的URL更吸引眼球，更容易点击——通过为链接提供图像、标题、描述等，为人们提供特定的信息，让他们想点击。</p><h1 id="23e9" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">影响</h1><p id="8c3f" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">页面收件箱中的嵌入式like按钮在点击时使用页面管理员的个人语音，向发送者透露他们的身份。</p><p id="eb3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">设置<br/> === <br/>页面a的用户管理员</p><p id="ac01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">PageB的UserB管理员使用FB4A应用程序管理页面消息。</p><p id="5b7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">再现步骤:</strong></p><p id="2734" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户a通过私人消息共享一个包含类似按钮页面的帖子链接到PageB。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/2d02b9ba7cf9e3275370b24ccdfa90c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*_ybiUt6OsVibW5IU_pQOeQ.png"/></div></figure><p id="8eff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.用户b在他的页面收件箱中收到链接，通过使用FB4A应用程序或FB android/iOS移动版的页面收件箱打开附件，他可以在链接预览中看到一个“喜欢”按钮。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/2c7201cfa49a91504fb155d537265fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9JA4-oVP93zoc8J7LvgOA.png"/></div></div></figure><p id="6ebc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.PageB决定喜欢该页面，并单击页面“喜欢”按钮，但无意中该操作是作为管理员个人ID而不是页面ID完成的，这会泄露管理员身份。</p><p id="1761" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.一个管理员打开他的页面收件箱来喜欢这个页面，但是这个页面是使用管理员的个人ID来喜欢的，暴露了页面管理员的身份。</p><h1 id="de70" class="kv kw iq bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">时间表</h1><p id="f3a4" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">2021年2月1日:报告已发送。</p><p id="7fb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2021年2月11日:预审。</p><p id="1303" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2021年2月11日:分庭。</p><p id="709d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2021年3月4日:修复。</p><p id="cc6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2021年3月9日:赏金奖励$xxx。</p><p id="8b6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我使用相同的概念多次绕过这个问题，并获得了额外的奖金，即两次绕过获得$xxx +$xxx，总共四位数的<strong class="jp ir"> $xxxx </strong>奖励。</p><p id="0eb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，在第三次绕过之后，我仍然可以绕过补丁，因为我已经确定了三个新的绕过来重现这个问题，但其中一个在FB内部工作中重复了，因为团队试图将此作为部分整体修复来修复。</p><p id="f10b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我无法报告其余的绕过，因为在多次绕过之后，团队应用了一个<strong class="jp ir">长期修复</strong>，链接预览功能从FB4A页面收件箱中被永久禁用，因为链接预览是这个问题的主要原因，现在每当帖子或链接被共享到页面收件箱时，链接预览就不会出现在FB4A或FB(m.facebook.com)页面收件箱的移动版本中。</p><p id="c124" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，这是非常令人失望的，我当时很倒霉，因为这份报告与这份"<a class="ae ly" href="https://servicenger.com/blog/mobile/facebook-page-admin-disclosure/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">报告"</strong> </a> <strong class="jp ir"> </strong>完全相似，具有相同的概念。过去获得了更高的奖金，但是FB在这种问题上改变了他们的支付决定，其中包括一个管理员披露的页面收件箱，这就是为什么我获得了更低的支付。</p><p id="87a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要求对此做出合理的<strong class="jp ir">解释</strong>。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mn"><img src="../Images/355c172a5d565b09927ea84bf525688a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJIh5Bd6t4MmGRhNjTxODQ.png"/></div></div></figure><p id="ddc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要求通过参考过去报告的完全相似的报告来重新评估支出。</p><p id="6412" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是根据FB政策"<em class="ku">我们寻求为类似的问题支付类似的金额，但是奖金金额和资格问题可能会随着时间而变化。过去的回报并不一定保证将来会有类似的结果。</em></p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mo"><img src="../Images/9fddb61bdc21f5b0760f59339c4d89de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0XlrYPVlNebaDTS0Km8lPg.png"/></div></div></figure><p id="831e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">类似的报告</strong></p><p id="11c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ly" href="https://servicenger.com/blog/mobile/facebook-page-admin-disclosure/" rel="noopener ugc nofollow" target="_blank">https://service nger . com/blog/mobile/Facebook-page-admin-disclosure/</a></p><p id="ba22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">FB回答说:“<em class="ku">关于另一个链接的报道(</em>过去的报道<em class="ku">)，那个是很久以前的，所以不会适用，因为我们在</em>之间已经改变了立场”。在这之后，我离开了这份报告，继续前进！！！。</p><p id="5994" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一会儿见；)在下一篇文章中，我在脸书的第一个有效错误仍然没有被修复。</p><p id="c340" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以联系我<a class="ae ly" href="https://www.facebook.com/kunjan.nayak.1" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a><strong class="jp ir"/><a class="ae ly" href="https://twitter.com/kunjannayak5" rel="noopener ugc nofollow" target="_blank">t<strong class="jp ir">维特</strong> </a> <strong class="jp ir"> :) </strong></p></div></div>    
</body>
</html>