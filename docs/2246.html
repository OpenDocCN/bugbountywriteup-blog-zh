<html>
<head>
<title>Another day, Another IDOR vulnerability— $5000 Reddit Bug Bounty</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">另一天，另一个IDOR漏洞——5000美元Reddit Bug赏金</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/another-day-another-idor-vulnerability-5000-reddit-bug-bounty-22a75003d999?source=collection_archive---------0-----------------------#2022-08-06">https://infosecwriteups.com/another-day-another-idor-vulnerability-5000-reddit-bug-bounty-22a75003d999?source=collection_archive---------0-----------------------#2022-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="45d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">获得对Reddit版主日志的非特权访问</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/062cd92eee81038aa3492cda721bc487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8GhyIN5OvOdH1gP8cu0eQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">Susan Q Yin 在<a class="ae ky" href="https://unsplash.com/search/photos/typing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="6189" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始了。<em class="lv">又是</em>。</p><p id="4ab8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">IDOR，或不安全的直接对象引用，是一种常见但不安全的引用对象的实践。对于“不安全”，这仅仅意味着很容易找出对象如何命名的模式。例如，IDORs的典型情况是数字id加1，比如这个系统的前三个用户id是<code class="fe lw lx ly lz b">user_10001</code>、<code class="fe lw lx ly lz b">user_10002</code>和<code class="fe lw lx ly lz b">user_10003</code>。如果有5000个用户，我们可以假设有一个<code class="fe lw lx ly lz b">user_12352</code>和一个<code class="fe lw lx ly lz b">user_14999</code>。我们可能不知道这些随机用户到底是谁，但我们现在已经知道如何以可预测的方式直接引用对象。</p><p id="fa03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它本身不会导致漏洞，但是它允许攻击者获得关于应用程序如何运行和引用它自己的对象的有价值的洞察力。这成为应用程序的弱点，因为任何忘记检查授权的端点都很容易被滥用。找到这些目标并不特别复杂，也不需要花费太多精力去攻击。以前针对这种漏洞类型的漏洞奖励包括GitLa的20，000美元漏洞奖励和Shopify的2500美元漏洞奖励。</p><p id="acf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将看到最近披露的一个IDOR HackerOne用户<code class="fe lw lx ly lz b">high_ping_ninja</code>在Reddit端点上获得了5000美元的bug奖金。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="95cd" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">利用</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/3f0ef495457fc3aa8ca5ae94e624e05b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uCVUC2K3x498SJem"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="b412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将回顾一下HackerOne用户<code class="fe lw lx ly lz b">high_ping_ninja</code>在社交媒体网站Reddit上发现的一个最近披露并修复的错误。最初的报告可以在H1 找到<a class="ae ky" href="https://hackerone.com/reports/1658418" rel="noopener ugc nofollow" target="_blank">，所有的功劳归于<code class="fe lw lx ly lz b">high_ping_ninja</code>找到这个bug。</a></p><p id="a8cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Reddit中，社区可以在subredditss上聚集和联系，subreddit是一个独立的论坛，有自己的一套允许内容的准则。子编辑通常由版主巡视，版主作为管理员确保子编辑的所有成员都遵守他们的指导方针。他们可以根据自己的判断采取行动，如禁止成员或删除帖子和消息。所有“仲裁者”行为都存储在每个子编辑的<a class="ae ky" href="https://mods.reddithelp.com/hc/en-us/articles/360022402312-Moderation-Log" rel="noopener ugc nofollow" target="_blank">审核日志</a>中。</p><p id="8410" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">high_ping_ninja</code>发现获取mod日志的请求没有检查请求值的用户是否确实是特定子编辑的版主。这基本上意味着任何帐户都可以访问敏感信息和任何<strong class="lb iu">子编辑的其他版主操作。通过发送以下POST请求，用户可以通过更改子编辑的名称来访问任何mod日志。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/527329f747e028bc2e0d4f30ac057b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cYFQWiwuHP6VEdybf4T4wA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://hackerone.com/reports/1658418" rel="noopener ugc nofollow" target="_blank"> HackerOne </a>的high_ping_ninja的原始PoC发布请求</figcaption></figure><p id="0a62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对这个请求的响应<a class="ae ky" href="https://hackerone.com/reports/1658418" rel="noopener ugc nofollow" target="_blank">有一些更细微的差别，你可以在这里读到</a>，但是基本上，它成功地返回了版主日志。这不是一个数字的IDOR，而是IDOR只是API通过名称引用子编辑的事实。由于知道了subreddit的名称，您也就知道reddit后端如何将它作为一个对象来引用。</p><p id="215b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据Reddit工作人员<code class="fe lw lx ly lz b">goku_reddit</code>的推理，这被授予了5000美元的高严重性级别的bug奖金:</p><blockquote class="nb nc nd"><p id="053b" class="kz la lv lb b lc ld ju le lf lg jx lh ne lj lk ll nf ln lo lp ng lr ls lt lu im bi translated">能够将任意用户指定为现有子编辑的版主，或者在没有适当权限的情况下执行版主操作。(来源:<a class="ae ky" href="https://hackerone.com/reports/1658418" rel="noopener ugc nofollow" target="_blank">哈克松</a>)</p></blockquote><p id="75ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">bug不一定要复杂才有巨大价值！</p><pre class="kj kk kl km gt nh lz ni nj aw nk bi"><span id="7ca7" class="nl mi it lz b gy nm nn l no np"><strong class="lz iu">Want to Connect?</strong></span><span id="0851" class="nl mi it lz b gy nq nn l no np">Please consider contacting me at roberto.cyberkid@gmail.com following me on Medium, <a class="ae ky" href="https://www.buymeacoffee.com/robertocyberkid" rel="noopener ugc nofollow" target="_blank">buying me a coffee</a>, following me on <a class="ae ky" href="https://twitter.com/CyberKidLama" rel="noopener ugc nofollow" target="_blank">twitter</a>, or connecting with me on <a class="ae ky" href="https://www.linkedin.com/in/roberto-lama-9a126a123/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>!</span></pre></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="17d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">来自Infosec的报道:Infosec上每天都会出现很多难以跟上的内容。 <a class="ae ky" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="lv">加入我们的每周简讯</em> </strong> </a> <em class="lv">以5篇文章、4个线程、3个视频、2个Github Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</em></p></div></div>    
</body>
</html>