<html>
<head>
<title>How to bypass the credential manager in Windows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何绕过Windows中的凭据管理器</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/how-to-bypass-the-credential-manager-in-windows-2ad7db8e9876?source=collection_archive---------4-----------------------#2021-07-29">https://infosecwriteups.com/how-to-bypass-the-credential-manager-in-windows-2ad7db8e9876?source=collection_archive---------4-----------------------#2021-07-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="9f18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一种无需任何密码即可提升权限的方法。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://blog.giotech.net/aggiornare-windows-10-senza-collegarsi-al-sito-della-microsoft/"><div class="gh gi kl"><img src="../Images/a1e6266e4fa9288b074ad4b0f77e8421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*YgP29OZcWYSw8fJilh1fgA.jpeg"/></div></a></figure><p id="7cdf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗨伙计们！</p><p id="575d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近我参加了一个关于windows权限提升的课程，今天我想向您展示一个非常酷的方法，您可以使用它来提升您的权限，而无需知道用户帐户的密码。</p><p id="9aa8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开始吧！</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="3aaa" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">Windows凭据管理器</h1><p id="eb2b" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">首先，如果你不知道什么是windows凭证管理器，它只是一个简单的预装在windows中的密码管理器，你可以保存用户和网站的凭证。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://mitchproduction.com/come-aprire-e-utilizzare-gestione-credenziali-di-windows-in-windows-10-outlook/"><div class="gh gi md"><img src="../Images/7e5ce2c4839478b5ce5d67bb37a027af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0o5vTj5fii4U2ToosD-nNg.png"/></div></a></figure><p id="0627" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以基本上你可以在4个不同的部分保存你的密码。</p><ol class=""><li id="fddf" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">Windows使用的windows凭据。</li><li id="630f" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">顾名思义，基于证书的凭证使用证书，但是它们很少使用。</li><li id="c523" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">通用凭据。</li><li id="55f2" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">用于保存网站登录的Web凭据。</li></ol><p id="ace9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们看看如何保存我们的凭证。</p><p id="643a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开搜索栏，键入<strong class="jp ir">凭证管理器</strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/8416ae7386ab4706e4fc533682da636d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWYGhcjfFI9XvYmVeibsWw.png"/></div></div></figure><p id="fe73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们尝试添加一个新凭据。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi mx"><img src="../Images/727293cbffc3605fda6f8309e337af0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LkqVYl8-giGX8Tq67JpNLg.png"/></div></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi my"><img src="../Images/8206e773b8593da0a94e5f6e3facb41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_E1UZE_lLkRqier8MBfISw.png"/></div></div></figure><p id="8186" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以通过运行以下命令来确认凭据已保存。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="46ef" class="ne lb iq na b gy nf ng l nh ni">cmdkey /list</span></pre><blockquote class="nj nk nl"><p id="7ba9" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">注意:<a class="ae nq" href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc754243(v=ws.11)" rel="noopener ugc nofollow" target="_blank"> cmdkey </a>是一个命令行工具，允许您创建、删除和列出保存的凭证。</p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/a0343ff5e39bfc351d1d41cddd27bfb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*TvoB2vRyiml99ShuNOJjWg.png"/></div></figure><p id="534e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完美，下一步就是下载这个帝国脚本了。</p><p id="858b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nq" href="https://github.com/EmpireProject/Empire/blob/master/data/module_source/credentials/dumpCredStore.ps1" rel="noopener ugc nofollow" target="_blank">主帝国项目/帝国GitHub的帝国/dumpcredstore . PS1</a></p><p id="36cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该工具使用一组windows32 APIs来检索关于所有已保存凭据的信息。</p><p id="99b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你感兴趣的话，这里有这些API的文档的页面。</p><p id="ac70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你所要做的就是运行这个命令。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="cb3d" class="ne lb iq na b gy nf ng l nh ni">powershell Import-module &lt;File-Path&gt; ; Enum-Creds</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/4b2b7f2bcd2198e760f54f4ba6e70191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*OElWvNIym__CRV7l485xqw.png"/></div></figure><blockquote class="nj nk nl"><p id="8db1" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">注意:有时您可能会得到一个错误，比如由于执行策略而无法执行PowerShell文件，为了避免这种情况，请在cmd中键入下面的命令。</p></blockquote><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="b0f1" class="ne lb iq na b gy nf ng l nh ni">powershell Set-ExecutionPolicy -Scope CurrentUser Unrestricted</span></pre><p id="3999" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，这是我们的密码🥳.</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/ce510366c6b88b3b7f1ac03183cdb42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*fbIMHd_iuq89EBO4pu6L5g.png"/></div></figure><p id="6ea5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们知道了那个用户的密码，我们需要做的就是运行命令<strong class="jp ir"> runas </strong>以那个用户<strong class="jp ir">的身份运行命令。</strong></p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="ef52" class="ne lb iq na b gy nf ng l nh ni">runas /user:&lt;USER&gt; &lt;YOUR_COMMANDS&gt;</span></pre><blockquote class="nj nk nl"><p id="b192" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">注意:<a class="ae nq" href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc771525(v=ws.11)" rel="noopener ugc nofollow" target="_blank"> runas </a>用于运行具有不同权限的工具或命令，模拟其他用户。</p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/53c34b399c8dcd37beb07ec31f1dfe11.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*FWgIm89gDtJ2V-h5etrwJQ.png"/></div></figure></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><p id="6ae1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望你们今天学到了新东西。</p><p id="3c7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">祝你愉快，再见！</p></div></div>    
</body>
</html>