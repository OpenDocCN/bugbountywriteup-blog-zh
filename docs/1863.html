<html>
<head>
<title>RootMe | TryHackMe Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RootMe | TryHackMe演练</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/rootme-tryhackme-walkthrough-4d377b7b27b9?source=collection_archive---------0-----------------------#2022-02-04">https://infosecwriteups.com/rootme-tryhackme-walkthrough-4d377b7b27b9?source=collection_archive---------0-----------------------#2022-02-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4f5f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">尝试挑战</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e71cc95d99fd14f9c2aedc8bda54da27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjhHbN10OegcXBz4-lMETA.png"/></div></div></figure><p id="f10e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">今天我想向你解释一下我解决RootMe room的方法。<br/>如果你想用你的方式试试这个房间，只需点击<a class="ae ln" href="https://tryhackme.com/room/rrootme" rel="noopener ugc nofollow" target="_blank">这里</a>。如果你想看我的方式，让我们开始吧。</p><p id="4730" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">IP : 10.10.243.50</p><h2 id="e685" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">侦察</h2><ol class=""><li id="638f" class="mh mi iq kt b ku mj kx mk la ml le mm li mn lm mo mp mq mr bi translated">扫描机器，有多少端口是开放的？</li></ol><blockquote class="ms mt mu"><p id="bc21" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi">2</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/e4c7ecbf0911f6240e3127129025bfdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*-2sk3-7GR9Tkc_07HJlbTw.png"/></div></figure><p id="aac7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.Apache运行的是什么版本？</p><blockquote class="ms mt mu"><p id="0d91" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi">2.4.29</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/39b4b3da56f9617a37ec1fe6c6aa1760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*FUMH0_-dmQMHbOt50b6Zzw.png"/></div></figure><p id="fc3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.端口22上运行的是什么服务？</p><blockquote class="ms mt mu"><p id="f0eb" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi translated">嘘</p></blockquote><p id="333f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.使用GoBuster工具在web服务器上查找目录。</p><blockquote class="ms mt mu"><p id="fe9e" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi translated">只需点击完成</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/df1a9f165ed20fac82327ba1fa7ae8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*TaEZ-u_IZMaEcV_Rt4IGKw.png"/></div></figure><p id="8ed6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">5.什么是隐藏目录？</p><blockquote class="ms mt mu"><p id="5963" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi translated">/面板/</p></blockquote></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h2 id="03f0" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">得到一个壳</h2><p id="4881" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la nj lc ld le nk lg lh li nl lk ll lm ij bi translated">让我看看网站，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e71cc95d99fd14f9c2aedc8bda54da27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjhHbN10OegcXBz4-lMETA.png"/></div></div></figure><p id="ab36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">寻找隐藏的目录，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/df1a9f165ed20fac82327ba1fa7ae8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*TaEZ-u_IZMaEcV_Rt4IGKw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bd67193cf2819b2f4b7f606d6a0cdfb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wFzaMeYSHLGufuXS9FQjTw.png"/></div></div></figure><p id="5124" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">哦，是的，我们可以上传反向外壳，让测试上传一个文件</p><div class="kg kh ki kj gt ab cb"><figure class="nm kk nn no np nq nr paragraph-image"><img src="../Images/b89b1f1af5a035ef5fb739633843cdd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*slT5ktX27HT7JYN-kqYJSQ.png"/></figure><figure class="nm kk ns no np nq nr paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/adcdc78cc123c01f73427faeb3c5e08a.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*79WeDVcbyYGCpA2wlAKC0Q.png"/></div></figure></div><p id="eb2a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，它不能上传PHP文件..嗯</p><p id="81ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">其他PHP文件呢？</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/6c397b6c24a7fa2865cb358fe4c2d38d.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*hi2jOLPTc0vEiS7_B6BjFA.png"/></div></figure><p id="6b23" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">还有Bingoo，我们可以上传<strong class="kt ir">。phtml </strong>文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/be8f2ee447fc4b152fe9b29982910f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ilUDwbcnGWEEk9-pvaGww.png"/></div></div></figure><p id="aa1f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们用<a class="ae ln" href="https://www.revshells.com/" rel="noopener ugc nofollow" target="_blank">https://www.revshells.com/</a>创建反向外壳。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/9f540eed195a6532bcbfb0d4eaed14ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z6E_zxjh0-psN3208ZRLgg.png"/></div></div></figure><p id="7ec0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后复制并制作<strong class="kt ir"> revshell.phtml </strong>，将该文件上传到面板页面。用下面的命令听revershell，</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="fee4" class="lo lp iq nx b gy ob oc l od oe">nc -lvnp 1234</span></pre><p id="b6e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们得到了壳</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/c6bdad7cd3efcdfc6d622f617c1ee36d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WwBE3e2f9EdAJd25ffEhjw.png"/></div></div></figure><p id="d229" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">如何获得旗帜？</strong></p><p id="8dcd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我用这个命令来搜索目录谁可写，也许我可以看到一些有趣的目录。</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="3ae3" class="lo lp iq nx b gy ob oc l od oe">find / -writable 2&gt;/dev/null | cut -d “/” -f 2,3 | grep -v proc | sort -u</span></pre><p id="1cb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">是的，我明白了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/ca2f4abed335399550404697fd6f12f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*klMZXztieQUJ0B8gKp2jew.png"/></div></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h2 id="93ea" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">权限提升</h2><ol class=""><li id="155c" class="mh mi iq kt b ku mj kx mk la ml le mm li mn lm mo mp mq mr bi translated">搜索有SUID权限的文件，哪个文件比较怪异？</li></ol><blockquote class="ms mt mu"><p id="b5b7" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi translated">/usr/bin/python</p></blockquote><p id="7bec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用find命令我们可以查看有SUID的二进制文件，而/usr/bin/python是一个有趣的文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/94703757dd195991fb0993eb49206f05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*WDwWMXx_yGHohUuzg3XpKw.png"/></div></figure><p id="3328" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.找一个表格来提升你的特权。</p><blockquote class="ms mt mu"><p id="b1bb" class="kr ks mv kt b ku kv jr kw kx ky ju kz mw lb lc ld mx lf lg lh my lj lk ll lm ij bi translated">只需点击完成</p></blockquote><p id="178c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我只需要读取root.txt，所以我使用来自<strong class="kt ir"> gtfobins </strong>的文件读取命令。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/8c945793407c7a705fa134fff674c920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_PG2mYjCQSVOJs8mE69qmA.png"/></div></div></figure><p id="16e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.root.txt</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/b535d8b0673fb40831e5cc6f4b8f15ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*2GS_QKzMWZL2GmmXqCp91Q.png"/></div></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h2 id="6d75" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">结论</h2><p id="137b" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la nj lc ld le nk lg lh li nl lk ll lm ij bi translated">这个房间非常适合学习渗透测试。你可能有自己的方法来侵入这个房间，你可以利用python SUID漏洞或Metasploit获得root访问权限，但我今天不会这么做</p><p id="c480" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你有其他方法黑这个房间，请与我分享，我们可以一起讨论。谢谢</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="b3c7" class="ok lp iq bd lq ol om on lt oo op oq lw jw or jx lz jz os ka mc kc ot kd mf ou bi translated">🔈 🔈Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和10多个小时充满力量的讨论会议。<a class="ae ln" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank">查看更多详情并在此注册。</a></h1><div class="ov ow gp gr ox oy"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd ir gy z fp pd fr fs pe fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">iwcon.live</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm kp oy"/></div></div></a></div></div></div>    
</body>
</html>