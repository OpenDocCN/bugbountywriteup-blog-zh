<html>
<head>
<title>Burp Automation | Automating Burp Scanning Via Rest API &amp; Robot Framework Using Python3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打嗝自动化|使用Python3通过Rest API和Robot框架自动化打嗝扫描</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/burp-automation-automating-burp-scanning-via-rest-api-robot-framework-using-python3-78aebdd35c53?source=collection_archive---------0-----------------------#2021-08-14">https://infosecwriteups.com/burp-automation-automating-burp-scanning-via-rest-api-robot-framework-using-python3-78aebdd35c53?source=collection_archive---------0-----------------------#2021-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="fbe4" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">手动安全扫描非常耗时，我们可以利用headless Burp Suite来执行扫描，并通过Python中的Pydrive模块直接将结果上传到<strong class="jt ir"> Google Drive </strong>中。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi kp"><img src="../Images/393649638b02f28339384e78f96ed517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iTmXOi5tpD6V3KYUl8YYIQ.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">打嗝自动化</strong></figcaption></figure><p id="c5ec" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">这种自动化使用Burp Suite Pro以及机器人框架和使用Python3的<a class="ae lf" href="https://github.com/vmware/burp-rest-api" rel="noopener ugc nofollow" target="_blank"> REST API </a>。因此称为<a class="ae lf" href="https://github.com/justmorpheus/burp-automation" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">打嗝</strong> </a>。</p><h2 id="3196" class="lg lh iq bd lb li lj dn lk ll lm dp ln lc lo lp lq ld lr ls lt le lu lv lw lx bi translated">github:<a class="ae lf" href="https://github.com/justmorpheus/burp-automation" rel="noopener ugc nofollow" target="_blank">https://github.com/justmorpheus/burp-automation</a></h2><p id="8e77" class="pw-post-body-paragraph jq jr iq jt b ju ly jw jx jy lz ka kb lc ma ke kf ld mb ki kj le mc km kn ko ij bi translated">它也可以在Jenkins中用来执行自动化的UI测试。这将通过利用打嗝扫描仪和<strong class="jt ir">打嗝扩展器</strong>的能力来启动自动蜘蛛和爬虫。<br/>一旦扫描完成，报告将以HTML &amp; CSV格式生成，并自动上传至<strong class="jt ir"> GDrive文件夹</strong>。</p><blockquote class="jn jo jp"><p id="6285" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这是一个将Burp Suite与CI/CD管道集成以实现自动化API模糊化的分步指南。该工具使用bash脚本，一键安装所有使用Burp Rest API的命令，使用python和Robot框架进行自动化测试。</p></blockquote><h2 id="77ea" class="lg lh iq bd lb li lj dn lk ll lm dp ln lc lo lp lq ld lr ls lt le lu lv lw lx bi translated">它允许您非常有效地执行以下操作</h2><ul class=""><li id="4a78" class="md me iq jt b ju ly jy lz lc mf ld mg le mh ko mi mj mk ml bi translated">使用Bash的一键运行安装所有的依赖项和详细的先决条件。</li><li id="42e5" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">使用python3和易于自动化的机器人框架。</li><li id="0288" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">用户使用Burp Suite Rest API，并在无头模式下运行Burp Suite Professional以及多个Burp Suite扩展，如<a class="ae lf" href="https://github.com/PortSwigger/additional-scanner-checks" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">【附加扫描检查】</strong> </a>、<a class="ae lf" href="https://github.com/InitRoot/BurpJSLinkFinder" rel="noopener ugc nofollow" target="_blank"><strong class="jt ir">BurpJSLinkFinder</strong></a>、<strong class="jt ir"> </strong>和<a class="ae lf" href="https://github.com/PortSwigger/active-scan-plus-plus" rel="noopener ugc nofollow" target="_blank"><strong class="jt ir">active-scan-plus</strong></a>。</li><li id="8439" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">使用robot脚本自动执行API/Web端点的pentest，包括范围添加和删除。</li><li id="22e9" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">实时警报的松散集成，以及以YYYY-MM-DD格式将报告上传到GDrive。</li></ul><h2 id="9214" class="lg lh iq bd lb li lj dn lk ll lm dp ln lc lo lp lq ld lr ls lt le lu lv lw lx bi translated">关于框架</h2><p id="e3ac" class="pw-post-body-paragraph jq jr iq jt b ju ly jw jx jy lz ka kb lc ma ke kf ld mb ki kj le mc km kn ko ij bi translated">机器人框架是一个通用的测试自动化框架，用于验收测试和测试驱动开发(ATDD)。它有易于使用的表格测试数据语法，并利用关键字驱动的测试方法。它的测试能力可以通过用Python或Java实现的测试库来扩展。用户还可以从现有的关键字中创建新的更高级别的关键字，使用与创建测试用例相同的语法。</p><h2 id="6911" class="lg lh iq bd lb li lj dn lk ll lm dp ln lc lo lp lq ld lr ls lt le lu lv lw lx bi translated"><em class="mr">自动化的先决条件</em> <a class="ae lf" href="https://github.com/justmorpheus/burp-automation" rel="noopener ugc nofollow" target="_blank"> <em class="mr">通过机器人框架使用Rest API打嗝</em> </a></h2><ul class=""><li id="f093" class="md me iq jt b ju ly jy lz lc mf ld mg le mh ko mi mj mk ml bi translated">Windows/Linux操作系统</li><li id="b23c" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">安装了许可证的Burp Suite Pro</li><li id="4f50" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">Burp套件Rest API (Vmware)</li><li id="0b92" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">Python 2.x(大多数Linux发行版中都有)</li><li id="10ce" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">点</li><li id="f192" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">机器人框架</li><li id="27e8" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">机器人2打嗝包</li></ul><p id="46cf" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated"><em class="js">(本分步指南将包括通过一键操作安装运行该自动化所需的先决条件和预设置步骤)</em></p><h1 id="0780" class="ms lh iq bd lb mt mu mv lk mw mx my ln mz na nb lq nc nd ne lt nf ng nh lw ni bi translated">先决条件</h1><ol class=""><li id="b13d" class="md me iq jt b ju ly jy lz lc mf ld mg le mh ko nj mj mk ml bi translated">Debian OS(Ubuntu)。</li><li id="5cb3" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">用<a class="ae lf" href="https://burpsuite.guide/blog/activate-burpsuite-inside-docker-container/" rel="noopener ugc nofollow" target="_blank"> prefs.xml </a>激活了Burp Suite Pro(Burp Suite _ Pro _ v 2021 . 6 . 2 . jar)。</li><li id="d73f" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated"><a class="ae lf" href="https://github.com/vmware/burp-rest-api" rel="noopener ugc nofollow" target="_blank"> Vmware Burp Suite Rest API </a>(将通过自动化脚本安装)。</li><li id="6df4" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">Python3 &amp; Pip(它将通过自动化脚本安装)。</li><li id="68ec" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">机器人框架(将通过自动化脚本安装)。</li><li id="1b26" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">更新<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/custom_lib_2.py" rel="noopener ugc nofollow" target="_blank"> custom_lib_2.py </a>扫描的范围和时间(当前时间为3分钟)。</li><li id="b011" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">为PyD <a class="ae lf" href="https://pythonhosted.org/PyDrive/oauth.html" rel="noopener ugc nofollow" target="_blank">驱动器</a>设置G驱动器认证</li><li id="5995" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">将凭证(client _ secrets . JSON &amp; mycreds . txt)上传到GitHub存储库。</li><li id="82fb" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko nj mj mk ml bi translated">使用Dockerfile的docker，以CentOS为单位。</li></ol><blockquote class="jn jo jp"><p id="f155" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">样本<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/client_secrets.json" rel="noopener ugc nofollow" target="_blank"> client_secrets.json </a>、<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/mycreds.txt" rel="noopener ugc nofollow" target="_blank"> mycreds.txt </a>和<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/prefs.xml" rel="noopener ugc nofollow" target="_blank"> prefs.xml </a>已经在存储库中提供。用工作配置更新文件。</p></blockquote><blockquote class="nk"><p id="a44b" class="nl nm iq bd nn no np nq nr ns nt ko dk translated"><strong class="ak"> <em class="mr">注</em> </strong> <em class="mr">:更新</em><a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/custom_lib_2.py" rel="noopener ugc nofollow" target="_blank"><em class="mr">custom _ lib _ 2 . py</em></a><em class="mr">中的time.sleep如果要运行扫描更长时间。</em></p></blockquote><h2 id="8449" class="lg lh iq bd lb li nu dn lk ll nv dp ln lc nw lp lq ld nx ls lt le ny lv lw lx bi translated">预设置</h2><ol class=""><li id="a73d" class="md me iq jt b ju ly jy lz lc mf ld mg le mh ko nj mj mk ml bi translated"><em class="js">生成g盘凭证。</em></li></ol><ul class=""><li id="1cd4" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">转到API控制台并创建自己的项目。</li><li id="194f" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">搜索“Google Drive API”，选择条目，然后单击“启用”。</li><li id="29a6" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">从左侧菜单中选择“凭据”，单击“创建凭据”，选择“OAuth客户端ID”。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/7c6be7b5e0d893e3136b6d29456c06f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3izy49wHqk23v06aIvQJ0Q.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb"> Oauth客户端</strong></figcaption></figure><ul class=""><li id="af5d" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">点击客户端ID右侧的“下载JSON”保存凭证，以下载<strong class="jt ir"> client_secret_ &lt;真正的长ID &gt;。json </strong>。并重命名为<strong class="jt ir"> client_secrets.json </strong></li></ul><blockquote class="jn jo jp"><p id="a3ed" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这将生成<strong class="jt ir"> client_secrets.json. </strong></p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/bab404a07ca90cd00a08fde5c12dfa8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ynHHD5MnbySNCXNHLkKSw.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb"> client_secrets.json </strong></figcaption></figure><ul class=""><li id="d04b" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">现在，需要设置产品名称和同意屏幕-&gt;单击“配置同意屏幕”并按照说明进行操作。<br/> <br/>完成后:<br/>-选择“应用类型”为Web应用。<br/> -输入一个合适的名称。<br/> -输入<a class="ae lf" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>中的“授权JavaScript源”。<br/> -输入<a class="ae lf" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a>“授权重定向URIs”。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/6b117a79963418bc56443a472af72ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qLBVOArDTEBtA7PeZ17pdA.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">添加Web应用</strong></figcaption></figure><ul class=""><li id="3cb7" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">单击保存并继续。</li><li id="fd7a" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">现在，在测试用户中，添加将用于G驱动器验证的用户。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi od"><img src="../Images/4426f3e561bdc3bf32db54986259265b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DSbf_lYmqdqyxtn66Kpvrg.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">添加GDrive文件夹的用户</strong></figcaption></figure><ul class=""><li id="12fe" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">最后，检查摘要并返回仪表板。这是完整的。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/97624cc802736415dc060c1f9b9cd602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxtFlNd66HVwLd_c39RbQg.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">检查总结</strong></figcaption></figure><ul class=""><li id="3ed1" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">使用<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/client_secrets.json" rel="noopener ugc nofollow" target="_blank"> client_secrets.json </a>生成<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/mycreds.txt" rel="noopener ugc nofollow" target="_blank"> mycreds.txt </a>。</li></ul><blockquote class="jn jo jp"><p id="100b" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">Pydrive要求通过浏览器进行身份验证。因此，我们可以在本地生成凭证，并将所需的文件上传到存储库中。资源库中提供了示例文件。用您自己的文件替换它们。<br/> <strong class="jt ir">这个需要做一次。</strong></p></blockquote><ul class=""><li id="9586" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">在本地系统上运行以下命令(首次身份验证需要浏览器)。</li></ul><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="9c30" class="lg lh iq of b gy oj ok l ol om"># wget <a class="ae lf" href="https://gist.githubusercontent.com/justmorpheus/3c0f1f1034bc9532afa45fd27fe0dcb4/raw/12ced55441772692960bb9e19de2ccdc73c1910f/oauth-quickstart.py" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/justmorpheus/3c0f1f1034bc9532afa45fd27fe0dcb4/raw/12ced55441772692960bb9e19de2ccdc73c1910f/oauth-quickstart.py</a></span><span id="5326" class="lg lh iq of b gy on ok l ol om">#python3 -m pip install pydrive</span></pre><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="oo op l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="ak">生成mycreds.txt的快速启动脚本</strong></figcaption></figure><ul class=""><li id="70bd" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">运行命令。</li></ul><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="bb2a" class="lg lh iq of b gy oj ok l ol om">#python oauth-quickstart.py</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi oc"><img src="../Images/a3327bd8e8b78dffc4fc38d168b52e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gZwsJ3AD-pylwEfXUSrh8g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb"> Python快速入门</strong></figcaption></figure><ul class=""><li id="b616" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">遵循默认步骤并继续。认证完成后，关闭浏览器。</li></ul><blockquote class="jn jo jp"><p id="3ee4" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这将生成<strong class="jt ir"> mycreds.txt </strong></p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/64ff957f2540aeb4929a881c1e600753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-DbKpGX3nFzT_Ndw9qtW5A.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">演示Google Drive认证</strong></figcaption></figure><ul class=""><li id="a650" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">最终文件(client _ secrets . JSON &amp; mycreds . txt)将上传到存储库。</li></ul><blockquote class="jn jo jp"><p id="0b48" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">不要公开共享此文件夹，因为它包含机密。这将被上传到回购。</p></blockquote><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="1cc5" class="lg lh iq of b gy oj ok l ol om">$ find . | sed -e "s/[^-][^\/]*\// |/g" -e "s/|\([^ ]\)/|-\1/"<br/>.<br/> |-mycreds.txt<br/> |-oauth-quickstart.py<br/> |-client_secrets.json</span></pre><p id="8d8f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">2.为报告上传生成<strong class="jt ir">父文件夹id </strong>。</p><ul class=""><li id="418e" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">在Google Drive中创建一个共享驱动器，复制文件夹id(父id)用于上传报告。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi ou"><img src="../Images/c902982053167826834c6e225227548a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*muB7gAdQwO9kR-lhrMkyyQ.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">用于上传报告的父id。</strong></figcaption></figure><p id="128e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">3.为Slack 生成传入的<a class="ae lf" href="https://api.slack.com/messaging/webhooks" rel="noopener ugc nofollow" target="_blank"> Webhook URL。</a></p><ul class=""><li id="d519" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">通过创建应用程序并启用应用程序的webhook，可以生成传入的URL。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/b72d697eb3f8dfcd1191c0507892769e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bae1SLTY_r84UsnHq0PwlQ.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">松紧网钩</strong></figcaption></figure><p id="f84a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">4.修改<a class="ae lf" href="https://github.com/justmorpheus/burp-automation/blob/master/custom_lib_2.py" rel="noopener ugc nofollow" target="_blank"> custom_lib_2.py </a>并更新<strong class="jt ir">范围</strong>、alert的<strong class="jt ir"> Slack Webhook </strong>和Google Drive的<strong class="jt ir">父文件夹id </strong>(从步骤2。)</p><blockquote class="jn jo jp"><p id="b7b1" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这个也可以自动化，请自己动手。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi ov"><img src="../Images/31dfa5b733b6f44d31ea8d162012fc6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QgesWMFoD5p6sBwzYDGRhA.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">范围更新</strong></figcaption></figure><p id="e2a1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">2.<em class="js">通过CLI模式激活打嗝。</em></p><p id="b1d8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">在您的系统上激活打嗝套件。Burp Suite Pro将所有激活详情、设置和用户首选项保存在~/中。java/。userPrefs/burp/prefs.xml文件。将prefs.xml上传到存储库。</p><p id="321f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">3.将<em class="js"> mycreds.txt </em>、<em class="js">client _ secrets . JSON</em>&amp;<em class="js">prefs . XML</em>放在GitHub的同一个目录下。</p><p id="a55c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">4.现在我们可以开始执行自动化的安装步骤了。</p><h2 id="d7fb" class="lg lh iq bd lb li lj dn lk ll lm dp ln lc lo lp lq ld lr ls lt le lu lv lw lx bi translated">自动化Burp套件扫描</h2><ol class=""><li id="9522" class="md me iq jt b ju ly jy lz lc mf ld mg le mh ko nj mj mk ml bi translated">在主目录中创建一个文件夹。</li></ol><p id="3b00" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated"><code class="fe ow ox oy of b">#mkdir automation</code></p><p id="b871" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">2.将目录更改为自动化。</p><p id="363d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated"><code class="fe ow ox oy of b">#cd automation</code></p><p id="f521" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">3.下载automate.sh  bash脚本。</p><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="7690" class="lg lh iq of b gy oj ok l ol om">#wget <a class="ae lf" href="https://raw.githubusercontent.com/justmorpheus/burp-automation/master/automation.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/justmorpheus/burp-automation/master/automation.sh</a></span></pre><p id="d39c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">4.向automate.sh提供执行权限</p><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="2aa4" class="lg lh iq of b gy oj ok l ol om">chmod +x automation.sh</span></pre><p id="892b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">5.运行脚本。另外，提供一个参数作为保存自动化脚本的GitHub存储库。</p><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="8b1d" class="lg lh iq of b gy oj ok l ol om">#bash automation.sh <a class="ae lf" href="https://github.com/justmorpheus/burp-automation.git" rel="noopener ugc nofollow" target="_blank">https://github.com/justmorpheus/burp-automation.git</a></span></pre><p id="a221" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">6.剩下的一切将由自动化脚本来完成。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/ce338b19dfb407cb6baf50969d1f357c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QSJyGx7rCvA-4y_ONW1GSw.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">通过Bash实现自动化</figcaption></figure><p id="2094" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">7.Bash脚本将运行python robot命令(脚本将运行该命令)。</p><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="034f" class="lg lh iq of b gy oj ok l ol om"># python3 -m robot -d output fuzzing.robot</span></pre><blockquote class="jn jo jp"><p id="197b" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">输出应该类似于下面提到的图像:<strong class="jt ir">状态:无头打嗝API运行</strong>。<br/>在<strong class="jt ir">状态下:无头打嗝API无法启动</strong>。手动运行上述命令并排除错误。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/0f67adae370461e4c7b518ee34ac4349.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08q6Q30YdR_2fRYh4HLKYw.png"/></div></a></figure><p id="87b0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">8.一旦所有的测试案例完成，报告将被上传到谷歌驱动器和链接可以通过控制台复制。</p><blockquote class="jn jo jp"><p id="1f85" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">报告格式:CSV，HTML和网站地图开发。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/5584f1d203840b24381726204bfa341b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4BvR5vbKl1Sm0VrB0FM64g.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">最终报告</strong></figcaption></figure><p id="e4ae" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">9.检查Gdrive链接的松弛通道。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi oz"><img src="../Images/ad9c7a11b5d245f5031dbbaa9f7a9463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nxfv0EH4FE4O5I_hHTljew.png"/></div></div></figure><p id="0971" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated">10.对Cent-OS的额外支持。</p><ul class=""><li id="59fc" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">下载并运行这个docker文件。</li><li id="f67f" class="md me iq jt b ju mm jy mn lc mo ld mp le mq ko mi mj mk ml bi translated">相应地修改dockerfile文件。</li></ul><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="oo op l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="ak">用于CentOS(DIY)的Dockerfile】</strong></figcaption></figure><ul class=""><li id="e687" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">运行docker文件的命令。</li></ul><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="560e" class="lg lh iq of b gy oj ok l ol om">#docker build --no-cache -t burp-automate .</span><span id="6d94" class="lg lh iq of b gy on ok l ol om">#docker run --name burpomation -d burp-automate</span></pre><ul class=""><li id="e82b" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">这将构建并运行映像。</li></ul><blockquote class="jn jo jp"><p id="2110" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">由于最初的想法是作为自动扫描的一部分在Jenkins管道上运行，因此没有保留任何数据，因为在运行Jenkins之前应该清理工作区。</p></blockquote><ul class=""><li id="6aae" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">运行<a class="ae lf" href="https://github.com/justmorpheus/burp-automation" rel="noopener ugc nofollow" target="_blank">排气</a>日志的日志命令。</li></ul><pre class="kq kr ks kt gt oe of og oh aw oi bi"><span id="c134" class="lg lh iq of b gy oj ok l ol om">#docker logs burpomation -f</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/90abbd7c3e4e2b3c8ad89275087b77f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pGFyPHn7RIRao5MxBMl7JQ.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb"> Docker记录脚本的状态。</strong></figcaption></figure><ul class=""><li id="9c82" class="md me iq jt b ju jv jy jz lc nz ld oa le ob ko mi mj mk ml bi translated">Docker最后的结果应该是<strong class="jt ir">通过</strong>。</li></ul><figure class="kq kr ks kt gt ku gh gi paragraph-image"><a href="https://github.com/justmorpheus/burp-automation"><div class="gh gi oc"><img src="../Images/2c52464bf47730085578e6ca989896e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TN1pKaw3VlpFz-eIHo29Hg.png"/></div></a><figcaption class="kx ky gj gh gi kz la bd b be z dk translated"><strong class="bd lb">最终对接结果:通过</strong></figcaption></figure><h2 id="69c6" class="lg lh iq bd lb li lj dn lk ll lm dp ln lc lo lp lq ld lr ls lt le lu lv lw lx bi translated">参考</h2><p id="33a3" class="pw-post-body-paragraph jq jr iq jt b ju ly jw jx jy lz ka kb lc ma ke kf ld mb ki kj le mc km kn ko ij bi translated">-<a class="ae lf" href="https://we45.com/blog/automating-burp-with-jenkins/" rel="noopener ugc nofollow" target="_blank">https://we45.com/blog/automating-burp-with-jenkins/</a><br/>-<a class="ae lf" href="https://burpsuite.guide/blog/activate-burpsuite-inside-docker-container/" rel="noopener ugc nofollow" target="_blank">https://burp suite . guide/blog/activate-burp suite-inside-docker-container/</a><br/>-<a class="ae lf" href="https://portswigger.net/burp" rel="noopener ugc nofollow" target="_blank">https://portswigger.net/burp</a><br/>-<a class="ae lf" href="https://github.com/vmware/burp-rest-api" rel="noopener ugc nofollow" target="_blank">https://github.com/vmware/burp-rest-api</a><br/>-<a class="ae lf" href="https://doyensec.com/" rel="noopener ugc nofollow" target="_blank">https://doyensec.com/</a></p><p id="a9a4" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated"><strong class="jt ir">免责声明:<em class="js">请勿在CI/CD管道的生产中使用Burp Suite Pro，而是使用</em></strong><a class="ae lf" href="https://portswigger.net/burp/enterprise" rel="noopener ugc nofollow" target="_blank"><strong class="jt ir"><em class="js">Burp Suite enterprise</em></strong></a><strong class="jt ir"><em class="js">。所有提供的信息仅用于教育目的。作者不对任何人从事的任何非法活动负责。</em></strong></p><p id="6a75" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lc kd ke kf ld kh ki kj le kl km kn ko ij bi translated"><em class="js">感谢<br/></em><a class="ae lf" href="https://twitter.com/justm0rph3u5" rel="noopener ugc nofollow" target="_blank"><em class="js">just m0 rph 3 u 5</em></a></p></div></div>    
</body>
</html>