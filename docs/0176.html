<html>
<head>
<title>Make any Unit in Facebook Groups Undeletable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使脸书组中的任何单位不可删除</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/make-any-unit-in-facebook-groups-undeletable-efb68e26adb9?source=collection_archive---------1-----------------------#2018-10-09">https://infosecwriteups.com/make-any-unit-in-facebook-groups-undeletable-efb68e26adb9?source=collection_archive---------1-----------------------#2018-10-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/85a3dd70e6cccb951dcfa5307455b71b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*waD7vwz77ysO81d-NDNFPQ.jpeg"/></div></div></figure><p id="8b2e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Sup伙计们，今天我想和你们分享我是如何使facebook群组<strong class="ka ir">中的<strong class="ka ir">任何单元</strong>不可删除的</strong>，所以让我们开始吧:)</p><p id="7042" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<strong class="ka ir"> Faebook安全团队</strong>要求我确认我的<a class="ae kw" href="https://medium.com/bugbountywriteup/distorted-and-undeletable-posts-in-facebook-group-9424e15f5551" rel="noopener"> <strong class="ka ir">最后一个bug </strong> </a>后，我在我的测试组中凸轮穿过<strong class="ka ir">单元设置选项</strong>，见下图</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/d382ef8b998a9ca63494bd3907b95bcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1ntU9exilxTRzy8CM46Pw.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">更多设置选项，用于编辑您组中的单位</figcaption></figure><p id="0cdc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我点击<strong class="ka ir">更多设置</strong>时，我看到以下选项</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/26bf3ae21f51f77f07f619768d9c37fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*u8uTJGfefd1-ILhEU-uw9w.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">你可以描述和重新排列你的单位</figcaption></figure><p id="332e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗯，有趣的是，我打开了我的博客，点击保存来看看幕后发生了什么，然后我看到了下面的请求:</p><blockquote class="lh li lj"><p id="4de9" class="jy jz lk ka b kb kc kd ke kf kg kh ki ll kk kl km lm ko kp kq ln ks kt ku kv ij bi translated">POST/groups/learning/edit _ units _ dialog/submit/？dpr=1 HTTP/1.1 <br/>主机:<a class="ae kw" href="http://www.facebook.com" rel="noopener ugc nofollow" target="_blank">www.facebook.com</a></p><p id="249c" class="jy jz lk ka b kb kc kd ke kf kg kh ki ll kk kl km lm ko kp kq ln ks kt ku kv ij bi translated"><strong class="ka ir">组标识= </strong>【我的组标识】&amp;描述=【我的单元描述】&amp; <strong class="ka ir">单元标识[0]= </strong>【单元标识号1】&amp;单元标识号[1]=【单元标识号2】…等等</p></blockquote><p id="f5c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为一个bug猎人，当你看到这种请求时，你当然会检查以下两点:</p><p id="983c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1- group_id === &gt;我可以将我的群id更改为另一个群ID，并将我的单位添加到其中吗！！</p><p id="bb37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2- Unit_ids === &gt;我可以用其他组的单元ID来更改我的单元ID，并将它们添加到我的测试组中吗！！</p><p id="deb4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我把group_id改成了另一个group_id，但是没有用:(</p><p id="e2a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，当我将我的Unit _ ids更改为另一组unit IDs时，响应如下:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/155f8115e23db42951595e068fc4b867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*YF-LcEJJdBg66rAWZDZeGQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">200无错误响应:)</figcaption></figure><p id="51b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我检查了<strong class="ka ir">我的测试组单位</strong>，我注意到另一个组的单位(我不是它的管理员)已经被添加到<strong class="ka ir">我的测试组</strong></p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/62f2d7fac0608908a411dd48bb9d670c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eGGiPntdDEsjX5rDp01MhA.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">其他组的单位添加到我的单位</figcaption></figure><p id="437b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我知道facebook只检查group_id而不是unit_id，这就是为什么我可以添加任何单位到我的组，因为服务器不会检查这个单位是否属于同一个组id。</p><p id="fb87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好，接下来呢！！，我注意到两件事:</p><p id="6ea7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1-当我向我的群组添加其他单位时，我可以从<strong class="ka ir">群组洞察选项中看到它，</strong>这意味着我也可以<strong class="ka ir">下载</strong>它。</p><p id="9035" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">2-我可以让其他组<strong class="ka ir">的单位不可删除</strong>，一旦我添加到我的组，并且<strong class="ka ir">我应该邀请其他组的管理员加入我的测试组</strong>。</p><p id="4996" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">邀请其他组的管理员是使他们的单位不可删除的诡计。</p><p id="fdff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我在2018年8月4日向脸书安全团队<strong class="ka ir">报告了这个错误，并向他们展示了我能够使任何单位不可删除，并向他们提到其他组的单位被添加到我的组中，我从他们那里得到了如下答复:</strong></p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/bc50bed9484511fb5b1ff5e79b717ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*GQBjnvTSPOUtwLkbKBqlnQ.png"/></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">他们无法复制无法删除的部分，因为他们不知道邀请的技巧</figcaption></figure><p id="9939" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我从他们的回复<strong class="ka ir">中看到这部分内容时，“你的报告。在我们的测试中，当攻击者调整单元的id时，受害者单元显示在攻击者的页面上，然而，受害者仍然能够删除该单元"</strong>。他觉得在<strong class="ka ir">我的单元选项卡</strong>中看到单元(添加到我的测试组的其他组单元)<strong class="ka ir"> </strong>是一个正常问题，我想他们会知道它可以通过<strong class="ka ir">组洞察</strong>下载，这就是为什么我只关注不可删除的单元部分。</p><h1 id="813f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">一致</h1><p id="2cfc" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">2018年9月<strong class="ka ir"> 1日</strong>我看到我的老乡<a class="ae kw" href="https://www.facebook.com/richard.telleng" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">Richard Telleng</strong></a>在<a class="ae kw" href="https://www.facebook.com/groups/bugbountygroup/?ref=group_header" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">脸书bug赏金社区</strong> </a>群里贴出bug，当我看到他的PoC视频的时候，是我提交的同一个根的同一个bug，他在18-8月提交了他的bug <strong class="ka ir">，而我的Bug在17-8月</strong>被<strong class="ka ir">审判，他在1月得到了赏金</strong></p><p id="1d62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我通知了脸书安全团队，并告诉他们这是我的错误，我是第一个向您报告的人，他们告诉我，我没有提到从<strong class="ka ir"> Group Insights下载其他组单位。所以他们只奖励了我第一次冲击<strong class="ka ir">(不可删除单位)。</strong></strong></p><h1 id="b76d" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">我的想法</h1><ul class=""><li id="7d73" class="mu mv iq ka b kb mp kf mq kj mw kn mx kr my kv mz na nb nc bi translated">有些人彼此之间有很多联系，比如思想，分享想法..等等，看起来是我和我的同道<a class="ae kw" href="https://www.facebook.com/richard.telleng" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">理查德特楞</strong> </a> <strong class="ka ir"> </strong>用bug互相连接:)<a class="ae kw" href="https://medium.com/bugbountywriteup/distorted-and-undeletable-posts-in-facebook-group-9424e15f5551" rel="noopener"> <strong class="ka ir">看为什么</strong> </a>。</li><li id="8b29" class="mu mv iq ka b kb nd kf ne kj nf kn ng kr nh kv mz na nb nc bi translated">也许你们中的一些人会说这是一个愚蠢的错误，为什么脸书要为此付钱，嗯，我认为如果有人可以控制你的单位，它就不再是你的单位了:)。</li><li id="1734" class="mu mv iq ka b kb nd kf ne kj nf kn ng kr nh kv mz na nb nc bi translated">最后，修复这种错误总是正确的事情。</li></ul><p id="74c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">时间线:</strong> <br/>八月。2018年04月—初次报告<br/>8月。2018年7月17日—9月份的报告审判<br/>。2018年01月— Bug修复<br/>9月。2018年01月—修复确认<br/>10月。2018年05月—奖金已发放</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/bfad177cd745c04272f438a3ee07195a.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*MVV9E-qv016fnqo3_XbIZw.jpeg"/></div></figure><p id="e235" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我要感谢脸书安全团队的慷慨解囊。</p><p id="7e86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我也要祝贺我的同事理查德·特伦因同样的错误获得奖励。</p><p id="fcc8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">概念验证视频:</strong></p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="b017" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">外卖:</strong></p><ul class=""><li id="cebd" class="mu mv iq ka b kb kc kf kg kj nl kn nm kr nn kv mz na nb nc bi translated">不要犯和我一样的错误，确保你向安全团队解释了一切。</li></ul><p id="3a62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">谢谢你</p><p id="eccd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">萨尔马德·哈桑 ( <a class="ae kw" href="https://twitter.com/JubaBaghdad" rel="noopener ugc nofollow" target="_blank">朱巴巴格达</a></p></div></div>    
</body>
</html>