<html>
<head>
<title>TryHackMe: Mr Robot CTF — Writeup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器人CTF先生——报道</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tryhackme-mr-robot-ctf-writeup-ff0b3be5bd18?source=collection_archive---------0-----------------------#2020-05-18">https://infosecwriteups.com/tryhackme-mr-robot-ctf-writeup-ff0b3be5bd18?source=collection_archive---------0-----------------------#2020-05-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0cc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">TryHackMe中一个名为</em> <a class="ae km" href="https://tryhackme.com/room/mrrobot" rel="noopener ugc nofollow" target="_blank"> <em class="kl">机器人先生</em> </a> <em class="kl">的房间的特写。</em></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi kn"><img src="../Images/8ac49facc4bd13f908161d685ea266d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/0*S1KTg8VcrzXtOSH9.jpeg"/></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h2 id="dfbf" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">关于TryHackMe</h2><p id="daec" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><a class="ae km" href="http://tryhackme.com" rel="noopener ugc nofollow" target="_blank"> TryHackMe </a>是一个学习网络安全的神奇平台，如果你是新手，不知道从哪里开始，这将是一笔惊人的财富。他们有这些房间，基本上是脆弱的机器，你可以部署和练习你的技能。TryHackMe最棒的地方在于它非常实用。如果您是安全性新手，请务必尝试一下。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="e199" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在TryHackMe门户上部署该机器后，我们获得了一个访问该机器的IP。每次部署时都会有所不同，所以您的<code class="fe ma mb mc md b">ROOM-IP </code>可能与我的不同。</p><h2 id="0341" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">nmap扫描:</h2><p id="813a" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们需要知道哪些服务在幕后运行，哪些端口是开放的。所以我们将使用一个叫做<strong class="jp ir"> nmap的工具。</strong></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/c5bc2c82bc0a622a7dcd6832b1442ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l7pGle5cRIn7qetLR27cLw.png"/></div></div></figure><p id="bf96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">拥有端口80和443表明我们有一个网站在运行，所以我们在浏览器上打开<code class="fe ma mb mc md b">http://10.10.71.122</code>和<code class="fe ma mb mc md b">https://10.10.71.122</code>。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mj"><img src="../Images/a320502e68def95a494c0189f9656b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5by-vT9v_gMn7tgzQhN4w.png"/></div></div></figure><p id="cc40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该网站是机器人先生主题网站。运行图片中提到的命令只是重定向到其他页面，这些页面有机器人先生电视节目的图像和视频。</p><p id="de60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我们有一个网站，我们想列举网站的目录，看看像登录页面，管理门户等存在与否。</p><p id="ead3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> gobuster扫描:</strong></p><p id="6ce6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们将使用一个名为<strong class="jp ir"> gobuster </strong>的工具，它使用一个现有的可能的常用目录名称的单词列表，并尝试加载该单词列表中的每个目录名称，然后查看状态代码。(如果你使用的是Kali或ParrotOS，那么你可以在<code class="fe ma mb mc md b">/usr/share/wordlists/dirbuster</code>找到这些词汇表)</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mk"><img src="../Images/e21d35f5fd402f1f8224af4501a2733c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFdQ3pAJyJ9PXUENO3CBPQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">输出保存在<code class="fe ma mb mc md b"><strong class="bd le">directories.txt</strong></code>文件中</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/a2baf14190e6b537cbcdecb8fac2916f.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*MNUVGzJnF_W-5oImxcZHNg.png"/></div></figure><p id="5ee9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们看看状态代码为200的目录</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/faf13f43dbf24d52c5c4b3e071c070d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*0-vfA_ovWNlqGpnh__zouA.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">/自述文件</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/8709e31aacb857030157ea4ab38ed20d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*tUfD-MybQ73CJ6DUjuk95g.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">/许可证</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/9411aff243c08d07a7fbc0ebf06c0ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*f-2bRr8QbIc6Dlgg7Ri1PA.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">/自述文件</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mt"><img src="../Images/67d3a1bc830d7e0005851bafdd9e5124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*s0ZmJrOiYADZ2hKb-lLRFg.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">/rdf(有意思..？)</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/4419e2d4b047c019f4597843e37cd252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*c3T5SgXYMmIwE30id-V2OA.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">/wp-login(看起来像管理员登录页面)</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/f987815f5b03869760a7a8acad93d00a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*0QTcZl7wQRIaqVHejKCStw.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">/机器人</figcaption></figure><p id="b113" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">头奖。打开<code class="fe ma mb mc md b">10.10.71.122/key-1–of-3.txt</code></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/7dfe71cb1dbc3da89869642233af04dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*5p8qjzrlP5ohUD47iTWuNg.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">这是我们的调号1/3。</figcaption></figure><p id="3ebf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">关键一:被俘！</strong></p><p id="e3ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们来看看fsociety.dic</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/393ebf0c703008a8bfe88b996582d1c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*sFtW19iaA4ozl2hN3HzGuQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">它看起来像一本字典。</figcaption></figure><p id="f2af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们用这个字典对前面看到的登录页面进行字典攻击。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi my"><img src="../Images/b6c6b2e2ccb945d35b283f336b3d5871.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*xmTxI1QYmLctLoWSwoAsLw.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">我们得到错误:<strong class="bd le">无效的用户名。</strong></figcaption></figure><p id="f238" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们试试admin:admin登录:</p><p id="207e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用BurpSuite拦截登录请求数据包。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mz"><img src="../Images/ee38767aa22a5baefbc20be925fd69c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2AthdlfWIgMC3HyeZuan8w.png"/></div></div></figure><p id="94df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用户名和密码字段分别由<code class="fe ma mb mc md b">log</code>和<code class="fe ma mb mc md b">pwd</code>表示。</p><h2 id="5bb1" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">使用Hydra执行字典攻击</h2><p id="3e7b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">字典应该是<code class="fe ma mb mc md b">fsocity.dic</code>。在这种情况下，我们从他们那里收到了一个文件，在其他情况下，我们会尝试使用comman用户名和密码。你可以在https://github.com/danielmiessler/SecLists找到这些以及所有其他的清单。</p><p id="391b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，首先我们将尝试找到以密码为常量的用户名，然后我们将使用找到的用户名来获取密码。</p><p id="a63c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">用户名改变，密码不变</strong></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/38ac5ca7de7a6babffc502f59a0e552f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F8zou6BFn4pIqT51kqm9DA.png"/></div></div></figure><p id="ee91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到的用户名是埃利奥特。</p><p id="370e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们尝试用Elliot:test登录</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi na"><img src="../Images/732de34f9be6330e0d51e8f5b697efa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*YrTIWq-hl4eb0o9NxKAakQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">我们得到错误:<strong class="bd le">您为用户名Elliot输入的密码不正确。</strong></figcaption></figure><p id="68a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">用户名不变，密码更改</strong></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/51fa86c21985a20dcd34b39f50cab489.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6DosiYHSdXXPZq3hA6Nnyw.png"/></div></div></figure><p id="f54e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到一个9位数的密码:********</p><p id="241f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<code class="fe ma mb mc md b">Elliot:*********</code>登录:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nb"><img src="../Images/5def75e4fcffbb5df8c548f1462ed69b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmOJPTatw_N_5I7M0mf9sg.png"/></div></div></figure><p id="10d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">网站运行的是WordPress 4.3.1。</p><p id="910f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们需要打开一个反向外壳，所以让我们试着打开一个<code class="fe ma mb mc md b">php-reverse-shell</code>。卡莉和帕罗托斯已经拿到了。你所要做的就是<code class="fe ma mb mc md b">locate</code>它。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/a637c79401cb98cb7d52472edd5d8ea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*yx5FSqQVpDTHspQJK3nMnA.png"/></div></figure><p id="f318" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你没有卡利或ParrotOS，你可以简单地谷歌一下，很容易找到它。</p><h2 id="8a77" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated"><strong class="ak">开借壳</strong></h2><p id="5673" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在wp-admin中，转到左侧导航栏，选择<code class="fe ma mb mc md b">Appearance → Editor</code>，然后选择右侧的<code class="fe ma mb mc md b">Archives (archive.php)</code></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nd"><img src="../Images/268f578b60a4190b8138730f22eb736e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1uRJPCvq7wegb2SqkpXvCg.png"/></div></div></figure><p id="c495" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一次，档案开放。在编辑部分粘贴<code class="fe ma mb mc md b">php-reverse-shell.php</code></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ne"><img src="../Images/1bcfb533720a2d04178bbe337c9544a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OE1xJy3Ekm3n29EjL6br9w.png"/></div></div></figure><p id="20ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们必须编辑变量<code class="fe ma mb mc md b">IP</code>的值。我们必须将它设置为我们的IP，这样当反向外壳打开时，它就知道要连接到哪个IP。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nf"><img src="../Images/0a2789445ca33ad1e696a5e03739b68c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cKNjX__UB2a2LLH1vyK_WA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">运行<strong class="bd le"> ifconfig </strong>命令</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/954f5da2f4e73e89bcd0a9e212283503.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*L2nMysEhPIw_4yOQ3q5WHQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">编辑后的php-reverse-shell.php文件的外观片段</figcaption></figure><p id="df6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你愿意，你可以改变端口，只要记住你改变的端口。</p><p id="6693" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击更新，我们打开netcat听一下<code class="fe ma mb mc md b">port 1234</code>。</p><p id="17ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们来开<code class="fe ma mb mc md b">archive.php</code>。检查它正在运行什么主题，并打开如下所示的主题。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nh"><img src="../Images/a38313fb5aafa904dde4fe22b3aa61b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qU3QqK1Zt9o_5YXZneedBg.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">打开<strong class="bd le">http://10 . 10 . 162 . 7/WP-content/themes/twenty fifth/archive . PHP</strong></figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ni"><img src="../Images/d654b4d640d4718502aadee8c607875e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1SXm_N8PWQUpGTu3_zW9oA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">我们打开了一个反向外壳…耶！</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/12417f6a11aea6c1761c1975010eae35.png" data-original-src="https://miro.medium.com/v2/resize:fit:272/format:webp/1*uFY28e5de2LeqNGD3NehDQ.png"/></div></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4fd1777b22d4186abf7396352aa7209b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*K5Oy0-tGX33XhzbaJnGYcg.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">我们无法读取key-2-of-3.txt</figcaption></figure><p id="089c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要用户<code class="fe ma mb mc md b">robot</code>来读取<code class="fe ma mb mc md b">key-2-of-3.txt</code>，但是我们仍然可以读取password.raw-md5。让我们开始吧。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/6edecfe9191160f9360a5171c2240524.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*uTM6Jqs3kmJ3WTCRXbAcOw.png"/></div></figure><p id="b62d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们用<strong class="jp ir">开膛手约翰</strong>来破解这个MD5散列</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi nm"><img src="../Images/4a1e34c00c1dacefb6ad31596d42c657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HHHTx0JWpXU20ZX0Xb9AQQ.png"/></div></div></figure><h2 id="8cdb" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">切换到用户机器人</h2><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/5a9e033d7ba6e49a617baeed643e7c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*EUoFPaGGRoEic5DjeDWArA.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">要切换用户，我们需要一个终端，我们不能使用<strong class="bd le"> /bin/sh -i </strong>打开终端</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi no"><img src="../Images/ad03eea7e1d2c11181a6243c002becd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*-UIQ0rJTjdE63ZWJWZThVQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">所以我们用这种方法打开终端</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi np"><img src="../Images/0f8a712765b0ba82a2f29e6793b0f301.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*gf5Sf1uxIU36oMXw-942qw.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">打开<strong class="bd le"> key-2-of-3.txt </strong></figcaption></figure><p id="e762" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">关键二:被俘！</strong></p><p id="a996" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，为了捕获第三个标志，我们需要找到root用户，因此我们将执行权限提升，因此我们需要找出哪些程序的SUID至少为4000</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/9a2c5fd23b644d47291a28d3937d9d47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*UX1zrNEAoOJXGuVThSQ8Uw.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk translated">我们在这里找到了<strong class="bd le">nmap</strong></figcaption></figure><h2 id="141e" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">使用nmap的权限提升</h2><blockquote class="nr ns nt"><p id="55db" class="jn jo kl jp b jq jr js jt ju jv jw jx nu jz ka kb nv kd ke kf nw kh ki kj kk ij bi translated">Nmap设置了SUID位。很多时候，管理员将SUID位设置为nmap，以便它可以用来有效地扫描网络，因为如果没有root权限运行它，所有的nmap扫描技术都不起作用。</p><p id="b75e" class="jn jo kl jp b jq jr js jt ju jv jw jx nu jz ka kb nv kd ke kf nw kh ki kj kk ij bi translated">但是，nmap旧版本中有一项功能，您可以在交互模式下运行nmap，该功能允许您切换到shell。如果nmap设置了SUID位，它将以root权限运行，我们可以通过它的交互模式访问“root”外壳。</p></blockquote><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/c36f3fc332932ee8d973629c93b535d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*VSYlCwClkJNayFnB5JJxJg.png"/></div></figure><p id="bfa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">关键三:被俘！</strong></p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="36c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在这个房间里度过了一段美好的时光，学到了很多东西。TryHackMe有很多其他的房间，每个房间都不同，这也提供了一个巨大的学习机会。我会试着上传我感兴趣的房间的报道。当然，我希望你也能从这篇文章中学到一些东西。干杯！🍺</p><h1 id="5c07" class="ny ld iq bd le nz oa ob lh oc od oe lk of og oh ln oi oj ok lq ol om on lt oo bi translated">现在，让我无耻地要求你</h1><p id="8521" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在<a class="ae km" href="https://github.com/harshitm98" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae km" href="https://twitter.com/fake_batman_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，在<a class="ae km" href="https://linkedin.com/in/harshitm98" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接。</p><h1 id="a4af" class="ny ld iq bd le nz oa ob lh oc od oe lk of og oh ln oi oj ok lq ol om on lt oo bi translated">参考资料:</h1><ol class=""><li id="c378" class="op oq iq jp b jq lv ju lw jy or kc os kg ot kk ou ov ow ox bi translated">打开PHP-reverse-shell for WordPress(<a class="ae km" href="https://pentaroot.com/exploit-wordpress-backdoor-theme-pages/" rel="noopener ugc nofollow" target="_blank">https://pentarot . com/exploit-WordPress-back door-theme-pages/</a>)</li><li id="8735" class="op oq iq jp b jq oy ju oz jy pa kc pb kg pc kk ou ov ow ox bi translated">使用Python打开终端(<a class="ae km" href="https://blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys/" rel="noopener ugc nofollow" target="_blank">https://blog . ROP nop . com/upgrading-simple-shell-to-full-interactive-ttys/</a>)</li><li id="5fcc" class="op oq iq jp b jq oy ju oz jy pa kc pb kg pc kk ou ov ow ox bi translated">使用nmap(<a class="ae km" href="https://payatu.com/guide-linux-privilege-escalation" rel="noopener ugc nofollow" target="_blank">https://payatu.com/guide-linux-privilege-escalation</a>)的权限提升</li></ol></div></div>    
</body>
</html>