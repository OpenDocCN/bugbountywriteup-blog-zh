<html>
<head>
<title>OSCP — Cracking The New Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OSCP——破解新模式</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/oscp-cracking-the-new-pattern-6c4f1c9e2409?source=collection_archive---------0-----------------------#2022-03-02">https://infosecwriteups.com/oscp-cracking-the-new-pattern-6c4f1c9e2409?source=collection_archive---------0-----------------------#2022-03-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d5b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你好，我想谈谈我是如何通过OSCP新格局，其中包括在考试中的活动目录。我把考试安排在2022年2月23日，第一次尝试就顺利通过了。在这篇博客中，我将尽力提供我准备策略的所有细节，以及我利用了哪些资源，所以让我们开始吧…</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/c4697488dcadacecb93cdb86a6b70365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nvmgz3XqivbNQt2XEn99ZA.png"/></div></div></figure><h2 id="4a81" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">背景</h2><p id="7c07" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">我是一名20岁的IIT国际管理学院的学士学生。两年前，我通过参加CTFs和在线战争游戏开始了我的网络安全之旅，后来，我转向TryHackMe和其他平台以了解更多信息。去年9月，我终于决定考OSCP，并开始做相应的准备。</p><p id="a07a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们继续之前，让我们讨论一下最近OSCP考试的变化。如果你已经熟悉了新的模式，你可以跳过这一部分。</p><h2 id="0b98" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">OSCP最近的变化(自2022年1月起)</h2><p id="ae67" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">最近修改了考试模式，2022年1月11日以后的所有考试都将遵循新的模式。考试将包括一个40分的广告系列，其中包含3台机器。除了广告将有3个独立的机器，每个20分。此外，提交实验报告的加分从5分增加到了10分，并且实验报告必须包括一个广告系列。如果你不熟悉新的模式，我强烈建议你阅读官方公告。</p><h2 id="833c" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">准备</h2><p id="2dac" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">我将回顾一下我在注册OSCP之前做了什么，让我在PWK材料和实验室中感到舒服。</p><p id="d90e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Tryhackme </strong>:在开始OSCP筹备之前，我曾经解决过Tryhackme的房间。我通常用来解决各种类别的房间走查。他们以引人入胜的方式解释这个话题。</p><p id="dbed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> HackTheBox: </strong>专门针对OSCP，买了<a class="ae lv" href="https://www.hackthebox.com/" rel="noopener ugc nofollow" target="_blank"> HackTheBox </a>订阅，开始解决<a class="ae lv" href="https://docs.google.com/spreadsheets/u/1/d/1dwSMIAPIam0PuRBkCiDI88pU3yzrqqHkDtBngUHNCw8/htmlview#" rel="noopener ugc nofollow" target="_blank"> TJNull OSCP喜欢的盒子</a>。我强烈建议在注册OSCP之前解决这些问题。最好的解决方法是和你认识的人一起做同样的准备(如果你正在努力寻找某人，那么使用<a class="ae lv" href="https://discord.gg/2AG6TCm" rel="noopener ugc nofollow" target="_blank"> Infosec prep </a>和<a class="ae lv" href="https://discord.com/invite/ctBUcPuakZ/login?mode=register" rel="noopener ugc nofollow" target="_blank">Offensive Security</a>Discord server找到许多准备OSCP和各种其他认证的人)。我将TJNull表转换为另一个表，以跟踪我解决的盒子，并与我的朋友<a class="lw lx ep" href="https://medium.com/u/33b5940c5ceb?source=post_page-----6c4f1c9e2409--------------------------------" rel="noopener" target="_blank"> Abhishek </a>一起跟踪它们。您可以在此处找到表单<a class="ae lv" href="https://docs.google.com/spreadsheets/d/1cDZpxrTMODHqgenYsBuZLkT-aIeUT31ZuiLDhIfrHRI/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">的样本。</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ly"><img src="../Images/fda70b4c7f7d1ae7659bf596b029c009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9jW1Rx-MNubiEGIp4ncUg.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">我用来记录TJNull机器的表格。</figcaption></figure><p id="415b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有时一起解决问题，有时单独解决，然后互相讨论我们的方法。为了避免剧透，我们只在各自解决问题后才讨论。我们过去常常在求解后查看其他博客和<a class="ae lv" href="https://www.youtube.com/channel/UCa6eh7gCkpPo5XXUDfygQQA" rel="noopener ugc nofollow" target="_blank"> Ippsec </a>视频，以获得更有趣的求解方法。强烈推荐观看Ippsec视频，因为他深入研究了所有内容，有时还展示了有趣的手动利用方式。<br/>在解决了Tjnull Hackthebox列表中的大约55-60台机器后，我对这些机器感到满意，因此我转到了PWK实验室。</p><h2 id="60db" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">预订PWK </strong></h2><p id="333a" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">经过两个月的HackTheBox练习，我决定在11月中旬预订PWK实验室，该实验室本打算在12月5日开始，但进攻性安全更新了引入活动目录的考试格式，在此之前我只是听说过这个名字:(</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi md"><img src="../Images/31634da7a6e4c785ce5e9a653a2c2f46.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/1*XC6gw7jepTyH7LW23SLZCA.gif"/></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">giphy图像</figcaption></figure><p id="e318" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，为了准备Active Directory，我将我的实验室从12月5日重新安排到12月19日，给了我15天的准备时间。</p><h2 id="195b" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">广告准备</h2><p id="0991" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">最激动人心的阶段即将开始。我不知道从哪里开始准备，也不知道在考试中会遇到什么。但现在通过考试，我可以告诉一些有价值的资源，帮助我从基础(按照顺序)理解AD——</p><ul class=""><li id="abd9" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">tryhackme的一些房间学习基础知识- <a class="ae lv" href="https://tryhackme.com/room/attacktivedirectory" rel="noopener ugc nofollow" target="_blank">攻击目录</a>和<a class="ae lv" href="https://tryhackme.com/room/postexploit" rel="noopener ugc nofollow" target="_blank">后开发基础知识</a>。</li><li id="00b1" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://academy.tcm-sec.com/?affcode=770707_iixyvfcq" rel="noopener ugc nofollow" target="_blank">实用道德黑客的<a class="ae lv" href="https://academy.tcm-sec.com/?affcode=770707_iixyvfcq" rel="noopener ugc nofollow" target="_blank">活动目录</a>部分由网络管理员完成全程</a>。事实上，整个课程(大约25小时。)总的来说是值得做的。</li><li id="14e9" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><strong class="jp ir">从OSCP的角度来看，PWK课程附带的PWK pdf第21章活动目录攻击</strong>极其重要。</li><li id="f0e1" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">PWK实验室中的两个活动目录网络链对考试至关重要(考试中可能会用到类似的机器)</li></ul><p id="88b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以上资源对考试来说绰绰有余，但要进一步练习，可以试试——</p><ul class=""><li id="7e5b" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">来自TryHackMe的<a class="ae lv" href="https://tryhackme.com/room/wreath" rel="noopener ugc nofollow" target="_blank">花环</a>和<a class="ae lv" href="https://tryhackme.com/network/throwback" rel="noopener ugc nofollow" target="_blank">返祖</a>(你也可以跟着约翰·哈蒙德<a class="ae lv" href="https://youtu.be/mQT38VR4boQ" rel="noopener ugc nofollow" target="_blank">的返祖演练第一部分</a>和<a class="ae lv" href="https://youtu.be/ukFC48bzVSM" rel="noopener ugc nofollow" target="_blank">第二部分</a></li><li id="fd13" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">来自HackTheBox的一些活动目录机器。</li><li id="44be" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">来自<a class="ae lv" href="https://portal.offensive-security.com/sign-up/pg" rel="noopener ugc nofollow" target="_blank">试验场</a>的哈奇、希斯特、跳马由进攻保障本身提供。</li></ul><p id="7dbf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">练习使用一些工具，如<a class="ae lv" href="https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1" rel="noopener ugc nofollow" target="_blank"> PowerView </a>和<a class="ae lv" href="https://github.com/BloodHoundAD/BloodHound" rel="noopener ugc nofollow" target="_blank"> Bloodhound </a>来枚举活动目录。还有，探索Impacket、Crackmapexec、Evil-winrm、Responder、Rubeus、Mimikatz等工具。</p><p id="b6b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有一个很棒的关于攻击活动目录的博客，你应该去看看。我在考试中遇到了机器，这可以通过PWK实验室广告机器的知识和手册中广告章节的材料来解决。</p><h2 id="e734" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">PWK实验室</h2><p id="843b" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">我只订阅了1个月，花了大约15天阅读PDF和解决练习(这值得10个额外的点)，只剩下15天来完成实验。在此期间，我能够解决大约35–40台机器。我建议在实验室里解决尽可能多的盒子，因为它们更像真实世界，有些盒子相互依赖，有些需要旋转。</p><h2 id="2fb1" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">碱性氧气转炉</h2><p id="2c35" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">根据新的更改，缓冲区溢出可能会出现，也可能不会出现在考试中。如果它来了，这将是一个低特权向量，将需要特权升级，以实现完整的20点。</p><p id="1bbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">【TheCyberMentor缓冲区溢出视频和TryHackMe <a class="ae lv" href="https://tryhackme.com/room/bufferoverflowprep" rel="noopener ugc nofollow" target="_blank">缓冲区溢出准备</a>室对于BOF准备来说绰绰有余。</p><h2 id="6e50" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">考试</h2><p id="3617" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">我将考试安排在2月23日上午10:30，从AD开始，并在30分钟内在其中一个盒子上有一个初始外壳，但随后在post枚举期间误解了一些内容，导致浪费了5-6个小时试图找出一些不需要继续的内容。决定休息一段时间，然后在接下来的1.5小时内对整个广告集进行妥协。如果我没有犯那个错误，我会花大约2个小时来解决整个广告链。</p><p id="52ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，转到独立的机器上，我开始一台一台地列举它们，以便发现容易实现的目标，在接下来的两个小时内，我成功地攻破了另一台机器。现在我有70分(包括奖金)通过考试，所以我休息了很长时间吃晚饭和午睡。回来后的一段时间里我终于在另一台机器上站稳了脚跟，所以到凌晨4点已经80分了；我甚至非常接近升级特权，但后来决定再次解决广告，并采取一些缺失的截图。在记录了其他已解决的独立机器后，我在上午8点左右结束了考试。睡了一大觉，终于在晚上醒来，提交了报告，并在接下来的24小时内收到了一封祝贺邮件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/e5a6b6390f7fa9e58651577330e88593.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*pc8WTT8gmN7FEMvgLG3mNw.gif"/></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk translated">giphy图像</figcaption></figure><p id="af07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在考试中，我建议在每台机器上花一定的时间，然后继续，稍后再回来。如果你被困在某个地方，不知道该做什么，休息一下，冷静下来，重新调整你的想法。现在从更广泛的列举开始，记下任何可能对以后有帮助的有趣信息。可能有一些我们第一次列举时遗漏的东西，现在可以帮助我们前进。</p><h2 id="da18" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">结论</h2><p id="883a" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">我要感谢我的家人和朋友在整个旅程中对我的支持。没有他们的鼓励和支持，这是不可能的。</p><p id="be39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你已经做到这一步，你可能对认证感兴趣，因此我祝你在OSCP之旅好运。如果您有任何问题，请在Linkedin 上联系我。请继续关注更多更新。</p><p id="cdbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<a class="ae lv" href="https://twitter.com/jaiguptanick" rel="noopener ugc nofollow" target="_blank">推特</a>、<a class="ae lv" href="https://www.linkedin.com/in/jaiguptanick/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae lv" href="https://www.youtube.com/channel/UCGvgjzkWyrYaTzJsDlTGB9g" rel="noopener ugc nofollow" target="_blank"> Youtube </a>上与我联系</p><h2 id="e73c" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">其他有用的资源</h2><p id="6275" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">这些是我在准备过程中发现的一些有用的资源:</p><ul class=""><li id="73b2" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">https://book.hacktricks.xyz/(几乎拥有你所需要的一切)</li><li id="aa76" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://viperone.gitbook.io/pentest-everything/" rel="noopener ugc nofollow" target="_blank">https://viperone.gitbook.io/pentest-everything/</a></li><li id="59d3" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://gtfobins.github.io/" rel="noopener ugc nofollow" target="_blank">https://gtfobins.github.io/</a>(在Linux权限提升中有用)</li><li id="c59c" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://github.com/SecWiki/windows-kernel-exploits" rel="noopener ugc nofollow" target="_blank">sec wiki/windows-kernel-exploits</a></li><li id="efd3" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://github.com/swisskyrepo/PayloadsAllTheThings" rel="noopener ugc nofollow" target="_blank">https://github.com/swisskyrepo/PayloadsAllTheThings</a></li><li id="2790" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://addons.mozilla.org/en-US/firefox/addon/hacktools/" rel="noopener ugc nofollow" target="_blank">https://addons.mozilla.org/en-US/firefox/addon/hacktools/</a>(非常有用的有备忘单形式的扩展)</li><li id="fbc5" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://docs.google.com/spreadsheets/d/1cDZpxrTMODHqgenYsBuZLkT-aIeUT31ZuiLDhIfrHRI/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">https://docs . Google . com/spreadsheets/d/1 cdzpxrtmodhqgenysbuzlkt-aieu t31 zuildhifrehri/edit？usp =分享</a>(链接到我的盒子跟踪列表)</li><li id="3215" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><a class="ae lv" href="https://academy.tcm-sec.com/p/practical-ethical-hacking-the-complete-course?affcode=770707_iixyvfcq" rel="noopener ugc nofollow" target="_blank">https://academy . tcm-sec . com/p/Practical-Ethical-Hacking-the-complete-Course</a>(链接到TCM安全实用伦理黑客课程)</li></ul><p id="b0ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近攻击性安全还发布了一个<a class="ae lv" href="https://youtu.be/griDEeIcXQc" rel="noopener ugc nofollow" target="_blank">视频</a>详细谈论新的考试模式。</p></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><h2 id="9adb" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated">来自Infosec的报道:Infosec每天都有很多内容，很难跟上。<a class="ae lv" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">加入我们的每周简讯</a>以5篇文章、4条线索、3个视频、2个GitHub Repos和工具以及1个工作提醒的形式免费获取所有最新的Infosec趋势！</h2></div></div>    
</body>
</html>