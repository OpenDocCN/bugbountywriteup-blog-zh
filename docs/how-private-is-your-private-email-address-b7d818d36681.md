# 你的私人邮箱有多私密？

> 原文：<https://infosecwriteups.com/how-private-is-your-private-email-address-b7d818d36681?source=collection_archive---------4----------------------->

*注:以下文章发表于 2016 年 5 月 16 日 https://FogMarks.com*[](https://fogmarks.com/2016/05/16/how-private-is-your-private-email-address/)

*![](img/feef972ab6ca5bac2346997f34e299d0.png)*

*A
在看了一些关于 Mozilla 插件网站的博文后，我被这个**基于 python 的**平台迷住了，并决定专注于它。
XSS 矢量基本上无处可去。Mozilla 的工作人员在修复和适当净化每个用户输入方面做得非常出色。*

*这让我改变了方向，去寻找最好玩的漏洞——逻辑缺陷。*

# ***逻辑***

*大多数人不知道，但跟踪基于逻辑的安全问题的最快方法是进入作者的思想，并尝试从他的角度思考。就是这样。看一个 JS 函数，你会写同样的代码吗？你会改变什么？为什么？*

*Mozilla 的插件网站有一个收藏功能，用户可以创建自己喜欢的插件的自定义收藏。这很酷，因为用户可以邀请其他用户加入他们集合中的角色。怎么，你问？当然是通过电子邮件地址！*

*一个用户输入另一个用户的电子邮件地址，一个 AJAX 请求被发送到“地址解析器”,拥有这个电子邮件地址的用户的 ID 返回。*

*当用户按下“Save Changes”时，刚刚到达的 ID 将被传递到服务器，并再次被翻译**到电子邮件地址，紧挨着用户的用户名。很奇怪。***

*因此，如果出于某种原因，逻辑是将电子邮件转换为 ID，然后将 ID 转换为电子邮件，我们可以简单地在中间中断这个过程，并用另一个用户的 ID 替换生成的 ID。*

*以下视频展示了该漏洞的概念证明，暴露了任何 addons.mozilla.org 用户的电子邮件地址。*

# ***最终想法***

*同一个操作做两次是不好的做法。如果你需要从服务器上获取一些东西，只需获取一次并存储在本地(HTML5 localStorage，cookie 等)。).这个简单的逻辑缺陷危害了成千上万的用户，直到 Mozilla 对其进行了修补。*

*正如您所猜测的，补丁是将电子邮件地址发送到服务器，而不是发送 ID。*