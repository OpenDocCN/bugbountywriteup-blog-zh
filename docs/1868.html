<html>
<head>
<title>Day 22 Cross-Site Scripting — Part 1 #100DaysofHacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第22天跨站点脚本—第1部分# 100天黑客攻击</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/day-22-cross-site-scripting-part-1-100daysofhacking-a9fe6d3a59c8?source=collection_archive---------0-----------------------#2022-02-06">https://infosecwriteups.com/day-22-cross-site-scripting-part-1-100daysofhacking-a9fe6d3a59c8?source=collection_archive---------0-----------------------#2022-02-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3ae1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">获取第1天到第21天的所有资料，<strong class="jp ir"> </strong> <a class="ae kl" href="https://github.com/ayush098-hub/100DaysofHacking" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">点击这里</strong> </a> <strong class="jp ir"> </strong>或者<a class="ae kl" href="https://3xabyt3.medium.com/list/100daysofhacking-challenge-3db6061da4b1" rel="noopener"> <strong class="jp ir">点击这里</strong> </a> <strong class="jp ir">。</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/81b1b62a7649e2d2a0d793808d5e17f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pHUn6ZMP2p0krtUd.jpeg"/></div></div></figure><p id="5f1f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好，到目前为止，我们已经涵盖了许多网络侦察技术，关于burp套件和侦察时使用的许多工具，如dirbuster，nmap等。</p><p id="da3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从今天开始，我们将讨论web应用程序的不同漏洞。希望完成这个之后，我们还会学到一些法医技术。所以，让我们从第一个漏洞XSS开始，但在此之前，你应该知道什么是漏洞，如果你已经忘记了。</p><blockquote class="ky kz la"><p id="14d0" class="jn jo lb jp b jq jr js jt ju jv jw jx lc jz ka kb ld kd ke kf le kh ki kj kk ij bi translated"><strong class="jp ir">漏洞:- </strong>漏洞只不过是web应用程序的一个弱点，坏人或黑客可以通过它入侵您的web应用程序，并可以访问您的内部数据或敏感数据。</p></blockquote><p id="7ad8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们将从第一个漏洞跨站点脚本开始。</p><h1 id="1463" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">跨站点脚本:-</h1><p id="89d0" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">跨站点脚本也称为XSS，此漏洞属于客户端攻击的范畴。当攻击者在受害者的浏览器上执行自定义脚本时，就会出现此漏洞。当用户输入没有被净化或过滤时，攻击者可以执行代码，应用程序将所有脚本或代码作为合法代码处理。</p><p id="e7a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这种攻击的帮助下，攻击者可能会窃取cookies、泄露个人信息、更改网站内容、或将用户重定向到恶意网站等。</p><h2 id="90ae" class="mi lg iq bd lh mj mk dn ll ml mm dp lp jy mn mo lt kc mp mq lx kg mr ms mb mt bi translated">XSS的基本情况:-</h2><p id="8f14" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">在这种攻击中，攻击者只需将可执行脚本注入用户查看的HTML页面。</p><p id="e4a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，要进行这种攻击，你应该对HTML和Javascript有一个基本的了解，如果你不知道也不用担心，你可以很容易地从w3学校学习HTML和Javascript的基础知识。</p><div class="mu mv gp gr mw mx"><a href="https://www.w3schools.com/html/default.asp" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">HTML教程</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">使用我们的“自己尝试”编辑器，您可以编辑HTML代码并查看结果:单击“自己尝试”…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.w3schools.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl kw mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a href="https://www.w3schools.com/js/default.asp" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">JavaScript教程</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">JavaScript是世界上最流行的编程语言。JavaScript是网络的编程语言…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.w3schools.com</p></div></div><div class="ng l"><div class="nm l ni nj nk ng nl kw mx"/></div></div></a></div><p id="bd60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你不必深究这个，但是是的，你至少应该知道一些基础知识。</p><p id="3f92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们用html创建一个简单的网页</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="2668" class="mi lg iq no b gy ns nt l nu nv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;body&gt;<br/>&lt;h1&gt;Basics of XSS Part-1&lt;/h1&gt;<br/>&lt;p&gt;XSS is a vulnerability&lt;/p&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="d773" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的代码中，我们为标题使用了h1标签，为段落使用了p标签。</p><p id="82e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在将这段代码保存为index.html，然后在浏览器中打开它。</p><p id="7508" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会看到一个如下所示的网页</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/0e010ec843f9badf8faa64b447f223e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*4NVjwkc2TdYFMmC5WUZXPQ.png"/></div></figure><p id="d9aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这段Html代码中，我们还可以使用<script>添加可执行脚本。网站使用这些脚本来控制客户端应用程序的逻辑，并使网站具有交互性。&lt;/root&gt;</script></p><p id="572c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在上面的代码中添加一个脚本。</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="68f4" class="mi lg iq no b gy ns nt l nu nv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;body&gt;<br/>&lt;h1&gt;Basics of XSS Part-1&lt;/h1&gt;<br/>&lt;p&gt;XSS is a vulnerability&lt;/p&gt;<br/>&lt;script&gt;alert("XSS")&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="e494" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><script> alert("xss") </script></p><p id="bea7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你重新加载你的网页时，这个脚本会弹出xss，像这样嵌入在HTML文件中而不是从一个单独的文件中加载的脚本被称为内联脚本。</p><p id="dcf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以通过调用不同的js文件来添加这个脚本，在这些文件中编写了相同的代码。</p><p id="4636" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们创建一个简单的xss.js文件，并编写以下脚本:-</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="0cd6" class="mi lg iq no b gy ns nt l nu nv">&lt;script&gt;alert(“xss”)&lt;/script&gt;</span></pre><p id="a31e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在HTML中添加以下代码:-</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="bf8a" class="mi lg iq no b gy ns nt l nu nv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;body&gt;<br/>&lt;h1&gt;Basics of XSS Part-1&lt;/h1&gt;<br/>&lt;p&gt;XSS is a vulnerability&lt;/p&gt;<br/>&lt;script src="xss.js"&gt;<br/>&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="72c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这段代码也会弹出xss。</p><p id="4957" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们创建一个表单，用户可以在其中输入电子邮件id。</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="c63c" class="mi lg iq no b gy ns nt l nu nv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;body&gt;<br/>&lt;h1&gt;Basics of XSS Part-1&lt;/h1&gt;<br/>&lt;p&gt;XSS is a vulnerability&lt;/p&gt;<br/>&lt;form action="welcome.php" method="get"&gt;  <br/>    Email: &lt;input type="text" name="email"/&gt;  <br/>    &lt;input type="submit" value="visit"/&gt;  <br/>    &lt;/form&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="5597" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">welcome.php法典</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="06b4" class="mi lg iq no b gy ns nt l nu nv">&lt;?php  <br/>$email=$_GET["email"];  <br/>echo "Your email is:, $email";  <br/>?&gt;</span></pre><div class="mu mv gp gr mw mx"><a href="https://passwdgen.000webhostapp.com/name.html" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">XSS基础知识第一部分</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">编辑描述</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">passwdgen.000webhostapp.com</p></div></div></div></a></div><p id="d1b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问上面的链接，你会得到如下所示的界面</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nx"><img src="../Images/34cf50fed97069eae92255f2027f8a8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3x6pa0ODlEH8t-rwWrTuag.png"/></div></div></figure><p id="78d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以看到用户必须输入电子邮件地址，但如果在代码中用户输入没有被检查或清理，那么任何用户都可以输入任何内容，而不是电子邮件地址。</p><p id="6bd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们输入任何电子邮件，然后看看我们会得到什么。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/d4de8874eef434b7262483309ee0cf92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*zcF-L4kxlTFz3hgo7vXomg.png"/></div></figure><p id="f4c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们正在得到这个结果。</p><p id="244d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们输入简单的脚本:-</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="dd60" class="mi lg iq no b gy ns nt l nu nv">&lt;script&gt;alert(1)&lt;/script&gt;</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/f565f9a4e6b02b64488c4611f00de378.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*zmKZ8UYyeKlJtW_FlfInLQ.png"/></div></figure><p id="faa6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们得到一个弹出窗口，如下所示。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/6150b75eff7c125c9d98210089d9e70a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*JMHZDd_wwZSCLQGseNcnVw.png"/></div></figure><p id="acc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以通过输入以下简单的脚本将用户重定向到另一个网站</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="2403" class="mi lg iq no b gy ns nt l nu nv">&lt;script&gt;location="<a class="ae kl" href="http://google.com" rel="noopener ugc nofollow" target="_blank">http://google.com</a>";&lt;/script&gt;</span></pre><p id="7c2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">进入后，您会看到用户将重定向到google.com</p><p id="c936" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为什么会发生这一切，这是因为输入没有被验证。</p><p id="54d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">验证输入意味着应用程序检查用户输入是否符合特定标准。</p><p id="3397" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">净化输入意味着应用程序修改输入中的特殊字符，这些字符可用于修改HTML逻辑。</p><p id="11a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在我们的例子中，代码验证和代码清理都没有完成，这就是为什么可能弹出一些东西或重定向用户。</p><p id="0bc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些只是为了你的理解，但在现实世界中，这并不容易。</p><p id="fddf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这是清楚的，现在让我们谈论xss的类型。</p><h1 id="c4be" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">XSS的类型</h1><h2 id="efa5" class="mi lg iq bd lh mj mk dn ll ml mm dp lp jy mn mo lt kc mp mq lx kg mr ms mb mt bi translated"><strong class="ak">存储的XSS: </strong></h2><p id="350d" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">存储XSS是一种XSS，黑客或用户输入的任何脚本都会存储在数据库中。</p><p id="813b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们以一个应用程序的评论部分为例，假设用户在评论框中输入<script> alert(1) </script>，并且该脚本被存储在数据库中，如果任何其他用户评论，那么该脚本也将执行，这意味着无论谁同时评论，该脚本也将执行。</p><p id="f734" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">现实生活场景:- </strong></p><blockquote class="ky kz la"><p id="df4b" class="jn jo lb jp b jq jr js jt ju jv jw jx lc jz ka kb ld kd ke kf le kh ki kj kk ij bi translated">注:在<a class="ae kl" href="https://portswigger.net/" rel="noopener ugc nofollow" target="_blank">https://portswigger.net/</a>创建您的账户，然后访问<a class="ae kl" href="https://portswigger.net/web-security/learning-path" rel="noopener ugc nofollow" target="_blank">https://portswigger.net/web-security/learning-path</a>并点击XSS。</p></blockquote><p id="83ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单击下面的链接访问portswigger实验室:-</p><div class="mu mv gp gr mw mx"><a href="https://portswigger.net/web-security/cross-site-scripting/stored/lab-html-context-nothing-encoded" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">实验室:将XSS存储到HTML上下文中，未进行任何编码|网络安全学院</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">练习利用现实目标的弱点。记录你从学徒到专家的进步。看哪里…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">portswigger.net</p></div></div><div class="ng l"><div class="ob l ni nj nk ng nl kw mx"/></div></div></a></div><p id="87b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">访问实验室，然后点击查看帖子，下面是评论区。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oc"><img src="../Images/e054f026ef2f8b3c44dd57b354fab16f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpHplIuWKNLKjspzvrt2cw.png"/></div></div></figure><p id="8820" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在注释中输入脚本，然后您的实验将被解决，但当您重新加载页面或任何其他用户将进入该页面时，他/她将得到如下所示的弹出窗口。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi od"><img src="../Images/0faa4e9da36b0405a8f0b8876c7a8664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XbazwgcHmGYwO9sKO-X5Gg.png"/></div></div></figure><h2 id="10cd" class="mi lg iq bd lh mj mk dn ll ml mm dp lp jy mn mo lt kc mp mq lx kg mr ms mb mt bi translated"><strong class="ak">映XSS: </strong></h2><p id="cfa0" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">反射XSS是一种最简单的XSS，其中用户输入被返回给用户，而不存储在数据库中。在上述情况下的电子邮件领域，我们正在输入一些脚本和弹出正在产生，这些是反映XSS的例子。</p><p id="36be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来解决反射xss的实验室。</p><div class="mu mv gp gr mw mx"><a href="https://portswigger.net/web-security/cross-site-scripting/reflected/lab-html-context-nothing-encoded" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">实验室:将XSS反射到HTML上下文中，没有任何编码|网络安全学院</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">练习利用现实目标的弱点。记录你从学徒到专家的进步。看哪里…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">portswigger.net</p></div></div><div class="ng l"><div class="oe l ni nj nk ng nl kw mx"/></div></div></a></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi of"><img src="../Images/5b77f4865d83eaa48b00be50faab4fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlcDTnWvnPtA8GJgl41LTw.png"/></div></div></figure><p id="286e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在描述中你可以看到我们已经通过调用警报功能执行了XSS攻击。</p><p id="9863" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单击“访问实验室”或在新选项卡中打开它。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi og"><img src="../Images/a5a550d8526f093e33bb1d9a822cd0dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_oqUCZ38lStvB-NjxKlqQ.png"/></div></div></figure><p id="1399" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里你可以看到有搜索功能。所以我们搜索一个关键字hello，然后我们的url变成如下所示</p><p id="d685" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://acc11f6f1f53b6bbc0b425fa00ea0085.web-security-academy.net/?search=hello" rel="noopener ugc nofollow" target="_blank">https://ACC 11 f 6 f1 f 53 b 6 BBC 0 b 425 fa 00 ea 0085 . we b-security-academy . net/？<strong class="jp ir">搜索=你好</strong>T5】</a></p><p id="ce69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们可以输入任何脚本来代替hello，让我们开始吧。</p><p id="9ca6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://acc11f6f1f53b6bbc0b425fa00ea0085.web-security-academy.net/?search=hello" rel="noopener ugc nofollow" target="_blank">https://ACC 11 f 6 f1 f 53 b 6 BBC 0 b 425 fa 00 ea 0085 . we b-security-academy . net/？<strong class="jp ir"> search= </strong> </a> &lt;脚本&gt;预警(‘反射访问’)&lt;/脚本&gt;</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oh"><img src="../Images/a536add82ac443f72be661f92f87d4c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cXkNBOYuTQrzTCrBr2bXEA.png"/></div></div></figure><p id="0b53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回车后，我们得到一个这样的弹出窗口。</p><h2 id="ea95" class="mi lg iq bd lh mj mk dn ll ml mm dp lp jy mn mo lt kc mp mq lx kg mr ms mb mt bi translated">基于DOM的XSS:</h2><p id="5ceb" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy mf ka kb kc mg ke kf kg mh ki kj kk ij bi translated">基于DOM的XSS是另一种类型的XSS，但是在深入研究之前，先了解什么是DOM？</p><p id="19a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">DOM代表文档对象模型，它基本上是一个由浏览器以特定方式呈现网页的模型。DOM代表网页的结构；它定义了每个HTML元素的基本属性和行为，并帮助脚本访问和修改页面内容。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oi"><img src="../Images/105a7a19fcc5930e502a31ae2c12e39d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HhFwJct0iFnOoZm-.png"/></div></div><figcaption class="oj ok gj gh gi ol om bd b be z dk translated">来源:维基百科</figcaption></figure><p id="805e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里你可以看到一个HTML页面的基本结构。现在让我们来谈谈基于DOM的XSS</p><p id="4517" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，基于DOM的XSS直接针对网页的DOM:这意味着它攻击客户端的本地副本，而不是在服务器上做一些事情。当页面获取用户提供的输入数据并根据该输入动态改变DOM时，攻击者就能够攻击DOM。在这个基于DOM的XSS中，脚本不会被发送到服务器，所以服务器端不会发生任何变化。</p><p id="0177" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">基于DOM的XSS发生在javascript直接在浏览器中执行，无需加载任何新页面或向后端代码提交数据。当JavaScript代码作用于输入或用户交互时，就会执行。</p><p id="e6cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要进入这个实验室:-<a class="ae kl" href="https://tryhackme.com/room/owasptop10" rel="noopener ugc nofollow" target="_blank">https://tryhackme.com/room/owasptop10</a>然后进入xss部分。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oh"><img src="../Images/87718430959066fc2f1ed9628cfbfb53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JsjvMZvnAmO7SieRQw4sjQ.png"/></div></div></figure><p id="3f0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是实验室界面，在这里我们将把Xss playground改为其他文本，如“<strong class="jp ir">这里是多姆XSS </strong>”。</p><p id="b8d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了实现这一点，我们可以很容易地在搜索栏中输入一些东西，所以要改变这一点，首先我们会看到源代码找到特定部分的id或类。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/c6ba4ff4986292dec17691e78a76b7d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*fFpm0umjsEnHvONRqf1lmw.png"/></div></figure><p id="3ec2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里你可以看到标题是thm-title。</p><p id="60dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们的脚本将是:-</p><pre class="kn ko kp kq gt nn no np nq aw nr bi"><span id="5982" class="mi lg iq no b gy ns nt l nu nv">&lt;script&gt;document.querySelector('#thm-title').textContent = 'Here is DOM XSS'&lt;/script&gt;</span></pre><p id="9139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只要在搜索栏输入这个。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oo"><img src="../Images/d99486f5691370904b87757b3e40d4b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8t3Gt7rm4RKta3g-U7oXKA.png"/></div></div></figure><p id="513c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里你可以我们已经改变了这个网页的DOM，但是在服务器上它是XSS游乐场，它是临时的。</p><p id="769b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以今天就讲到这里，我们将在下一节讨论如何在现实生活的网站中寻找xs。</p><p id="ba51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">快乐学习📖祝你黑客愉快💻</p></div><div class="ab cl op oq hu or" role="separator"><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou ov"/><span class="os bw bk ot ou"/></div><div class="ij ik il im in"><h1 id="9b7f" class="lf lg iq bd lh li ow lk ll lm ox lo lp lq oy ls lt lu oz lw lx ly pa ma mb mc bi translated">🔈 🔈Infosec Writeups正在组织其首次虚拟会议和网络活动。如果你对信息安全感兴趣，这是最酷的地方，有16个令人难以置信的演讲者和10多个小时充满力量的讨论会议。<a class="ae kl" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank">查看更多详情并在此注册。</a></h1><div class="mu mv gp gr mw mx"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">IWCon2022 - Infosec书面报告虚拟会议</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">与世界上最优秀的信息安全专家建立联系。了解网络安全专家如何取得成功。将新技能添加到您的…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">iwcon.live</p></div></div><div class="ng l"><div class="pb l ni nj nk ng nl kw mx"/></div></div></a></div></div></div>    
</body>
</html>