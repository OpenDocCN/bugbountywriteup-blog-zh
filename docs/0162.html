<html>
<head>
<title>TokyoWesterns CTF 4th 2018 Writeup — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">东京西部4th 2018年第4期报道—第2部分</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/tokyowesterns-ctf-4th-2018-writeup-part-2-81c77cffe7ec?source=collection_archive---------2-----------------------#2018-09-08">https://infosecwriteups.com/tokyowesterns-ctf-4th-2018-writeup-part-2-81c77cffe7ec?source=collection_archive---------2-----------------------#2018-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5724" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">世界协调时+2时间2018年02月09日上午11:43</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/816295f38221f818a98576743c38c6a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OaTkK1ORAuCVxugz2VQh2Q.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">东京西部4th 2018年第4期报道—第2部分</figcaption></figure><p id="c68d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是摩洛哥的一个阳光明媚的星期天，在我进入大学之前的暑假的最后几天，我正在玩东京西部片。</p><p id="ff60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">东京西部团队做出了非常令人敬畏的挑战，通常是今年最好的CTF比赛之一。让我们开始解决第二个挑战，我希望这比十二月更容易。</p><h1 id="374c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">维姆谢尔—133磅</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lz"><img src="../Images/f6984ca3fb0f9342f4ede07419bf97f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-oTSNBZUrM0YyU6WFV2yBg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">维姆谢尔</figcaption></figure><blockquote class="ma mb mc"><p id="a8c4" class="jn jo md jp b jq jr js jt ju jv jw jx me jz ka kb mf kd ke kf mg kh ki kj kk ij bi translated"><strong class="jp ir">挑战:</strong> <a class="ae mh" href="http://vimshell.chal.ctf.westerns.tokyo/" rel="noopener ugc nofollow" target="_blank">监狱</a></p></blockquote><p id="ea01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是在vim中打开的两个文件的区别，我们必须逃离监狱，这意味着我们必须从这个vim中获得shell。</p><p id="7e01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯……那很酷。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/9fa155a8dd6580e62a4bdba925d4db6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vFZSEkCb0ziYZ6J692cqmA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">维姆谢尔挑战</figcaption></figure><p id="fc29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我试着输入一些命令并保存这个vim来获取shell，并试图找到某种方式从这个vim获取shell，但是没有有趣的结果。</p><p id="b31f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我谷歌了一些类似的东西和一些旧的挑战后，我发现了一个有趣的话题，关于越狱和从vim获得shell是这个主题的一部分。</p><div class="mj mk gp gr ml mm"><a href="https://pen-testing.sans.org/blog/2012/06/06/escaping-restricted-linux-shells" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">SANS渗透测试</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">编者按:几个月前，在GPWN无笔测试课程校友的邮件列表上，我们有一个很好的，生动的…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">pen-testing.sans.org</p></div></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/e92222b2abc8339eab8188e064e72539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g99Tr0ZdHFnEnuhDB8TSug.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">如何从男人身上得到壳</figcaption></figure><p id="0bbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个想法是，我们将从man获得Shell，所以首先我必须知道如何从vim进入Man页面，因为就我个人而言，我不是vim用户。</p><div class="mj mk gp gr ml mm"><a href="http://vim.wikia.com/wiki/View_man_pages_in_Vim" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">查看Vim中的手册页</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">提示606可打印的Monobook上一页下一页创建于2003年复杂性基础作者Manas Behera版本5.7你可以…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">vim.wikia.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kv mm"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nc"><img src="../Images/3d50dddeb1ac2eb15af2e15ef6d57fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*odmIW-U_6uG3gsU5JnCCMw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">查看vim中的手册页</figcaption></figure><p id="a47b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好的，让我们按K:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/d3db927d8e3614af61d8849ecd15b8b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pMCZ-ErjPG7H6YW8EVJxmA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">进入vim手册页</figcaption></figure><p id="bb2a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，让我们把我们从所阅读的题目中得到的重要的东西放在一起，以便得到外壳:</p><blockquote class="ma mb mc"><p id="a164" class="jn jo md jp b jq jr js jt ju jv jw jx me jz ka kb mf kd ke kf mg kh ki kj kk ij bi translated"><strong class="jp ir">！/bin/sh </strong></p></blockquote><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/7a28c59f2087cb242527c1932669f5f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5v1azmmposFr9MOhwZ89A.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">从Vim获得Shell</figcaption></figure><p id="4a3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">耶…让我们享受浏览和阅读国旗！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nf"><img src="../Images/58cb7e181ed62479d7e17bb7fe78d693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcEs86CLWePfbTpDSHXwpg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">有旗子吗</figcaption></figure><blockquote class="ma mb mc"><p id="4418" class="jn jo md jp b jq jr js jt ju jv jw jx me jz ka kb mf kd ke kf mg kh ki kj kk ij bi translated">标志是:<strong class="jp ir">TWCTF { the _ man _ with _ the _ vim }</strong></p></blockquote><p id="df0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个很酷很有趣的挑战，我很喜欢，我希望我会在服务器上遇到这样的挑战，以便获得更多的外壳…</p><p id="d287" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我想特别感谢这次挑战的发起者和TokyoWesterns团队。如果你有兴趣阅读这篇文章的第一部分，请查看并享受阅读:<a class="ae mh" href="https://medium.com/@Abdelkad3r/tokyowesterns-ctf-4th-2018-writeup-part-1-78558397cb7b" rel="noopener"> <strong class="jp ir">东京西部4th 2018年第4期文章—第1部分</strong> </a>。</p></div></div>    
</body>
</html>