<html>
<head>
<title>Create Your Ultimate Bug Bounty Automation Without Nerdy Bash Skills (Part 3)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无需书呆子气的Bash技能，即可创建您的终极Bug奖励自动化(第3部分)</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/create-your-ultimate-bug-bounty-automation-without-nerdy-bash-skills-part-3-7ee2b353a781?source=collection_archive---------2-----------------------#2022-05-15">https://infosecwriteups.com/create-your-ultimate-bug-bounty-automation-without-nerdy-bash-skills-part-3-7ee2b353a781?source=collection_archive---------2-----------------------#2022-05-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3aa1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在前一篇文章中，详细介绍了语法、变量及其用法。最后一部分是关于程序的安装和运行。</p><div class="kl km gp gr kn ko"><a href="https://github.com/tarunKoyalwar/talosplus" rel="noopener  ugc nofollow" target="_blank"><div class="kp ab fo"><div class="kq ab kr cl cj ks"><h2 class="bd ir gy z fp kt fr fs ku fu fw ip bi translated">GitHub - tarunKoyalwar/talosplus:无需学习即可创建和运行智能自动化脚本…</h2><div class="kv l"><h3 class="bd b gy z fp kt fr fs ku fu fw dk translated">Talosplus是一个以更快的速度运行bash脚本的工具，它使用goroutines和一些…</h3></div><div class="kw l"><p class="bd b dl z fp kt fr fs ku fu fw dk translated">github.com</p></div></div><div class="kx l"><div class="ky l kz la lb kx lc ld ko"/></div></div></a></div><p id="093a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">先决条件— </strong></p><ol class=""><li id="46ba" class="le lf iq jp b jq jr ju jv jy lg kc lh kg li kk lj lk ll lm bi translated">在您的发行版上安装MongoDB。你可以在   <strong class="jp ir"> <em class="lo">找到更多关于安装<a class="ae ln" href="https://www.mongodb.com/docs/manual/administration/install-on-linux/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="lo">的说明。</em>T15】</strong></a></em></strong></li></ol><p id="542b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.确保你已经安装了GO。</p><p id="233c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.运行以下命令从源安装</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="40e4" class="ly lz iq lu b gy ma mb l mc md">go install github.com/tarunKoyalwar/talosplus/cmd/talosplus@latest</span></pre><p id="deb2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">连接到数据库— </strong></p><p id="787f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您已经在本地机器上安装了MongoDB，那么程序将使用默认的URL并连接到数据库。如果MongoDB安装在远程机器上，获得<strong class="jp ir"> <em class="lo"> MongoDB连接字符串</em> </strong>(你可以在这里  找到更多细节<a class="ae ln" href="https://www.mongodb.com/docs/manual/reference/connection-string/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="lo">)并使用下面的命令将其设置为默认URL。这些更改是持久的，保存在`＄HOME/中。' config/talos/talos.json '</em></strong></a></p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="6417" class="ly lz iq lu b gy ma mb l mc md">talosplus use -u YOUR_MONGO_URL</span></pre><p id="124b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">配置不和谐— </strong></p><p id="fbc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建不和谐钩子(可以在这里  找到一些细节<a class="ae ln" href="https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="lo">)。它将以下面指定的格式记下值来代替Webhook URL中的<code class="fe me mf mg lu b">id</code>和<code class="fe me mf mg lu b">token</code>参数</em></strong></a></p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="22d2" class="ly lz iq lu b gy ma mb l mc md"><a class="ae ln" href="https://discord.com/api/webhooks/id/token" rel="noopener ugc nofollow" target="_blank">https://discord.com/api/webhooks/id/token</a></span></pre><p id="d02b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些也可以在运行时使用参数<code class="fe me mf mg lu b">--id</code>和<code class="fe me mf mg lu b">--token</code>传递，但是最简单的方法是将它们添加到您的$HOME/中。bashrc文件或。zshrc文件，具体取决于您使用的shell。您可以添加类似于以下内容的内容</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="5394" class="ly lz iq lu b gy ma mb l mc md"># Discord Webhook<br/>export DISCORD_WID="95xxxxxxxxxxxxxx20" <br/>export DISCORD_WTOKEN="18sixxxxx_xxxxxxxxxxxxxxxxxxxxxWtf"</span></pre><p id="2e1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">数据库和程序设置— </strong></p><p id="8503" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在运行脚本文件之前，必须指定要使用的程序名和数据库名。根据您的需要，您可以使用一个或多个数据库。我通常为每个平台创建不同的数据库。如果我在Hackerone上编写语法程序，我会运行下面的命令</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="9bb9" class="ly lz iq lu b gy ma mb l mc md">talosplus use --db hackerone -p grammarly</span></pre><p id="c4b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以通过运行以下命令来查看这些设置</p><figure class="lp lq lr ls gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mh"><img src="../Images/c16c3b8ca4be98d5089fa52255243f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*utL1RqoSVuG1rEXIxBv7Ag.png"/></div></div></figure><p id="1e6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">运行任何脚本— </strong></p><p id="fd6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两种方式运行脚本文件你可以使用<code class="fe me mf mg lu b">talosplus run -s path/to/script/</code>或如下图所示的命令</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="9e34" class="ly lz iq lu b gy ma mb l mc md">talosplus use -s examples/subenum.sh</span></pre><blockquote class="mo mp mq"><p id="c3f7" class="jn jo lo jp b jq jr js jt ju jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj kk ij bi translated">我使用这个脚本作为所有程序的通用脚本，我只是改变了这里的主要变量<code class="fe me mf mg lu b">@rootsubs and @outscope</code>。如果你直接运行这些，你会在输出的最后看到类似下图的东西</p></blockquote><figure class="lp lq lr ls gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mu"><img src="../Images/b5907fe9a7916aba77442d54e8c5279d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VcM3oKniW9jNvn0nHd8pKw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">静态分析失败</figcaption></figure><p id="81e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以如果我在HackerOne上做语法方面的工作，我会为程序端点设置rootsubs和outscore值</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="72bd" class="ly lz iq lu b gy ma mb l mc md">Ex:<br/>talosplus set --var @rootsubs grammarly.io<br/>or<br/>// Can Also Pipe in data from any file<br/>cat somesubs | talosplus set --var @rootsubs<br/>or<br/>// It is also possible to use data present in Clipboard <br/>talosplus set --var @rootsubs -i<br/>or<br/>// My Favourite among all others using cat and EOF<br/>cat &lt;&lt;EOF | talosplus set --var @rootsubs</span><span id="0363" class="ly lz iq lu b gy mz mb l mc md">// After running this command it will ask for input just enter all<br/>// details and on new line enter EOF something similar to this</span><span id="5d5b" class="ly lz iq lu b gy mz mb l mc md">grammarly.io<br/>grammarly.ai<br/>EOF`</span></pre><p id="3c28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">查看数据库中设置的变量— </strong></p><blockquote class="mo mp mq"><p id="2506" class="jn jo lo jp b jq jr js jt ju jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj kk ij bi translated">要查看显式设置的所有变量及其值，请运行以下命令</p></blockquote><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d6e9" class="ly lz iq lu b gy ma mb l mc md">talosplus get --show</span></pre><blockquote class="mo mp mq"><p id="1c48" class="jn jo lo jp b jq jr js jt ju jv jw jx mr jz ka kb ms kd ke kf mt kh ki kj kk ij bi translated">获取到目前为止在运行时显式设置和创建的所有变量名的列表。</p></blockquote><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="2944" class="ly lz iq lu b gy ma mb l mc md">talosplus get --list</span></pre><p id="958b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">运行脚本— </strong></p><p id="ba7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们运行一个脚本时，在后台执行的实际步骤是<code class="fe me mf mg lu b">Compile -&gt; Static Analyis -&gt; Summarize -&gt; Print ALL CMDs -&gt; Schedule -&gt; Execute all</code>，如果你不想运行，只需在运行前完成所有步骤。在命令下运行</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="9a96" class="ly lz iq lu b gy ma mb l mc md">talosplus run --dryrun</span><span id="d58d" class="ly lz iq lu b gy mz mb l mc md">// You can furthur explore options<br/>talosplus run -h</span></pre><figure class="lp lq lr ls gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi na"><img src="../Images/7b964a4490fe351dd70524262d859906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zpMZXtrk5WG6Bhzogt9-HA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk translated">命令输出示例</figcaption></figure><p id="5f07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">恢复预运行脚本— </strong></p><p id="9241" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">talosplus不保存任何状态数据。cfg或命令，数据库中的散列只变量和它们的值被导出，这给了我们完全改变任何脚本的灵活性，而不用考虑任何兼容性问题。因此，如果脚本由于一些错误或用户强制退出而停止。您可以修复错误，然后使用相同的命令重新运行。默认情况下，它将根据程序的导出，从上次成功运行开始进行分析。</p><p id="b0e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">黑名单任意命令(实验)</strong></p><p id="bcde" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您已经运行了脚本，并且想要重新运行任何特定的命令及其派生命令，请确定您想要更改的变量，然后运行以下命令。这将重新计划并运行由于该变量的更改而受到影响的命令</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="7af1" class="ly lz iq lu b gy ma mb l mc md">talosplus run -b @filtered</span></pre><p id="df14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">缓存</strong></p><p id="3eb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是命令成功执行后的一个额外特性，默认情况下，它会将输出以格式<code class="fe me mf mg lu b">cmdname-xxxxhashxxx</code>缓存到cachedir。如果我们有意或无意地运行相同的命令，它将只使用缓存的值。如果你不喜欢这个特性，你可以通过设置env变量purge来禁用它</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="6190" class="ly lz iq lu b gy ma mb l mc md">talosplus set --var @purge true</span></pre><p id="22be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">其他特性</strong></p><p id="8a73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Talosplus还有其他重要的边缘特性，比如根据需要调度命令，识别命令是否因为bash脚本或不正确的语法而无法运行，或者命令本身死机。如果你对这些是如何完成的感兴趣，只需阅读代码，我已经尽力保持代码简单，并有很多评论。</p></div></div>    
</body>
</html>