<html>
<head>
<title>SQL injection with load file and into outfile</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将文件加载到输出文件的SQL注入</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/sql-injection-with-load-file-and-into-outfile-c62f7d92c4e2?source=collection_archive---------0-----------------------#2018-02-05">https://infosecwriteups.com/sql-injection-with-load-file-and-into-outfile-c62f7d92c4e2?source=collection_archive---------0-----------------------#2018-02-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2b7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这次提交让我在h1上得到了病人徽章，因为这已经超过6个月(1年)了，呵呵呵呵。用撇号(')测试时，我得到了sqli漏洞。抱歉，编辑们。😛</p><p id="381e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我确实像往常一样在网上注册了会员。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/1a7f2fd6d8ba2da66b802e6e71d8d596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VBnXDd7whvcVU9rfhFz7dQ.png"/></div></div></figure><p id="a246" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后得到了重定向，把所有表单信息都贴在这里<a class="ae kx" href="https://www.blablabla.com/svc/*****/form_affiliate" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">【https://www.blablabla.com/svc/*****/form_affiliate】</strong></a>。<strong class="jp ir"> </strong>选择它并发送到中继器。易受攻击的参数是<strong class="jp ir"> email </strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ky"><img src="../Images/7d96592439de1260a563e82c3260a97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p0N4Tg7ch5-bn-qG0SvtvQ.png"/></div></div></figure><p id="7c74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在请求框中，我在“<strong class="jp ir"> email </strong>”参数<strong class="jp ir">”中输入这个SQL命令，1 = 2 union all select concat _ ws(0x3a，version()，user()，database()) — </strong>并单击<strong class="jp ir"> Go </strong>(这个命令将显示版本、用户和数据库名称)</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/560f939eb62bcc35dafdaa4121de7e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HVZM9_fYpZ_TL3tVxb3c2g.png"/></div></div></figure><p id="97d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果显示在响应框"<strong class="jp ir"> 5.5.41-log:root@10.130中。*.**:tp_cart </strong>”。现在我试着把SQL命令改成这个load file命令<strong class="jp ir">'和1 = 2 union all select load _ file('/etc/passwd ')</strong>和boom！拿到通行证了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/92d0e93e82373ffad35879e6f31a1f81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Rp3pB9st7efA70sg4t97g.png"/></div></div></figure><p id="d8fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将load file命令更改为into outfile命令，以在/tmp <strong class="jp ir">上创建一个文件，1 = 2 union all select ' blablabla _ bug _ bounty _ program ' into outfile '/tmp/blablabla '—</strong>该命令意味着将blablabla_bug_bounty_program写入/tmp目录下的blabla bla文件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/06562345e285db8091bdbae0240f7e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U0LcAWGXs5_RZMorCP_crw.png"/></div></div></figure><p id="9c6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我再次使用load file来查看文件是否是使用这个命令创建的<strong class="jp ir">和1=2 union都选择load _ file('/tmp/blabla bla ')</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kz"><img src="../Images/ae4c9f937ef0f7f776f1ce5227d91180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyJRaHwjpXJuyiiuyLI7dA.png"/></div></div></figure><p id="131a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而且创建成功了！所以我得到了sqli，也可以在服务器上创建一个文件。</p><p id="a67e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">快乐的黑客们！😃</p></div></div>    
</body>
</html>