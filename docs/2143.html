<html>
<head>
<title>Create a Hidden IRC Server with The Onion Router (TOR)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用洋葱路由器(TOR)创建一个隐藏的IRC服务器</h1>
<blockquote>原文：<a href="https://infosecwriteups.com/create-a-hidden-irc-server-with-the-onion-router-tor-c839e3a81d78?source=collection_archive---------0-----------------------#2022-06-20">https://infosecwriteups.com/create-a-hidden-irc-server-with-the-onion-router-tor-c839e3a81d78?source=collection_archive---------0-----------------------#2022-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1119" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">与无法追踪的IRC服务器进行秘密通信的指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4d6671de5bf78742903f00476ca94796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5MAM3tiZ1rzgFUS9"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">克林特·帕特森在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8da5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你想和你的匿名团队建立秘密联系吗？<br/>或者，你和一个秘密团队成员有一个秘密项目？</p><p id="e7eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我会支持你所需要的。</p><p id="a3c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">IRC代表互联网中继聊天，是一个基于文本的聊天系统，用于<a class="ae kv" href="https://en.wikipedia.org/wiki/Instant_messaging" rel="noopener ugc nofollow" target="_blank">即时通讯</a>(<a class="ae kv" href="https://en.wikipedia.org/wiki/Internet_Relay_Chat" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Internet_Relay_Chat</a>)。IRC的过程是基于客户-服务器网络模型的。</p><p id="e5fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，当你想和别人聊天时，你需要IRC服务器和IRC客户端。</p><h2 id="1912" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">洋葱路由器？</strong></h2><p id="0304" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">TOR或洋葱路由器是匿名的答案，这个协议帮助你进行秘密通信，而不知道你的IP地址或你的分析活动。</p><blockquote class="mq mr ms"><p id="417f" class="kw kx mt ky b kz la jr lb lc ld ju le mu lg lh li mv lk ll lm mw lo lp lq lr ij bi translated">隐私是一项人权</p></blockquote><p id="7d21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的引用是我喜欢TOR的原因之一。我赞同TOR Project的说法，就是“每个人都值得拥有隐私”。</p><p id="a486" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，正如我之前提到的，今天我们将为聊天系统与IRC进行秘密交流，为神奇的匿名与TOR进行秘密交流。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h2 id="930a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">设置IRC服务器</h2><p id="5874" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在这个例子中，我使用Ubuntu server 20.04作为IRC服务器的虚拟机。</p><p id="72b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先安装<strong class="ky ir">检查器</strong>和<strong class="ky ir">转子</strong>。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="0b16" class="ls lt iq nf b gy nj nk l nl nm">sudo apt install -y inspircd tor</span></pre><p id="a057" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<strong class="ky ir">/etc/inspircd/inspircd . motd</strong>中更改你的标题，如果你这么懒，就从我的标题中复制。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="a655" class="ls lt iq nf b gy nj nk l nl nm">-------------------------------------<br/>Welcome to super secret chat<br/>-------------------------------------</span></pre><p id="fb32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后运行服务并检查状态，</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="18bd" class="ls lt iq nf b gy nj nk l nl nm">sudo service inspircd start &amp;&amp; sudo service inspircd status</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/6fd57eee125049c2a0b42640ea22448b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v0YwQwTalTzCOh7wvzTMhw.png"/></div></div></figure><p id="62f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<strong class="ky ir">/etc/insp ircd/insp ircd . conf</strong>更改配置，对于IRC服务器的概念验证，我将地址绑定到机器IP，因为如果您使用默认的(127.0.0.1 ),您的IRC服务器将无法与其他机器通信。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/941e1d9bb01677889202a1dd48dacd75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d7lSJ0CNxKoUw66wQqmE_g.png"/></div></div></figure><p id="183b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的IRC服务器已经准备好进行下一步了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/69810c8626f11eb99df29dce0ae5f9a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g9-e7sNwX4RBvUnJ7AVk8g.png"/></div></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h2 id="f67a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">用TOR创建一个隐藏的服务</h2><p id="d094" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">确保将绑定地址更改为loopback (127.0.0.1 ),因为您必须将tor配置中的隐藏服务设置为localhost:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/2d5f13c3020d1b683d90deb3d292fbca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDE1TuI_g7m0vLLp9zlExA.png"/></div></div></figure><p id="cf8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后用下面的配置更改<strong class="ky ir"> torrc </strong>文件(<strong class="ky ir"> /etc/tor/torrc </strong>)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/1ebf40291040eae4b92e2eeb600b3392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BF3UkxHwqDpo7oXPTSpb9w.png"/></div></div></figure><p id="0158" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在IRC服务器后台运行<strong class="ky ir"> tor </strong>并获得洋葱域名。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="1aee" class="ls lt iq nf b gy nj nk l nl nm">sudo tor &amp;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/19552d13c794ec9f7fdf81514d19e02b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oWmo04CHk18av0w8XEbKaw.png"/></div></div></figure><p id="cdac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">祝贺你，你的隐藏IRC服务器是活的。</p><h2 id="4d67" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">加入IRC服务器</h2><p id="7bee" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">首先，你必须在你的电脑上运行tor网络，下面的命令让你加入tor中继。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="ee79" class="ls lt iq nf b gy nj nk l nl nm">sudo tor &amp;</span></pre><p id="1623" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后用下面的代理设置配置你的IRC客户端:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="c56a" class="ls lt iq nf b gy nj nk l nl nm">Hostname: 127.0.0.1<br/>Port: 9050<br/>Type: SOCKS5</span></pre><p id="9360" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我使用HexChat，这是我的网络设置</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/59d47394aa69c93dd8bafc5d92de347c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0XoyaP74icOi3R2w4JAWnw.png"/></div></div></figure><p id="8fca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，你的服务器和你的电脑在同一个网络，tor。所以你可以用洋葱域名连接到<strong class="ky ir">secret-IRT-or</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/99e93a0ddab0f03e2a38a96ce05f5625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*BvCrMM9QoKKnRrNw2bjt8Q.png"/></div></figure><p id="f645" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">连接到网络，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/8c2affac03e72712354ec090872d4b3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*EF6hDbYb5LHhi-KDr9H7uQ.png"/></div></figure><p id="ed2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">答对了……<br/>你已经和隐藏的IRC服务器连接上了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/836748f34608a4fb0d86a46826575dd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tgtg8XfYGHDvFlbshyhrTw.png"/></div></div></figure><h2 id="43e8" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">演示</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/77cc4737b5c3e3d7d1f84720aa4cae0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QHnUseRk8f9CzViJJ3-FCw.gif"/></div></div></figure><h2 id="e7bc" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">结论</h2><p id="df41" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">TOR网络保护您的隐私并保持匿名。上面的教程只是为了学习，我希望你明智地使用这些知识。</p><blockquote class="mq mr ms"><p id="9c55" class="kw kx mt ky b kz la jr lb lc ld ju le mu lg lh li mv lk ll lm mw lo lp lq lr ij bi translated">任何利用上述知识的犯罪都超出了我的责任范围。</p></blockquote><p id="5895" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>